(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();function Cm(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var _c={exports:{}},Hs={},wc={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function V0(){if(Np)return ve;Np=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),O=Symbol.iterator;function j(_){return _===null||typeof _!="object"?null:(_=O&&_[O]||_["@@iterator"],typeof _=="function"?_:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,he={};function oe(_,T,J){this.props=_,this.context=T,this.refs=he,this.updater=J||U}oe.prototype.isReactComponent={},oe.prototype.setState=function(_,T){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,T,"setState")},oe.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function E(){}E.prototype=oe.prototype;function pe(_,T,J){this.props=_,this.context=T,this.refs=he,this.updater=J||U}var De=pe.prototype=new E;De.constructor=pe,W(De,oe.prototype),De.isPureReactComponent=!0;var _e=Array.isArray,Ye=Object.prototype.hasOwnProperty,Fe={current:null},Ue={key:!0,ref:!0,__self:!0,__source:!0};function we(_,T,J){var Ie,me={},Ve=null,Te=null;if(T!=null)for(Ie in T.ref!==void 0&&(Te=T.ref),T.key!==void 0&&(Ve=""+T.key),T)Ye.call(T,Ie)&&!Ue.hasOwnProperty(Ie)&&(me[Ie]=T[Ie]);var Pe=arguments.length-2;if(Pe===1)me.children=J;else if(1<Pe){for(var Ee=Array(Pe),At=0;At<Pe;At++)Ee[At]=arguments[At+2];me.children=Ee}if(_&&_.defaultProps)for(Ie in Pe=_.defaultProps,Pe)me[Ie]===void 0&&(me[Ie]=Pe[Ie]);return{$$typeof:r,type:_,key:Ve,ref:Te,props:me,_owner:Fe.current}}function _t(_,T){return{$$typeof:r,type:_.type,key:T,ref:_.ref,props:_.props,_owner:_._owner}}function at(_){return typeof _=="object"&&_!==null&&_.$$typeof===r}function Un(_){var T={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(J){return T[J]})}var Xt=/\/+/g;function bt(_,T){return typeof _=="object"&&_!==null&&_.key!=null?Un(""+_.key):T.toString(36)}function $t(_,T,J,Ie,me){var Ve=typeof _;(Ve==="undefined"||Ve==="boolean")&&(_=null);var Te=!1;if(_===null)Te=!0;else switch(Ve){case"string":case"number":Te=!0;break;case"object":switch(_.$$typeof){case r:case e:Te=!0}}if(Te)return Te=_,me=me(Te),_=Ie===""?"."+bt(Te,0):Ie,_e(me)?(J="",_!=null&&(J=_.replace(Xt,"$&/")+"/"),$t(me,T,J,"",function(At){return At})):me!=null&&(at(me)&&(me=_t(me,J+(!me.key||Te&&Te.key===me.key?"":(""+me.key).replace(Xt,"$&/")+"/")+_)),T.push(me)),1;if(Te=0,Ie=Ie===""?".":Ie+":",_e(_))for(var Pe=0;Pe<_.length;Pe++){Ve=_[Pe];var Ee=Ie+bt(Ve,Pe);Te+=$t(Ve,T,J,Ee,me)}else if(Ee=j(_),typeof Ee=="function")for(_=Ee.call(_),Pe=0;!(Ve=_.next()).done;)Ve=Ve.value,Ee=Ie+bt(Ve,Pe++),Te+=$t(Ve,T,J,Ee,me);else if(Ve==="object")throw T=String(_),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.");return Te}function hn(_,T,J){if(_==null)return _;var Ie=[],me=0;return $t(_,Ie,"","",function(Ve){return T.call(J,Ve,me++)}),Ie}function kt(_){if(_._status===-1){var T=_._result;T=T(),T.then(function(J){(_._status===0||_._status===-1)&&(_._status=1,_._result=J)},function(J){(_._status===0||_._status===-1)&&(_._status=2,_._result=J)}),_._status===-1&&(_._status=0,_._result=T)}if(_._status===1)return _._result.default;throw _._result}var ze={current:null},M={transition:null},K={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:M,ReactCurrentOwner:Fe};return ve.Children={map:hn,forEach:function(_,T,J){hn(_,function(){T.apply(this,arguments)},J)},count:function(_){var T=0;return hn(_,function(){T++}),T},toArray:function(_){return hn(_,function(T){return T})||[]},only:function(_){if(!at(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},ve.Component=oe,ve.Fragment=n,ve.Profiler=a,ve.PureComponent=pe,ve.StrictMode=o,ve.Suspense=m,ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,ve.cloneElement=function(_,T,J){if(_==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_+".");var Ie=W({},_.props),me=_.key,Ve=_.ref,Te=_._owner;if(T!=null){if(T.ref!==void 0&&(Ve=T.ref,Te=Fe.current),T.key!==void 0&&(me=""+T.key),_.type&&_.type.defaultProps)var Pe=_.type.defaultProps;for(Ee in T)Ye.call(T,Ee)&&!Ue.hasOwnProperty(Ee)&&(Ie[Ee]=T[Ee]===void 0&&Pe!==void 0?Pe[Ee]:T[Ee])}var Ee=arguments.length-2;if(Ee===1)Ie.children=J;else if(1<Ee){Pe=Array(Ee);for(var At=0;At<Ee;At++)Pe[At]=arguments[At+2];Ie.children=Pe}return{$$typeof:r,type:_.type,key:me,ref:Ve,props:Ie,_owner:Te}},ve.createContext=function(_){return _={$$typeof:f,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_.Provider={$$typeof:u,_context:_},_.Consumer=_},ve.createElement=we,ve.createFactory=function(_){var T=we.bind(null,_);return T.type=_,T},ve.createRef=function(){return{current:null}},ve.forwardRef=function(_){return{$$typeof:h,render:_}},ve.isValidElement=at,ve.lazy=function(_){return{$$typeof:I,_payload:{_status:-1,_result:_},_init:kt}},ve.memo=function(_,T){return{$$typeof:y,type:_,compare:T===void 0?null:T}},ve.startTransition=function(_){var T=M.transition;M.transition={};try{_()}finally{M.transition=T}},ve.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},ve.useCallback=function(_,T){return ze.current.useCallback(_,T)},ve.useContext=function(_){return ze.current.useContext(_)},ve.useDebugValue=function(){},ve.useDeferredValue=function(_){return ze.current.useDeferredValue(_)},ve.useEffect=function(_,T){return ze.current.useEffect(_,T)},ve.useId=function(){return ze.current.useId()},ve.useImperativeHandle=function(_,T,J){return ze.current.useImperativeHandle(_,T,J)},ve.useInsertionEffect=function(_,T){return ze.current.useInsertionEffect(_,T)},ve.useLayoutEffect=function(_,T){return ze.current.useLayoutEffect(_,T)},ve.useMemo=function(_,T){return ze.current.useMemo(_,T)},ve.useReducer=function(_,T,J){return ze.current.useReducer(_,T,J)},ve.useRef=function(_){return ze.current.useRef(_)},ve.useState=function(_){return ze.current.useState(_)},ve.useSyncExternalStore=function(_,T,J){return ze.current.useSyncExternalStore(_,T,J)},ve.useTransition=function(){return ze.current.useTransition()},ve.version="18.3.0",ve}var Op;function od(){return Op||(Op=1,wc.exports=V0()),wc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp;function $0(){if(Dp)return Hs;Dp=1;var r=od(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function f(h,m,y){var I,O={},j=null,U=null;y!==void 0&&(j=""+y),m.key!==void 0&&(j=""+m.key),m.ref!==void 0&&(U=m.ref);for(I in m)o.call(m,I)&&!u.hasOwnProperty(I)&&(O[I]=m[I]);if(h&&h.defaultProps)for(I in m=h.defaultProps,m)O[I]===void 0&&(O[I]=m[I]);return{$$typeof:e,type:h,key:j,ref:U,props:O,_owner:a.current}}return Hs.Fragment=n,Hs.jsx=f,Hs.jsxs=f,Hs}var Tp;function Z0(){return Tp||(Tp=1,_c.exports=$0()),_c.exports}var x=Z0(),tt=od();const W0=Cm(tt);var Ta={},Sc={exports:{}},Ft={},Ic={exports:{}},xc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap;function H0(){return Ap||(Ap=1,function(r){function e(M,K){var _=M.length;M.push(K);e:for(;0<_;){var T=_-1>>>1,J=M[T];if(0<a(J,K))M[T]=K,M[_]=J,_=T;else break e}}function n(M){return M.length===0?null:M[0]}function o(M){if(M.length===0)return null;var K=M[0],_=M.pop();if(_!==K){M[0]=_;e:for(var T=0,J=M.length,Ie=J>>>1;T<Ie;){var me=2*(T+1)-1,Ve=M[me],Te=me+1,Pe=M[Te];if(0>a(Ve,_))Te<J&&0>a(Pe,Ve)?(M[T]=Pe,M[Te]=_,T=Te):(M[T]=Ve,M[me]=_,T=me);else if(Te<J&&0>a(Pe,_))M[T]=Pe,M[Te]=_,T=Te;else break e}}return K}function a(M,K){var _=M.sortIndex-K.sortIndex;return _!==0?_:M.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();r.unstable_now=function(){return f.now()-h}}var m=[],y=[],I=1,O=null,j=3,U=!1,W=!1,he=!1,oe=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,pe=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function De(M){for(var K=n(y);K!==null;){if(K.callback===null)o(y);else if(K.startTime<=M)o(y),K.sortIndex=K.expirationTime,e(m,K);else break;K=n(y)}}function _e(M){if(he=!1,De(M),!W)if(n(m)!==null)W=!0,kt(Ye);else{var K=n(y);K!==null&&ze(_e,K.startTime-M)}}function Ye(M,K){W=!1,he&&(he=!1,E(we),we=-1),U=!0;var _=j;try{for(De(K),O=n(m);O!==null&&(!(O.expirationTime>K)||M&&!Un());){var T=O.callback;if(typeof T=="function"){O.callback=null,j=O.priorityLevel;var J=T(O.expirationTime<=K);K=r.unstable_now(),typeof J=="function"?O.callback=J:O===n(m)&&o(m),De(K)}else o(m);O=n(m)}if(O!==null)var Ie=!0;else{var me=n(y);me!==null&&ze(_e,me.startTime-K),Ie=!1}return Ie}finally{O=null,j=_,U=!1}}var Fe=!1,Ue=null,we=-1,_t=5,at=-1;function Un(){return!(r.unstable_now()-at<_t)}function Xt(){if(Ue!==null){var M=r.unstable_now();at=M;var K=!0;try{K=Ue(!0,M)}finally{K?bt():(Fe=!1,Ue=null)}}else Fe=!1}var bt;if(typeof pe=="function")bt=function(){pe(Xt)};else if(typeof MessageChannel<"u"){var $t=new MessageChannel,hn=$t.port2;$t.port1.onmessage=Xt,bt=function(){hn.postMessage(null)}}else bt=function(){oe(Xt,0)};function kt(M){Ue=M,Fe||(Fe=!0,bt())}function ze(M,K){we=oe(function(){M(r.unstable_now())},K)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(M){M.callback=null},r.unstable_continueExecution=function(){W||U||(W=!0,kt(Ye))},r.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_t=0<M?Math.floor(1e3/M):5},r.unstable_getCurrentPriorityLevel=function(){return j},r.unstable_getFirstCallbackNode=function(){return n(m)},r.unstable_next=function(M){switch(j){case 1:case 2:case 3:var K=3;break;default:K=j}var _=j;j=K;try{return M()}finally{j=_}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(M,K){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var _=j;j=M;try{return K()}finally{j=_}},r.unstable_scheduleCallback=function(M,K,_){var T=r.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?T+_:T):_=T,M){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=_+J,M={id:I++,callback:K,priorityLevel:M,startTime:_,expirationTime:J,sortIndex:-1},_>T?(M.sortIndex=_,e(y,M),n(m)===null&&M===n(y)&&(he?(E(we),we=-1):he=!0,ze(_e,_-T))):(M.sortIndex=J,e(m,M),W||U||(W=!0,kt(Ye))),M},r.unstable_shouldYield=Un,r.unstable_wrapCallback=function(M){var K=j;return function(){var _=j;j=K;try{return M.apply(this,arguments)}finally{j=_}}}}(xc)),xc}var Cp;function Q0(){return Cp||(Cp=1,Ic.exports=H0()),Ic.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep;function J0(){if(Ep)return Ft;Ep=1;var r=od(),e=Q0();function n(t){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function u(t,i){f(t,i),f(t+"Capture",i)}function f(t,i){for(a[t]=i,t=0;t<i.length;t++)o.add(i[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I={},O={};function j(t){return m.call(O,t)?!0:m.call(I,t)?!1:y.test(t)?O[t]=!0:(I[t]=!0,!1)}function U(t,i,s,l){if(s!==null&&s.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return l?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function W(t,i,s,l){if(i===null||typeof i>"u"||U(t,i,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function he(t,i,s,l,c,d,p){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=l,this.attributeNamespace=c,this.mustUseProperty=s,this.propertyName=t,this.type=i,this.sanitizeURL=d,this.removeEmptyString=p}var oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){oe[t]=new he(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var i=t[0];oe[i]=new he(i,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){oe[t]=new he(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){oe[t]=new he(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){oe[t]=new he(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){oe[t]=new he(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){oe[t]=new he(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){oe[t]=new he(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){oe[t]=new he(t,5,!1,t.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function pe(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var i=t.replace(E,pe);oe[i]=new he(i,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var i=t.replace(E,pe);oe[i]=new he(i,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var i=t.replace(E,pe);oe[i]=new he(i,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){oe[t]=new he(t,1,!1,t.toLowerCase(),null,!1,!1)}),oe.xlinkHref=new he("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){oe[t]=new he(t,1,!1,t.toLowerCase(),null,!0,!0)});function De(t,i,s,l){var c=oe.hasOwnProperty(i)?oe[i]:null;(c!==null?c.type!==0:l||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(W(i,s,c,l)&&(s=null),l||c===null?j(i)&&(s===null?t.removeAttribute(i):t.setAttribute(i,""+s)):c.mustUseProperty?t[c.propertyName]=s===null?c.type===3?!1:"":s:(i=c.attributeName,l=c.attributeNamespace,s===null?t.removeAttribute(i):(c=c.type,s=c===3||c===4&&s===!0?"":""+s,l?t.setAttributeNS(l,i,s):t.setAttribute(i,s))))}var _e=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ye=Symbol.for("react.element"),Fe=Symbol.for("react.portal"),Ue=Symbol.for("react.fragment"),we=Symbol.for("react.strict_mode"),_t=Symbol.for("react.profiler"),at=Symbol.for("react.provider"),Un=Symbol.for("react.context"),Xt=Symbol.for("react.forward_ref"),bt=Symbol.for("react.suspense"),$t=Symbol.for("react.suspense_list"),hn=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),ze=Symbol.for("react.offscreen"),M=Symbol.iterator;function K(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var _=Object.assign,T;function J(t){if(T===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);T=i&&i[1]||""}return`
`+T+t}var Ie=!1;function me(t,i){if(!t||Ie)return"";Ie=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(N){var l=N}Reflect.construct(t,[],i)}else{try{i.call()}catch(N){l=N}t.call(i.prototype)}else{try{throw Error()}catch(N){l=N}t()}}catch(N){if(N&&l&&typeof N.stack=="string"){for(var c=N.stack.split(`
`),d=l.stack.split(`
`),p=c.length-1,g=d.length-1;1<=p&&0<=g&&c[p]!==d[g];)g--;for(;1<=p&&0<=g;p--,g--)if(c[p]!==d[g]){if(p!==1||g!==1)do if(p--,g--,0>g||c[p]!==d[g]){var v=`
`+c[p].replace(" at new "," at ");return t.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",t.displayName)),v}while(1<=p&&0<=g);break}}}finally{Ie=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?J(t):""}function Ve(t){switch(t.tag){case 5:return J(t.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return t=me(t.type,!1),t;case 11:return t=me(t.type.render,!1),t;case 1:return t=me(t.type,!0),t;default:return""}}function Te(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ue:return"Fragment";case Fe:return"Portal";case _t:return"Profiler";case we:return"StrictMode";case bt:return"Suspense";case $t:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Un:return(t.displayName||"Context")+".Consumer";case at:return(t._context.displayName||"Context")+".Provider";case Xt:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hn:return i=t.displayName||null,i!==null?i:Te(t.type)||"Memo";case kt:i=t._payload,t=t._init;try{return Te(t(i))}catch{}}return null}function Pe(t){var i=t.type;switch(t.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=i.render,t=t.displayName||t.name||"",i.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(i);case 8:return i===we?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ee(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function At(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Wg(t){var i=At(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,d=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return c.call(this)},set:function(p){l=""+p,d.call(this,p)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(p){l=""+p},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function _o(t){t._valueTracker||(t._valueTracker=Wg(t))}function Cd(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=At(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function wo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Nl(t,i){var s=i.checked;return _({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function Ed(t,i){var s=i.defaultValue==null?"":i.defaultValue,l=i.checked!=null?i.checked:i.defaultChecked;s=Ee(i.value!=null?i.value:s),t._wrapperState={initialChecked:l,initialValue:s,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Bd(t,i){i=i.checked,i!=null&&De(t,"checked",i,!1)}function Ol(t,i){Bd(t,i);var s=Ee(i.value),l=i.type;if(s!=null)l==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(l==="submit"||l==="reset"){t.removeAttribute("value");return}i.hasOwnProperty("value")?Dl(t,i.type,s):i.hasOwnProperty("defaultValue")&&Dl(t,i.type,Ee(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(t.defaultChecked=!!i.defaultChecked)}function Ld(t,i,s){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var l=i.type;if(!(l!=="submit"&&l!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+t._wrapperState.initialValue,s||i===t.value||(t.value=i),t.defaultValue=i}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function Dl(t,i,s){(i!=="number"||wo(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var as=Array.isArray;function li(t,i,s,l){if(t=t.options,i){i={};for(var c=0;c<s.length;c++)i["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=i.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Ee(s),i=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}i!==null||t[c].disabled||(i=t[c])}i!==null&&(i.selected=!0)}}function Tl(t,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return _({},i,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jd(t,i){var s=i.value;if(s==null){if(s=i.children,i=i.defaultValue,s!=null){if(i!=null)throw Error(n(92));if(as(s)){if(1<s.length)throw Error(n(93));s=s[0]}i=s}i==null&&(i=""),s=i}t._wrapperState={initialValue:Ee(s)}}function Fd(t,i){var s=Ee(i.value),l=Ee(i.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),i.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),l!=null&&(t.defaultValue=""+l)}function Md(t){var i=t.textContent;i===t._wrapperState.initialValue&&i!==""&&i!==null&&(t.value=i)}function Pd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Al(t,i){return t==null||t==="http://www.w3.org/1999/xhtml"?Pd(i):t==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var So,Rd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,s,l,c){MSApp.execUnsafeLocalFunction(function(){return t(i,s,l,c)})}:t}(function(t,i){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=i;else{for(So=So||document.createElement("div"),So.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=So.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;i.firstChild;)t.appendChild(i.firstChild)}});function ls(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hg=["Webkit","ms","Moz","O"];Object.keys(us).forEach(function(t){Hg.forEach(function(i){i=i+t.charAt(0).toUpperCase()+t.substring(1),us[i]=us[t]})});function Ud(t,i,s){return i==null||typeof i=="boolean"||i===""?"":s||typeof i!="number"||i===0||us.hasOwnProperty(t)&&us[t]?(""+i).trim():i+"px"}function zd(t,i){t=t.style;for(var s in i)if(i.hasOwnProperty(s)){var l=s.indexOf("--")===0,c=Ud(s,i[s],l);s==="float"&&(s="cssFloat"),l?t.setProperty(s,c):t[s]=c}}var Qg=_({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cl(t,i){if(i){if(Qg[t]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function El(t,i){if(t.indexOf("-")===-1)return typeof i.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bl=null;function Ll(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jl=null,ui=null,ci=null;function Vd(t){if(t=Cs(t)){if(typeof jl!="function")throw Error(n(280));var i=t.stateNode;i&&(i=Zo(i),jl(t.stateNode,t.type,i))}}function $d(t){ui?ci?ci.push(t):ci=[t]:ui=t}function Zd(){if(ui){var t=ui,i=ci;if(ci=ui=null,Vd(t),i)for(t=0;t<i.length;t++)Vd(i[t])}}function Wd(t,i){return t(i)}function Hd(){}var Fl=!1;function Qd(t,i,s){if(Fl)return t(i,s);Fl=!0;try{return Wd(t,i,s)}finally{Fl=!1,(ui!==null||ci!==null)&&(Hd(),Zd())}}function cs(t,i){var s=t.stateNode;if(s===null)return null;var l=Zo(s);if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(n(231,i,typeof s));return s}var Ml=!1;if(h)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){Ml=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{Ml=!1}function Jg(t,i,s,l,c,d,p,g,v){var N=Array.prototype.slice.call(arguments,3);try{i.apply(s,N)}catch(A){this.onError(A)}}var fs=!1,Io=null,xo=!1,Pl=null,Kg={onError:function(t){fs=!0,Io=t}};function Yg(t,i,s,l,c,d,p,g,v){fs=!1,Io=null,Jg.apply(Kg,arguments)}function qg(t,i,s,l,c,d,p,g,v){if(Yg.apply(this,arguments),fs){if(fs){var N=Io;fs=!1,Io=null}else throw Error(n(198));xo||(xo=!0,Pl=N)}}function zr(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function Jd(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function Kd(t){if(zr(t)!==t)throw Error(n(188))}function Gg(t){var i=t.alternate;if(!i){if(i=zr(t),i===null)throw Error(n(188));return i!==t?null:t}for(var s=t,l=i;;){var c=s.return;if(c===null)break;var d=c.alternate;if(d===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===s)return Kd(c),t;if(d===l)return Kd(c),i;d=d.sibling}throw Error(n(188))}if(s.return!==l.return)s=c,l=d;else{for(var p=!1,g=c.child;g;){if(g===s){p=!0,s=c,l=d;break}if(g===l){p=!0,l=c,s=d;break}g=g.sibling}if(!p){for(g=d.child;g;){if(g===s){p=!0,s=d,l=c;break}if(g===l){p=!0,l=d,s=c;break}g=g.sibling}if(!p)throw Error(n(189))}}if(s.alternate!==l)throw Error(n(190))}if(s.tag!==3)throw Error(n(188));return s.stateNode.current===s?t:i}function Yd(t){return t=Gg(t),t!==null?qd(t):null}function qd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var i=qd(t);if(i!==null)return i;t=t.sibling}return null}var Gd=e.unstable_scheduleCallback,Xd=e.unstable_cancelCallback,Xg=e.unstable_shouldYield,ev=e.unstable_requestPaint,nt=e.unstable_now,tv=e.unstable_getCurrentPriorityLevel,Rl=e.unstable_ImmediatePriority,ef=e.unstable_UserBlockingPriority,bo=e.unstable_NormalPriority,nv=e.unstable_LowPriority,tf=e.unstable_IdlePriority,ko=null,bn=null;function rv(t){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(ko,t,void 0,(t.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:ov,iv=Math.log,sv=Math.LN2;function ov(t){return t>>>=0,t===0?32:31-(iv(t)/sv|0)|0}var No=64,Oo=4194304;function hs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Do(t,i){var s=t.pendingLanes;if(s===0)return 0;var l=0,c=t.suspendedLanes,d=t.pingedLanes,p=s&268435455;if(p!==0){var g=p&~c;g!==0?l=hs(g):(d&=p,d!==0&&(l=hs(d)))}else p=s&~c,p!==0?l=hs(p):d!==0&&(l=hs(d));if(l===0)return 0;if(i!==0&&i!==l&&(i&c)===0&&(c=l&-l,d=i&-i,c>=d||c===16&&(d&4194240)!==0))return i;if((l&4)!==0&&(l|=s&16),i=t.entangledLanes,i!==0)for(t=t.entanglements,i&=l;0<i;)s=31-pn(i),c=1<<s,l|=t[s],i&=~c;return l}function av(t,i){switch(t){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lv(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,d=t.pendingLanes;0<d;){var p=31-pn(d),g=1<<p,v=c[p];v===-1?((g&s)===0||(g&l)!==0)&&(c[p]=av(g,i)):v<=i&&(t.expiredLanes|=g),d&=~g}}function Ul(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function nf(){var t=No;return No<<=1,(No&4194240)===0&&(No=64),t}function zl(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function ps(t,i,s){t.pendingLanes|=i,i!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,i=31-pn(i),t[i]=s}function uv(t,i){var s=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;var l=t.eventTimes;for(t=t.expirationTimes;0<s;){var c=31-pn(s),d=1<<c;i[c]=0,l[c]=-1,t[c]=-1,s&=~d}}function Vl(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-pn(s),c=1<<l;c&i|t[l]&i&&(t[l]|=i),s&=~c}}var je=0;function rf(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var sf,$l,of,af,lf,Zl=!1,To=[],ar=null,lr=null,ur=null,ms=new Map,ys=new Map,cr=[],cv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uf(t,i){switch(t){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":ms.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ys.delete(i.pointerId)}}function gs(t,i,s,l,c,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[c]},i!==null&&(i=Cs(i),i!==null&&$l(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,c!==null&&i.indexOf(c)===-1&&i.push(c),t)}function dv(t,i,s,l,c){switch(i){case"focusin":return ar=gs(ar,t,i,s,l,c),!0;case"dragenter":return lr=gs(lr,t,i,s,l,c),!0;case"mouseover":return ur=gs(ur,t,i,s,l,c),!0;case"pointerover":var d=c.pointerId;return ms.set(d,gs(ms.get(d)||null,t,i,s,l,c)),!0;case"gotpointercapture":return d=c.pointerId,ys.set(d,gs(ys.get(d)||null,t,i,s,l,c)),!0}return!1}function cf(t){var i=Vr(t.target);if(i!==null){var s=zr(i);if(s!==null){if(i=s.tag,i===13){if(i=Jd(s),i!==null){t.blockedOn=i,lf(t.priority,function(){of(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ao(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=Hl(t.domEventName,t.eventSystemFlags,i[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Bl=l,s.target.dispatchEvent(l),Bl=null}else return i=Cs(s),i!==null&&$l(i),t.blockedOn=s,!1;i.shift()}return!0}function df(t,i,s){Ao(t)&&s.delete(i)}function fv(){Zl=!1,ar!==null&&Ao(ar)&&(ar=null),lr!==null&&Ao(lr)&&(lr=null),ur!==null&&Ao(ur)&&(ur=null),ms.forEach(df),ys.forEach(df)}function vs(t,i){t.blockedOn===i&&(t.blockedOn=null,Zl||(Zl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,fv)))}function _s(t){function i(c){return vs(c,t)}if(0<To.length){vs(To[0],t);for(var s=1;s<To.length;s++){var l=To[s];l.blockedOn===t&&(l.blockedOn=null)}}for(ar!==null&&vs(ar,t),lr!==null&&vs(lr,t),ur!==null&&vs(ur,t),ms.forEach(i),ys.forEach(i),s=0;s<cr.length;s++)l=cr[s],l.blockedOn===t&&(l.blockedOn=null);for(;0<cr.length&&(s=cr[0],s.blockedOn===null);)cf(s),s.blockedOn===null&&cr.shift()}var di=_e.ReactCurrentBatchConfig,Co=!0;function hv(t,i,s,l){var c=je,d=di.transition;di.transition=null;try{je=1,Wl(t,i,s,l)}finally{je=c,di.transition=d}}function pv(t,i,s,l){var c=je,d=di.transition;di.transition=null;try{je=4,Wl(t,i,s,l)}finally{je=c,di.transition=d}}function Wl(t,i,s,l){if(Co){var c=Hl(t,i,s,l);if(c===null)uu(t,i,l,Eo,s),uf(t,l);else if(dv(c,t,i,s,l))l.stopPropagation();else if(uf(t,l),i&4&&-1<cv.indexOf(t)){for(;c!==null;){var d=Cs(c);if(d!==null&&sf(d),d=Hl(t,i,s,l),d===null&&uu(t,i,l,Eo,s),d===c)break;c=d}c!==null&&l.stopPropagation()}else uu(t,i,l,null,s)}}var Eo=null;function Hl(t,i,s,l){if(Eo=null,t=Ll(l),t=Vr(t),t!==null)if(i=zr(t),i===null)t=null;else if(s=i.tag,s===13){if(t=Jd(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null);return Eo=t,null}function ff(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tv()){case Rl:return 1;case ef:return 4;case bo:case nv:return 16;case tf:return 536870912;default:return 16}default:return 16}}var dr=null,Ql=null,Bo=null;function hf(){if(Bo)return Bo;var t,i=Ql,s=i.length,l,c="value"in dr?dr.value:dr.textContent,d=c.length;for(t=0;t<s&&i[t]===c[t];t++);var p=s-t;for(l=1;l<=p&&i[s-l]===c[d-l];l++);return Bo=c.slice(t,1<l?1-l:void 0)}function Lo(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function jo(){return!0}function pf(){return!1}function Zt(t){function i(s,l,c,d,p){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var g in t)t.hasOwnProperty(g)&&(s=t[g],this[g]=s?s(d):d[g]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?jo:pf,this.isPropagationStopped=pf,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=jo)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=jo)},persist:function(){},isPersistent:jo}),i}var fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jl=Zt(fi),ws=_({},fi,{view:0,detail:0}),mv=Zt(ws),Kl,Yl,Ss,Fo=_({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ss&&(Ss&&t.type==="mousemove"?(Kl=t.screenX-Ss.screenX,Yl=t.screenY-Ss.screenY):Yl=Kl=0,Ss=t),Kl)},movementY:function(t){return"movementY"in t?t.movementY:Yl}}),mf=Zt(Fo),yv=_({},Fo,{dataTransfer:0}),gv=Zt(yv),vv=_({},ws,{relatedTarget:0}),ql=Zt(vv),_v=_({},fi,{animationName:0,elapsedTime:0,pseudoElement:0}),wv=Zt(_v),Sv=_({},fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Iv=Zt(Sv),xv=_({},fi,{data:0}),yf=Zt(xv),bv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ov(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Nv[t])?!!i[t]:!1}function Gl(){return Ov}var Dv=_({},ws,{key:function(t){if(t.key){var i=bv[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Lo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gl,charCode:function(t){return t.type==="keypress"?Lo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Tv=Zt(Dv),Av=_({},Fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gf=Zt(Av),Cv=_({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gl}),Ev=Zt(Cv),Bv=_({},fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lv=Zt(Bv),jv=_({},Fo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Fv=Zt(jv),Mv=[9,13,27,32],Xl=h&&"CompositionEvent"in window,Is=null;h&&"documentMode"in document&&(Is=document.documentMode);var Pv=h&&"TextEvent"in window&&!Is,vf=h&&(!Xl||Is&&8<Is&&11>=Is),_f=" ",wf=!1;function Sf(t,i){switch(t){case"keyup":return Mv.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function If(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hi=!1;function Rv(t,i){switch(t){case"compositionend":return If(i);case"keypress":return i.which!==32?null:(wf=!0,_f);case"textInput":return t=i.data,t===_f&&wf?null:t;default:return null}}function Uv(t,i){if(hi)return t==="compositionend"||!Xl&&Sf(t,i)?(t=hf(),Bo=Ql=dr=null,hi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return vf&&i.locale!=="ko"?null:i.data;default:return null}}var zv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!zv[t.type]:i==="textarea"}function bf(t,i,s,l){$d(l),i=zo(i,"onChange"),0<i.length&&(s=new Jl("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var xs=null,bs=null;function Vv(t){Vf(t,0)}function Mo(t){var i=vi(t);if(Cd(i))return t}function $v(t,i){if(t==="change")return i}var kf=!1;if(h){var eu;if(h){var tu="oninput"in document;if(!tu){var Nf=document.createElement("div");Nf.setAttribute("oninput","return;"),tu=typeof Nf.oninput=="function"}eu=tu}else eu=!1;kf=eu&&(!document.documentMode||9<document.documentMode)}function Of(){xs&&(xs.detachEvent("onpropertychange",Df),bs=xs=null)}function Df(t){if(t.propertyName==="value"&&Mo(bs)){var i=[];bf(i,bs,t,Ll(t)),Qd(Vv,i)}}function Zv(t,i,s){t==="focusin"?(Of(),xs=i,bs=s,xs.attachEvent("onpropertychange",Df)):t==="focusout"&&Of()}function Wv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mo(bs)}function Hv(t,i){if(t==="click")return Mo(i)}function Qv(t,i){if(t==="input"||t==="change")return Mo(i)}function Jv(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var mn=typeof Object.is=="function"?Object.is:Jv;function ks(t,i){if(mn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!m.call(i,c)||!mn(t[c],i[c]))return!1}return!0}function Tf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Af(t,i){var s=Tf(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Tf(s)}}function Cf(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Cf(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ef(){for(var t=window,i=wo();i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=wo(t.document)}return i}function nu(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function Kv(t){var i=Ef(),s=t.focusedElem,l=t.selectionRange;if(i!==s&&s&&s.ownerDocument&&Cf(s.ownerDocument.documentElement,s)){if(l!==null&&nu(s)){if(i=l.start,t=l.end,t===void 0&&(t=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(t,s.value.length);else if(t=(i=s.ownerDocument||document)&&i.defaultView||window,t.getSelection){t=t.getSelection();var c=s.textContent.length,d=Math.min(l.start,c);l=l.end===void 0?d:Math.min(l.end,c),!t.extend&&d>l&&(c=l,l=d,d=c),c=Af(s,d);var p=Af(s,l);c&&p&&(t.rangeCount!==1||t.anchorNode!==c.node||t.anchorOffset!==c.offset||t.focusNode!==p.node||t.focusOffset!==p.offset)&&(i=i.createRange(),i.setStart(c.node,c.offset),t.removeAllRanges(),d>l?(t.addRange(i),t.extend(p.node,p.offset)):(i.setEnd(p.node,p.offset),t.addRange(i)))}}for(i=[],t=s;t=t.parentNode;)t.nodeType===1&&i.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)t=i[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Yv=h&&"documentMode"in document&&11>=document.documentMode,pi=null,ru=null,Ns=null,iu=!1;function Bf(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;iu||pi==null||pi!==wo(l)||(l=pi,"selectionStart"in l&&nu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ns&&ks(Ns,l)||(Ns=l,l=zo(ru,"onSelect"),0<l.length&&(i=new Jl("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=pi)))}function Po(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var mi={animationend:Po("Animation","AnimationEnd"),animationiteration:Po("Animation","AnimationIteration"),animationstart:Po("Animation","AnimationStart"),transitionend:Po("Transition","TransitionEnd")},su={},Lf={};h&&(Lf=document.createElement("div").style,"AnimationEvent"in window||(delete mi.animationend.animation,delete mi.animationiteration.animation,delete mi.animationstart.animation),"TransitionEvent"in window||delete mi.transitionend.transition);function Ro(t){if(su[t])return su[t];if(!mi[t])return t;var i=mi[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in Lf)return su[t]=i[s];return t}var jf=Ro("animationend"),Ff=Ro("animationiteration"),Mf=Ro("animationstart"),Pf=Ro("transitionend"),Rf=new Map,Uf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fr(t,i){Rf.set(t,i),u(i,[t])}for(var ou=0;ou<Uf.length;ou++){var au=Uf[ou],qv=au.toLowerCase(),Gv=au[0].toUpperCase()+au.slice(1);fr(qv,"on"+Gv)}fr(jf,"onAnimationEnd"),fr(Ff,"onAnimationIteration"),fr(Mf,"onAnimationStart"),fr("dblclick","onDoubleClick"),fr("focusin","onFocus"),fr("focusout","onBlur"),fr(Pf,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Os));function zf(t,i,s){var l=t.type||"unknown-event";t.currentTarget=s,qg(l,i,void 0,t),t.currentTarget=null}function Vf(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var p=l.length-1;0<=p;p--){var g=l[p],v=g.instance,N=g.currentTarget;if(g=g.listener,v!==d&&c.isPropagationStopped())break e;zf(c,g,N),d=v}else for(p=0;p<l.length;p++){if(g=l[p],v=g.instance,N=g.currentTarget,g=g.listener,v!==d&&c.isPropagationStopped())break e;zf(c,g,N),d=v}}}if(xo)throw t=Pl,xo=!1,Pl=null,t}function He(t,i){var s=i[mu];s===void 0&&(s=i[mu]=new Set);var l=t+"__bubble";s.has(l)||($f(i,t,2,!1),s.add(l))}function lu(t,i,s){var l=0;i&&(l|=4),$f(s,t,l,i)}var Uo="_reactListening"+Math.random().toString(36).slice(2);function Ds(t){if(!t[Uo]){t[Uo]=!0,o.forEach(function(s){s!=="selectionchange"&&(Xv.has(s)||lu(s,!1,t),lu(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Uo]||(i[Uo]=!0,lu("selectionchange",!1,i))}}function $f(t,i,s,l){switch(ff(i)){case 1:var c=hv;break;case 4:c=pv;break;default:c=Wl}s=c.bind(null,i,s,t),c=void 0,!Ml||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(i,s,{capture:!0,passive:c}):t.addEventListener(i,s,!0):c!==void 0?t.addEventListener(i,s,{passive:c}):t.addEventListener(i,s,!1)}function uu(t,i,s,l,c){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var g=l.stateNode.containerInfo;if(g===c||g.nodeType===8&&g.parentNode===c)break;if(p===4)for(p=l.return;p!==null;){var v=p.tag;if((v===3||v===4)&&(v=p.stateNode.containerInfo,v===c||v.nodeType===8&&v.parentNode===c))return;p=p.return}for(;g!==null;){if(p=Vr(g),p===null)return;if(v=p.tag,v===5||v===6){l=d=p;continue e}g=g.parentNode}}l=l.return}Qd(function(){var N=d,A=Ll(s),C=[];e:{var D=Rf.get(t);if(D!==void 0){var P=Jl,V=t;switch(t){case"keypress":if(Lo(s)===0)break e;case"keydown":case"keyup":P=Tv;break;case"focusin":V="focus",P=ql;break;case"focusout":V="blur",P=ql;break;case"beforeblur":case"afterblur":P=ql;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=mf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=gv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=Ev;break;case jf:case Ff:case Mf:P=wv;break;case Pf:P=Lv;break;case"scroll":P=mv;break;case"wheel":P=Fv;break;case"copy":case"cut":case"paste":P=Iv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=gf}var $=(i&4)!==0,rt=!$&&t==="scroll",b=$?D!==null?D+"Capture":null:D;$=[];for(var w=N,k;w!==null;){k=w;var B=k.stateNode;if(k.tag===5&&B!==null&&(k=B,b!==null&&(B=cs(w,b),B!=null&&$.push(Ts(w,B,k)))),rt)break;w=w.return}0<$.length&&(D=new P(D,V,null,s,A),C.push({event:D,listeners:$}))}}if((i&7)===0){e:{if(D=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",D&&s!==Bl&&(V=s.relatedTarget||s.fromElement)&&(Vr(V)||V[zn]))break e;if((P||D)&&(D=A.window===A?A:(D=A.ownerDocument)?D.defaultView||D.parentWindow:window,P?(V=s.relatedTarget||s.toElement,P=N,V=V?Vr(V):null,V!==null&&(rt=zr(V),V!==rt||V.tag!==5&&V.tag!==6)&&(V=null)):(P=null,V=N),P!==V)){if($=mf,B="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&($=gf,B="onPointerLeave",b="onPointerEnter",w="pointer"),rt=P==null?D:vi(P),k=V==null?D:vi(V),D=new $(B,w+"leave",P,s,A),D.target=rt,D.relatedTarget=k,B=null,Vr(A)===N&&($=new $(b,w+"enter",V,s,A),$.target=k,$.relatedTarget=rt,B=$),rt=B,P&&V)t:{for($=P,b=V,w=0,k=$;k;k=yi(k))w++;for(k=0,B=b;B;B=yi(B))k++;for(;0<w-k;)$=yi($),w--;for(;0<k-w;)b=yi(b),k--;for(;w--;){if($===b||b!==null&&$===b.alternate)break t;$=yi($),b=yi(b)}$=null}else $=null;P!==null&&Zf(C,D,P,$,!1),V!==null&&rt!==null&&Zf(C,rt,V,$,!0)}}e:{if(D=N?vi(N):window,P=D.nodeName&&D.nodeName.toLowerCase(),P==="select"||P==="input"&&D.type==="file")var H=$v;else if(xf(D))if(kf)H=Qv;else{H=Wv;var Y=Zv}else(P=D.nodeName)&&P.toLowerCase()==="input"&&(D.type==="checkbox"||D.type==="radio")&&(H=Hv);if(H&&(H=H(t,N))){bf(C,H,s,A);break e}Y&&Y(t,D,N),t==="focusout"&&(Y=D._wrapperState)&&Y.controlled&&D.type==="number"&&Dl(D,"number",D.value)}switch(Y=N?vi(N):window,t){case"focusin":(xf(Y)||Y.contentEditable==="true")&&(pi=Y,ru=N,Ns=null);break;case"focusout":Ns=ru=pi=null;break;case"mousedown":iu=!0;break;case"contextmenu":case"mouseup":case"dragend":iu=!1,Bf(C,s,A);break;case"selectionchange":if(Yv)break;case"keydown":case"keyup":Bf(C,s,A)}var q;if(Xl)e:{switch(t){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else hi?Sf(t,s)&&(ue="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ue="onCompositionStart");ue&&(vf&&s.locale!=="ko"&&(hi||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&hi&&(q=hf()):(dr=A,Ql="value"in dr?dr.value:dr.textContent,hi=!0)),Y=zo(N,ue),0<Y.length&&(ue=new yf(ue,t,null,s,A),C.push({event:ue,listeners:Y}),q?ue.data=q:(q=If(s),q!==null&&(ue.data=q)))),(q=Pv?Rv(t,s):Uv(t,s))&&(N=zo(N,"onBeforeInput"),0<N.length&&(A=new yf("onBeforeInput","beforeinput",null,s,A),C.push({event:A,listeners:N}),A.data=q))}Vf(C,i)})}function Ts(t,i,s){return{instance:t,listener:i,currentTarget:s}}function zo(t,i){for(var s=i+"Capture",l=[];t!==null;){var c=t,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=cs(t,s),d!=null&&l.unshift(Ts(t,d,c)),d=cs(t,i),d!=null&&l.push(Ts(t,d,c))),t=t.return}return l}function yi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Zf(t,i,s,l,c){for(var d=i._reactName,p=[];s!==null&&s!==l;){var g=s,v=g.alternate,N=g.stateNode;if(v!==null&&v===l)break;g.tag===5&&N!==null&&(g=N,c?(v=cs(s,d),v!=null&&p.unshift(Ts(s,v,g))):c||(v=cs(s,d),v!=null&&p.push(Ts(s,v,g)))),s=s.return}p.length!==0&&t.push({event:i,listeners:p})}var e0=/\r\n?/g,t0=/\u0000|\uFFFD/g;function Wf(t){return(typeof t=="string"?t:""+t).replace(e0,`
`).replace(t0,"")}function Vo(t,i,s){if(i=Wf(i),Wf(t)!==i&&s)throw Error(n(425))}function $o(){}var cu=null,du=null;function fu(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var hu=typeof setTimeout=="function"?setTimeout:void 0,n0=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,r0=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(t){return Hf.resolve(null).then(t).catch(i0)}:hu;function i0(t){setTimeout(function(){throw t})}function pu(t,i){var s=i,l=0;do{var c=s.nextSibling;if(t.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(l===0){t.removeChild(c),_s(i);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=c}while(s);_s(i)}function hr(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return t}function Qf(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}var gi=Math.random().toString(36).slice(2),kn="__reactFiber$"+gi,As="__reactProps$"+gi,zn="__reactContainer$"+gi,mu="__reactEvents$"+gi,s0="__reactListeners$"+gi,o0="__reactHandles$"+gi;function Vr(t){var i=t[kn];if(i)return i;for(var s=t.parentNode;s;){if(i=s[zn]||s[kn]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=Qf(t);t!==null;){if(s=t[kn])return s;t=Qf(t)}return i}t=s,s=t.parentNode}return null}function Cs(t){return t=t[kn]||t[zn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function Zo(t){return t[As]||null}var yu=[],_i=-1;function pr(t){return{current:t}}function Qe(t){0>_i||(t.current=yu[_i],yu[_i]=null,_i--)}function $e(t,i){_i++,yu[_i]=t.current,t.current=i}var mr={},wt=pr(mr),Ct=pr(!1),$r=mr;function wi(t,i){var s=t.type.contextTypes;if(!s)return mr;var l=t.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===i)return l.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in s)c[d]=i[d];return l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=c),c}function Et(t){return t=t.childContextTypes,t!=null}function Wo(){Qe(Ct),Qe(wt)}function Jf(t,i,s){if(wt.current!==mr)throw Error(n(168));$e(wt,i),$e(Ct,s)}function Kf(t,i,s){var l=t.stateNode;if(i=i.childContextTypes,typeof l.getChildContext!="function")return s;l=l.getChildContext();for(var c in l)if(!(c in i))throw Error(n(108,Pe(t)||"Unknown",c));return _({},s,l)}function Ho(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mr,$r=wt.current,$e(wt,t),$e(Ct,Ct.current),!0}function Yf(t,i,s){var l=t.stateNode;if(!l)throw Error(n(169));s?(t=Kf(t,i,$r),l.__reactInternalMemoizedMergedChildContext=t,Qe(Ct),Qe(wt),$e(wt,t)):Qe(Ct),$e(Ct,s)}var Vn=null,Qo=!1,gu=!1;function qf(t){Vn===null?Vn=[t]:Vn.push(t)}function a0(t){Qo=!0,qf(t)}function yr(){if(!gu&&Vn!==null){gu=!0;var t=0,i=je;try{var s=Vn;for(je=1;t<s.length;t++){var l=s[t];do l=l(!0);while(l!==null)}Vn=null,Qo=!1}catch(c){throw Vn!==null&&(Vn=Vn.slice(t+1)),Gd(Rl,yr),c}finally{je=i,gu=!1}}return null}var Si=[],Ii=0,Jo=null,Ko=0,en=[],tn=0,Zr=null,$n=1,Zn="";function Wr(t,i){Si[Ii++]=Ko,Si[Ii++]=Jo,Jo=t,Ko=i}function Gf(t,i,s){en[tn++]=$n,en[tn++]=Zn,en[tn++]=Zr,Zr=t;var l=$n;t=Zn;var c=32-pn(l)-1;l&=~(1<<c),s+=1;var d=32-pn(i)+c;if(30<d){var p=c-c%5;d=(l&(1<<p)-1).toString(32),l>>=p,c-=p,$n=1<<32-pn(i)+c|s<<c|l,Zn=d+t}else $n=1<<d|s<<c|l,Zn=t}function vu(t){t.return!==null&&(Wr(t,1),Gf(t,1,0))}function _u(t){for(;t===Jo;)Jo=Si[--Ii],Si[Ii]=null,Ko=Si[--Ii],Si[Ii]=null;for(;t===Zr;)Zr=en[--tn],en[tn]=null,Zn=en[--tn],en[tn]=null,$n=en[--tn],en[tn]=null}var Wt=null,Ht=null,Je=!1,yn=null;function Xf(t,i){var s=on(5,null,null,0);s.elementType="DELETED",s.stateNode=i,s.return=t,i=t.deletions,i===null?(t.deletions=[s],t.flags|=16):i.push(s)}function eh(t,i){switch(t.tag){case 5:var s=t.type;return i=i.nodeType!==1||s.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(t.stateNode=i,Wt=t,Ht=hr(i.firstChild),!0):!1;case 6:return i=t.pendingProps===""||i.nodeType!==3?null:i,i!==null?(t.stateNode=i,Wt=t,Ht=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(s=Zr!==null?{id:$n,overflow:Zn}:null,t.memoizedState={dehydrated:i,treeContext:s,retryLane:1073741824},s=on(18,null,null,0),s.stateNode=i,s.return=t,t.child=s,Wt=t,Ht=null,!0):!1;default:return!1}}function wu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Su(t){if(Je){var i=Ht;if(i){var s=i;if(!eh(t,i)){if(wu(t))throw Error(n(418));i=hr(s.nextSibling);var l=Wt;i&&eh(t,i)?Xf(l,s):(t.flags=t.flags&-4097|2,Je=!1,Wt=t)}}else{if(wu(t))throw Error(n(418));t.flags=t.flags&-4097|2,Je=!1,Wt=t}}}function th(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wt=t}function Yo(t){if(t!==Wt)return!1;if(!Je)return th(t),Je=!0,!1;var i;if((i=t.tag!==3)&&!(i=t.tag!==5)&&(i=t.type,i=i!=="head"&&i!=="body"&&!fu(t.type,t.memoizedProps)),i&&(i=Ht)){if(wu(t))throw nh(),Error(n(418));for(;i;)Xf(t,i),i=hr(i.nextSibling)}if(th(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(i===0){Ht=hr(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++}t=t.nextSibling}Ht=null}}else Ht=Wt?hr(t.stateNode.nextSibling):null;return!0}function nh(){for(var t=Ht;t;)t=hr(t.nextSibling)}function xi(){Ht=Wt=null,Je=!1}function Iu(t){yn===null?yn=[t]:yn.push(t)}var l0=_e.ReactCurrentBatchConfig;function Es(t,i,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(n(309));var l=s.stateNode}if(!l)throw Error(n(147,t));var c=l,d=""+t;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===d?i.ref:(i=function(p){var g=c.refs;p===null?delete g[d]:g[d]=p},i._stringRef=d,i)}if(typeof t!="string")throw Error(n(284));if(!s._owner)throw Error(n(290,t))}return t}function qo(t,i){throw t=Object.prototype.toString.call(i),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t))}function rh(t){var i=t._init;return i(t._payload)}function ih(t){function i(b,w){if(t){var k=b.deletions;k===null?(b.deletions=[w],b.flags|=16):k.push(w)}}function s(b,w){if(!t)return null;for(;w!==null;)i(b,w),w=w.sibling;return null}function l(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function c(b,w){return b=br(b,w),b.index=0,b.sibling=null,b}function d(b,w,k){return b.index=k,t?(k=b.alternate,k!==null?(k=k.index,k<w?(b.flags|=2,w):k):(b.flags|=2,w)):(b.flags|=1048576,w)}function p(b){return t&&b.alternate===null&&(b.flags|=2),b}function g(b,w,k,B){return w===null||w.tag!==6?(w=hc(k,b.mode,B),w.return=b,w):(w=c(w,k),w.return=b,w)}function v(b,w,k,B){var H=k.type;return H===Ue?A(b,w,k.props.children,B,k.key):w!==null&&(w.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===kt&&rh(H)===w.type)?(B=c(w,k.props),B.ref=Es(b,w,k),B.return=b,B):(B=Sa(k.type,k.key,k.props,null,b.mode,B),B.ref=Es(b,w,k),B.return=b,B)}function N(b,w,k,B){return w===null||w.tag!==4||w.stateNode.containerInfo!==k.containerInfo||w.stateNode.implementation!==k.implementation?(w=pc(k,b.mode,B),w.return=b,w):(w=c(w,k.children||[]),w.return=b,w)}function A(b,w,k,B,H){return w===null||w.tag!==7?(w=Xr(k,b.mode,B,H),w.return=b,w):(w=c(w,k),w.return=b,w)}function C(b,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return w=hc(""+w,b.mode,k),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ye:return k=Sa(w.type,w.key,w.props,null,b.mode,k),k.ref=Es(b,null,w),k.return=b,k;case Fe:return w=pc(w,b.mode,k),w.return=b,w;case kt:var B=w._init;return C(b,B(w._payload),k)}if(as(w)||K(w))return w=Xr(w,b.mode,k,null),w.return=b,w;qo(b,w)}return null}function D(b,w,k,B){var H=w!==null?w.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return H!==null?null:g(b,w,""+k,B);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ye:return k.key===H?v(b,w,k,B):null;case Fe:return k.key===H?N(b,w,k,B):null;case kt:return H=k._init,D(b,w,H(k._payload),B)}if(as(k)||K(k))return H!==null?null:A(b,w,k,B,null);qo(b,k)}return null}function P(b,w,k,B,H){if(typeof B=="string"&&B!==""||typeof B=="number")return b=b.get(k)||null,g(w,b,""+B,H);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Ye:return b=b.get(B.key===null?k:B.key)||null,v(w,b,B,H);case Fe:return b=b.get(B.key===null?k:B.key)||null,N(w,b,B,H);case kt:var Y=B._init;return P(b,w,k,Y(B._payload),H)}if(as(B)||K(B))return b=b.get(k)||null,A(w,b,B,H,null);qo(w,B)}return null}function V(b,w,k,B){for(var H=null,Y=null,q=w,ue=w=0,mt=null;q!==null&&ue<k.length;ue++){q.index>ue?(mt=q,q=null):mt=q.sibling;var ke=D(b,q,k[ue],B);if(ke===null){q===null&&(q=mt);break}t&&q&&ke.alternate===null&&i(b,q),w=d(ke,w,ue),Y===null?H=ke:Y.sibling=ke,Y=ke,q=mt}if(ue===k.length)return s(b,q),Je&&Wr(b,ue),H;if(q===null){for(;ue<k.length;ue++)q=C(b,k[ue],B),q!==null&&(w=d(q,w,ue),Y===null?H=q:Y.sibling=q,Y=q);return Je&&Wr(b,ue),H}for(q=l(b,q);ue<k.length;ue++)mt=P(q,b,ue,k[ue],B),mt!==null&&(t&&mt.alternate!==null&&q.delete(mt.key===null?ue:mt.key),w=d(mt,w,ue),Y===null?H=mt:Y.sibling=mt,Y=mt);return t&&q.forEach(function(kr){return i(b,kr)}),Je&&Wr(b,ue),H}function $(b,w,k,B){var H=K(k);if(typeof H!="function")throw Error(n(150));if(k=H.call(k),k==null)throw Error(n(151));for(var Y=H=null,q=w,ue=w=0,mt=null,ke=k.next();q!==null&&!ke.done;ue++,ke=k.next()){q.index>ue?(mt=q,q=null):mt=q.sibling;var kr=D(b,q,ke.value,B);if(kr===null){q===null&&(q=mt);break}t&&q&&kr.alternate===null&&i(b,q),w=d(kr,w,ue),Y===null?H=kr:Y.sibling=kr,Y=kr,q=mt}if(ke.done)return s(b,q),Je&&Wr(b,ue),H;if(q===null){for(;!ke.done;ue++,ke=k.next())ke=C(b,ke.value,B),ke!==null&&(w=d(ke,w,ue),Y===null?H=ke:Y.sibling=ke,Y=ke);return Je&&Wr(b,ue),H}for(q=l(b,q);!ke.done;ue++,ke=k.next())ke=P(q,b,ue,ke.value,B),ke!==null&&(t&&ke.alternate!==null&&q.delete(ke.key===null?ue:ke.key),w=d(ke,w,ue),Y===null?H=ke:Y.sibling=ke,Y=ke);return t&&q.forEach(function(z0){return i(b,z0)}),Je&&Wr(b,ue),H}function rt(b,w,k,B){if(typeof k=="object"&&k!==null&&k.type===Ue&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Ye:e:{for(var H=k.key,Y=w;Y!==null;){if(Y.key===H){if(H=k.type,H===Ue){if(Y.tag===7){s(b,Y.sibling),w=c(Y,k.props.children),w.return=b,b=w;break e}}else if(Y.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===kt&&rh(H)===Y.type){s(b,Y.sibling),w=c(Y,k.props),w.ref=Es(b,Y,k),w.return=b,b=w;break e}s(b,Y);break}else i(b,Y);Y=Y.sibling}k.type===Ue?(w=Xr(k.props.children,b.mode,B,k.key),w.return=b,b=w):(B=Sa(k.type,k.key,k.props,null,b.mode,B),B.ref=Es(b,w,k),B.return=b,b=B)}return p(b);case Fe:e:{for(Y=k.key;w!==null;){if(w.key===Y)if(w.tag===4&&w.stateNode.containerInfo===k.containerInfo&&w.stateNode.implementation===k.implementation){s(b,w.sibling),w=c(w,k.children||[]),w.return=b,b=w;break e}else{s(b,w);break}else i(b,w);w=w.sibling}w=pc(k,b.mode,B),w.return=b,b=w}return p(b);case kt:return Y=k._init,rt(b,w,Y(k._payload),B)}if(as(k))return V(b,w,k,B);if(K(k))return $(b,w,k,B);qo(b,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,w!==null&&w.tag===6?(s(b,w.sibling),w=c(w,k),w.return=b,b=w):(s(b,w),w=hc(k,b.mode,B),w.return=b,b=w),p(b)):s(b,w)}return rt}var bi=ih(!0),sh=ih(!1),Go=pr(null),Xo=null,ki=null,xu=null;function bu(){xu=ki=Xo=null}function ku(t){var i=Go.current;Qe(Go),t._currentValue=i}function Nu(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function Ni(t,i){Xo=t,xu=ki=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&i)!==0&&(Bt=!0),t.firstContext=null)}function nn(t){var i=t._currentValue;if(xu!==t)if(t={context:t,memoizedValue:i,next:null},ki===null){if(Xo===null)throw Error(n(308));ki=t,Xo.dependencies={lanes:0,firstContext:t}}else ki=ki.next=t;return i}var Hr=null;function Ou(t){Hr===null?Hr=[t]:Hr.push(t)}function oh(t,i,s,l){var c=i.interleaved;return c===null?(s.next=s,Ou(i)):(s.next=c.next,c.next=s),i.interleaved=s,Wn(t,l)}function Wn(t,i){t.lanes|=i;var s=t.alternate;for(s!==null&&(s.lanes|=i),s=t,t=t.return;t!==null;)t.childLanes|=i,s=t.alternate,s!==null&&(s.childLanes|=i),s=t,t=t.return;return s.tag===3?s.stateNode:null}var gr=!1;function Du(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ah(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hn(t,i){return{eventTime:t,lane:i,tag:0,payload:null,callback:null,next:null}}function vr(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(xe&2)!==0){var c=l.pending;return c===null?i.next=i:(i.next=c.next,c.next=i),l.pending=i,Wn(t,s)}return c=l.interleaved,c===null?(i.next=i,Ou(l)):(i.next=c.next,c.next=i),l.interleaved=i,Wn(t,s)}function ea(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194240)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Vl(t,s)}}function lh(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var p={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?c=d=p:d=d.next=p,s=s.next}while(s!==null);d===null?c=d=i:d=d.next=i}else c=d=i;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:l.shared,effects:l.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}function ta(t,i,s,l){var c=t.updateQueue;gr=!1;var d=c.firstBaseUpdate,p=c.lastBaseUpdate,g=c.shared.pending;if(g!==null){c.shared.pending=null;var v=g,N=v.next;v.next=null,p===null?d=N:p.next=N,p=v;var A=t.alternate;A!==null&&(A=A.updateQueue,g=A.lastBaseUpdate,g!==p&&(g===null?A.firstBaseUpdate=N:g.next=N,A.lastBaseUpdate=v))}if(d!==null){var C=c.baseState;p=0,A=N=v=null,g=d;do{var D=g.lane,P=g.eventTime;if((l&D)===D){A!==null&&(A=A.next={eventTime:P,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var V=t,$=g;switch(D=i,P=s,$.tag){case 1:if(V=$.payload,typeof V=="function"){C=V.call(P,C,D);break e}C=V;break e;case 3:V.flags=V.flags&-65537|128;case 0:if(V=$.payload,D=typeof V=="function"?V.call(P,C,D):V,D==null)break e;C=_({},C,D);break e;case 2:gr=!0}}g.callback!==null&&g.lane!==0&&(t.flags|=64,D=c.effects,D===null?c.effects=[g]:D.push(g))}else P={eventTime:P,lane:D,tag:g.tag,payload:g.payload,callback:g.callback,next:null},A===null?(N=A=P,v=C):A=A.next=P,p|=D;if(g=g.next,g===null){if(g=c.shared.pending,g===null)break;D=g,g=D.next,D.next=null,c.lastBaseUpdate=D,c.shared.pending=null}}while(!0);if(A===null&&(v=C),c.baseState=v,c.firstBaseUpdate=N,c.lastBaseUpdate=A,i=c.shared.interleaved,i!==null){c=i;do p|=c.lane,c=c.next;while(c!==i)}else d===null&&(c.shared.lanes=0);Kr|=p,t.lanes=p,t.memoizedState=C}}function uh(t,i,s){if(t=i.effects,i.effects=null,t!==null)for(i=0;i<t.length;i++){var l=t[i],c=l.callback;if(c!==null){if(l.callback=null,l=s,typeof c!="function")throw Error(n(191,c));c.call(l)}}}var Bs={},Nn=pr(Bs),Ls=pr(Bs),js=pr(Bs);function Qr(t){if(t===Bs)throw Error(n(174));return t}function Tu(t,i){switch($e(js,i),$e(Ls,t),$e(Nn,Bs),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Al(null,"");break;default:t=t===8?i.parentNode:i,i=t.namespaceURI||null,t=t.tagName,i=Al(i,t)}Qe(Nn),$e(Nn,i)}function Oi(){Qe(Nn),Qe(Ls),Qe(js)}function ch(t){Qr(js.current);var i=Qr(Nn.current),s=Al(i,t.type);i!==s&&($e(Ls,t),$e(Nn,s))}function Au(t){Ls.current===t&&(Qe(Nn),Qe(Ls))}var qe=pr(0);function na(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Cu=[];function Eu(){for(var t=0;t<Cu.length;t++)Cu[t]._workInProgressVersionPrimary=null;Cu.length=0}var ra=_e.ReactCurrentDispatcher,Bu=_e.ReactCurrentBatchConfig,Jr=0,Ge=null,lt=null,ht=null,ia=!1,Fs=!1,Ms=0,u0=0;function St(){throw Error(n(321))}function Lu(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!mn(t[s],i[s]))return!1;return!0}function ju(t,i,s,l,c,d){if(Jr=d,Ge=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ra.current=t===null||t.memoizedState===null?h0:p0,t=s(l,c),Fs){d=0;do{if(Fs=!1,Ms=0,25<=d)throw Error(n(301));d+=1,ht=lt=null,i.updateQueue=null,ra.current=m0,t=s(l,c)}while(Fs)}if(ra.current=aa,i=lt!==null&&lt.next!==null,Jr=0,ht=lt=Ge=null,ia=!1,i)throw Error(n(300));return t}function Fu(){var t=Ms!==0;return Ms=0,t}function On(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Ge.memoizedState=ht=t:ht=ht.next=t,ht}function rn(){if(lt===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var i=ht===null?Ge.memoizedState:ht.next;if(i!==null)ht=i,lt=t;else{if(t===null)throw Error(n(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},ht===null?Ge.memoizedState=ht=t:ht=ht.next=t}return ht}function Ps(t,i){return typeof i=="function"?i(t):i}function Mu(t){var i=rn(),s=i.queue;if(s===null)throw Error(n(311));s.lastRenderedReducer=t;var l=lt,c=l.baseQueue,d=s.pending;if(d!==null){if(c!==null){var p=c.next;c.next=d.next,d.next=p}l.baseQueue=c=d,s.pending=null}if(c!==null){d=c.next,l=l.baseState;var g=p=null,v=null,N=d;do{var A=N.lane;if((Jr&A)===A)v!==null&&(v=v.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),l=N.hasEagerState?N.eagerState:t(l,N.action);else{var C={lane:A,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};v===null?(g=v=C,p=l):v=v.next=C,Ge.lanes|=A,Kr|=A}N=N.next}while(N!==null&&N!==d);v===null?p=l:v.next=g,mn(l,i.memoizedState)||(Bt=!0),i.memoizedState=l,i.baseState=p,i.baseQueue=v,s.lastRenderedState=l}if(t=s.interleaved,t!==null){c=t;do d=c.lane,Ge.lanes|=d,Kr|=d,c=c.next;while(c!==t)}else c===null&&(s.lanes=0);return[i.memoizedState,s.dispatch]}function Pu(t){var i=rn(),s=i.queue;if(s===null)throw Error(n(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,d=i.memoizedState;if(c!==null){s.pending=null;var p=c=c.next;do d=t(d,p.action),p=p.next;while(p!==c);mn(d,i.memoizedState)||(Bt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function dh(){}function fh(t,i){var s=Ge,l=rn(),c=i(),d=!mn(l.memoizedState,c);if(d&&(l.memoizedState=c,Bt=!0),l=l.queue,Ru(mh.bind(null,s,l,t),[t]),l.getSnapshot!==i||d||ht!==null&&ht.memoizedState.tag&1){if(s.flags|=2048,Rs(9,ph.bind(null,s,l,c,i),void 0,null),pt===null)throw Error(n(349));(Jr&30)!==0||hh(s,i,c)}return c}function hh(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Ge.updateQueue,i===null?(i={lastEffect:null,stores:null},Ge.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function ph(t,i,s,l){i.value=s,i.getSnapshot=l,yh(i)&&gh(t)}function mh(t,i,s){return s(function(){yh(i)&&gh(t)})}function yh(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!mn(t,s)}catch{return!0}}function gh(t){var i=Wn(t,1);i!==null&&wn(i,t,1,-1)}function vh(t){var i=On();return typeof t=="function"&&(t=t()),i.memoizedState=i.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:t},i.queue=t,t=t.dispatch=f0.bind(null,Ge,t),[i.memoizedState,t]}function Rs(t,i,s,l){return t={tag:t,create:i,destroy:s,deps:l,next:null},i=Ge.updateQueue,i===null?(i={lastEffect:null,stores:null},Ge.updateQueue=i,i.lastEffect=t.next=t):(s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t)),t}function _h(){return rn().memoizedState}function sa(t,i,s,l){var c=On();Ge.flags|=t,c.memoizedState=Rs(1|i,s,void 0,l===void 0?null:l)}function oa(t,i,s,l){var c=rn();l=l===void 0?null:l;var d=void 0;if(lt!==null){var p=lt.memoizedState;if(d=p.destroy,l!==null&&Lu(l,p.deps)){c.memoizedState=Rs(i,s,d,l);return}}Ge.flags|=t,c.memoizedState=Rs(1|i,s,d,l)}function wh(t,i){return sa(8390656,8,t,i)}function Ru(t,i){return oa(2048,8,t,i)}function Sh(t,i){return oa(4,2,t,i)}function Ih(t,i){return oa(4,4,t,i)}function xh(t,i){if(typeof i=="function")return t=t(),i(t),function(){i(null)};if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function bh(t,i,s){return s=s!=null?s.concat([t]):null,oa(4,4,xh.bind(null,i,t),s)}function Uu(){}function kh(t,i){var s=rn();i=i===void 0?null:i;var l=s.memoizedState;return l!==null&&i!==null&&Lu(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function Nh(t,i){var s=rn();i=i===void 0?null:i;var l=s.memoizedState;return l!==null&&i!==null&&Lu(i,l[1])?l[0]:(t=t(),s.memoizedState=[t,i],t)}function Oh(t,i,s){return(Jr&21)===0?(t.baseState&&(t.baseState=!1,Bt=!0),t.memoizedState=s):(mn(s,i)||(s=nf(),Ge.lanes|=s,Kr|=s,t.baseState=!0),i)}function c0(t,i){var s=je;je=s!==0&&4>s?s:4,t(!0);var l=Bu.transition;Bu.transition={};try{t(!1),i()}finally{je=s,Bu.transition=l}}function Dh(){return rn().memoizedState}function d0(t,i,s){var l=Ir(t);if(s={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null},Th(t))Ah(i,s);else if(s=oh(t,i,s,l),s!==null){var c=Ot();wn(s,t,l,c),Ch(s,i,l)}}function f0(t,i,s){var l=Ir(t),c={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null};if(Th(t))Ah(i,c);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var p=i.lastRenderedState,g=d(p,s);if(c.hasEagerState=!0,c.eagerState=g,mn(g,p)){var v=i.interleaved;v===null?(c.next=c,Ou(i)):(c.next=v.next,v.next=c),i.interleaved=c;return}}catch{}finally{}s=oh(t,i,c,l),s!==null&&(c=Ot(),wn(s,t,l,c),Ch(s,i,l))}}function Th(t){var i=t.alternate;return t===Ge||i!==null&&i===Ge}function Ah(t,i){Fs=ia=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function Ch(t,i,s){if((s&4194240)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Vl(t,s)}}var aa={readContext:nn,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},h0={readContext:nn,useCallback:function(t,i){return On().memoizedState=[t,i===void 0?null:i],t},useContext:nn,useEffect:wh,useImperativeHandle:function(t,i,s){return s=s!=null?s.concat([t]):null,sa(4194308,4,xh.bind(null,i,t),s)},useLayoutEffect:function(t,i){return sa(4194308,4,t,i)},useInsertionEffect:function(t,i){return sa(4,2,t,i)},useMemo:function(t,i){var s=On();return i=i===void 0?null:i,t=t(),s.memoizedState=[t,i],t},useReducer:function(t,i,s){var l=On();return i=s!==void 0?s(i):i,l.memoizedState=l.baseState=i,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},l.queue=t,t=t.dispatch=d0.bind(null,Ge,t),[l.memoizedState,t]},useRef:function(t){var i=On();return t={current:t},i.memoizedState=t},useState:vh,useDebugValue:Uu,useDeferredValue:function(t){return On().memoizedState=t},useTransition:function(){var t=vh(!1),i=t[0];return t=c0.bind(null,t[1]),On().memoizedState=t,[i,t]},useMutableSource:function(){},useSyncExternalStore:function(t,i,s){var l=Ge,c=On();if(Je){if(s===void 0)throw Error(n(407));s=s()}else{if(s=i(),pt===null)throw Error(n(349));(Jr&30)!==0||hh(l,i,s)}c.memoizedState=s;var d={value:s,getSnapshot:i};return c.queue=d,wh(mh.bind(null,l,d,t),[t]),l.flags|=2048,Rs(9,ph.bind(null,l,d,s,i),void 0,null),s},useId:function(){var t=On(),i=pt.identifierPrefix;if(Je){var s=Zn,l=$n;s=(l&~(1<<32-pn(l)-1)).toString(32)+s,i=":"+i+"R"+s,s=Ms++,0<s&&(i+="H"+s.toString(32)),i+=":"}else s=u0++,i=":"+i+"r"+s.toString(32)+":";return t.memoizedState=i},unstable_isNewReconciler:!1},p0={readContext:nn,useCallback:kh,useContext:nn,useEffect:Ru,useImperativeHandle:bh,useInsertionEffect:Sh,useLayoutEffect:Ih,useMemo:Nh,useReducer:Mu,useRef:_h,useState:function(){return Mu(Ps)},useDebugValue:Uu,useDeferredValue:function(t){var i=rn();return Oh(i,lt.memoizedState,t)},useTransition:function(){var t=Mu(Ps)[0],i=rn().memoizedState;return[t,i]},useMutableSource:dh,useSyncExternalStore:fh,useId:Dh,unstable_isNewReconciler:!1},m0={readContext:nn,useCallback:kh,useContext:nn,useEffect:Ru,useImperativeHandle:bh,useInsertionEffect:Sh,useLayoutEffect:Ih,useMemo:Nh,useReducer:Pu,useRef:_h,useState:function(){return Pu(Ps)},useDebugValue:Uu,useDeferredValue:function(t){var i=rn();return lt===null?i.memoizedState=t:Oh(i,lt.memoizedState,t)},useTransition:function(){var t=Pu(Ps)[0],i=rn().memoizedState;return[t,i]},useMutableSource:dh,useSyncExternalStore:fh,useId:Dh,unstable_isNewReconciler:!1};function gn(t,i){if(t&&t.defaultProps){i=_({},i),t=t.defaultProps;for(var s in t)i[s]===void 0&&(i[s]=t[s]);return i}return i}function zu(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:_({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var la={isMounted:function(t){return(t=t._reactInternals)?zr(t)===t:!1},enqueueSetState:function(t,i,s){t=t._reactInternals;var l=Ot(),c=Ir(t),d=Hn(l,c);d.payload=i,s!=null&&(d.callback=s),i=vr(t,d,c),i!==null&&(wn(i,t,c,l),ea(i,t,c))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=Ot(),c=Ir(t),d=Hn(l,c);d.tag=1,d.payload=i,s!=null&&(d.callback=s),i=vr(t,d,c),i!==null&&(wn(i,t,c,l),ea(i,t,c))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Ot(),l=Ir(t),c=Hn(s,l);c.tag=2,i!=null&&(c.callback=i),i=vr(t,c,l),i!==null&&(wn(i,t,l,s),ea(i,t,l))}};function Eh(t,i,s,l,c,d,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,p):i.prototype&&i.prototype.isPureReactComponent?!ks(s,l)||!ks(c,d):!0}function Bh(t,i,s){var l=!1,c=mr,d=i.contextType;return typeof d=="object"&&d!==null?d=nn(d):(c=Et(i)?$r:wt.current,l=i.contextTypes,d=(l=l!=null)?wi(t,c):mr),i=new i(s,d),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=la,t.stateNode=i,i._reactInternals=t,l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=c,t.__reactInternalMemoizedMaskedChildContext=d),i}function Lh(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&la.enqueueReplaceState(i,i.state,null)}function Vu(t,i,s,l){var c=t.stateNode;c.props=s,c.state=t.memoizedState,c.refs={},Du(t);var d=i.contextType;typeof d=="object"&&d!==null?c.context=nn(d):(d=Et(i)?$r:wt.current,c.context=wi(t,d)),c.state=t.memoizedState,d=i.getDerivedStateFromProps,typeof d=="function"&&(zu(t,i,d,s),c.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(i=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),i!==c.state&&la.enqueueReplaceState(c,c.state,null),ta(t,s,c,l),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308)}function Di(t,i){try{var s="",l=i;do s+=Ve(l),l=l.return;while(l);var c=s}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:t,source:i,stack:c,digest:null}}function $u(t,i,s){return{value:t,source:null,stack:s??null,digest:i??null}}function Zu(t,i){try{console.error(i.value)}catch(s){setTimeout(function(){throw s})}}var y0=typeof WeakMap=="function"?WeakMap:Map;function jh(t,i,s){s=Hn(-1,s),s.tag=3,s.payload={element:null};var l=i.value;return s.callback=function(){ma||(ma=!0,sc=l),Zu(t,i)},s}function Fh(t,i,s){s=Hn(-1,s),s.tag=3;var l=t.type.getDerivedStateFromError;if(typeof l=="function"){var c=i.value;s.payload=function(){return l(c)},s.callback=function(){Zu(t,i)}}var d=t.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){Zu(t,i),typeof l!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var p=i.stack;this.componentDidCatch(i.value,{componentStack:p!==null?p:""})}),s}function Mh(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new y0;var c=new Set;l.set(i,c)}else c=l.get(i),c===void 0&&(c=new Set,l.set(i,c));c.has(s)||(c.add(s),t=A0.bind(null,t,i,s),i.then(t,t))}function Ph(t){do{var i;if((i=t.tag===13)&&(i=t.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return t;t=t.return}while(t!==null);return null}function Rh(t,i,s,l,c){return(t.mode&1)===0?(t===i?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(i=Hn(-1,1),i.tag=2,vr(s,i,1))),s.lanes|=1),t):(t.flags|=65536,t.lanes=c,t)}var g0=_e.ReactCurrentOwner,Bt=!1;function Nt(t,i,s,l){i.child=t===null?sh(i,null,s,l):bi(i,t.child,s,l)}function Uh(t,i,s,l,c){s=s.render;var d=i.ref;return Ni(i,c),l=ju(t,i,s,l,d,c),s=Fu(),t!==null&&!Bt?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~c,Qn(t,i,c)):(Je&&s&&vu(i),i.flags|=1,Nt(t,i,l,c),i.child)}function zh(t,i,s,l,c){if(t===null){var d=s.type;return typeof d=="function"&&!fc(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(i.tag=15,i.type=d,Vh(t,i,d,l,c)):(t=Sa(s.type,null,l,i,i.mode,c),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,(t.lanes&c)===0){var p=d.memoizedProps;if(s=s.compare,s=s!==null?s:ks,s(p,l)&&t.ref===i.ref)return Qn(t,i,c)}return i.flags|=1,t=br(d,l),t.ref=i.ref,t.return=i,i.child=t}function Vh(t,i,s,l,c){if(t!==null){var d=t.memoizedProps;if(ks(d,l)&&t.ref===i.ref)if(Bt=!1,i.pendingProps=l=d,(t.lanes&c)!==0)(t.flags&131072)!==0&&(Bt=!0);else return i.lanes=t.lanes,Qn(t,i,c)}return Wu(t,i,s,l,c)}function $h(t,i,s){var l=i.pendingProps,c=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Ai,Qt),Qt|=s;else{if((s&1073741824)===0)return t=d!==null?d.baseLanes|s:s,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:t,cachePool:null,transitions:null},i.updateQueue=null,$e(Ai,Qt),Qt|=t,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=d!==null?d.baseLanes:s,$e(Ai,Qt),Qt|=l}else d!==null?(l=d.baseLanes|s,i.memoizedState=null):l=s,$e(Ai,Qt),Qt|=l;return Nt(t,i,c,s),i.child}function Zh(t,i){var s=i.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(i.flags|=512,i.flags|=2097152)}function Wu(t,i,s,l,c){var d=Et(s)?$r:wt.current;return d=wi(i,d),Ni(i,c),s=ju(t,i,s,l,d,c),l=Fu(),t!==null&&!Bt?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~c,Qn(t,i,c)):(Je&&l&&vu(i),i.flags|=1,Nt(t,i,s,c),i.child)}function Wh(t,i,s,l,c){if(Et(s)){var d=!0;Ho(i)}else d=!1;if(Ni(i,c),i.stateNode===null)ca(t,i),Bh(i,s,l),Vu(i,s,l,c),l=!0;else if(t===null){var p=i.stateNode,g=i.memoizedProps;p.props=g;var v=p.context,N=s.contextType;typeof N=="object"&&N!==null?N=nn(N):(N=Et(s)?$r:wt.current,N=wi(i,N));var A=s.getDerivedStateFromProps,C=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function";C||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(g!==l||v!==N)&&Lh(i,p,l,N),gr=!1;var D=i.memoizedState;p.state=D,ta(i,l,p,c),v=i.memoizedState,g!==l||D!==v||Ct.current||gr?(typeof A=="function"&&(zu(i,s,A,l),v=i.memoizedState),(g=gr||Eh(i,s,g,l,D,v,N))?(C||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=v),p.props=l,p.state=v,p.context=N,l=g):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{p=i.stateNode,ah(t,i),g=i.memoizedProps,N=i.type===i.elementType?g:gn(i.type,g),p.props=N,C=i.pendingProps,D=p.context,v=s.contextType,typeof v=="object"&&v!==null?v=nn(v):(v=Et(s)?$r:wt.current,v=wi(i,v));var P=s.getDerivedStateFromProps;(A=typeof P=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(g!==C||D!==v)&&Lh(i,p,l,v),gr=!1,D=i.memoizedState,p.state=D,ta(i,l,p,c);var V=i.memoizedState;g!==C||D!==V||Ct.current||gr?(typeof P=="function"&&(zu(i,s,P,l),V=i.memoizedState),(N=gr||Eh(i,s,N,l,D,V,v)||!1)?(A||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,V,v),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,V,v)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||g===t.memoizedProps&&D===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&D===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=V),p.props=l,p.state=V,p.context=v,l=N):(typeof p.componentDidUpdate!="function"||g===t.memoizedProps&&D===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&D===t.memoizedState||(i.flags|=1024),l=!1)}return Hu(t,i,s,l,d,c)}function Hu(t,i,s,l,c,d){Zh(t,i);var p=(i.flags&128)!==0;if(!l&&!p)return c&&Yf(i,s,!1),Qn(t,i,d);l=i.stateNode,g0.current=i;var g=p&&typeof s.getDerivedStateFromError!="function"?null:l.render();return i.flags|=1,t!==null&&p?(i.child=bi(i,t.child,null,d),i.child=bi(i,null,g,d)):Nt(t,i,g,d),i.memoizedState=l.state,c&&Yf(i,s,!0),i.child}function Hh(t){var i=t.stateNode;i.pendingContext?Jf(t,i.pendingContext,i.pendingContext!==i.context):i.context&&Jf(t,i.context,!1),Tu(t,i.containerInfo)}function Qh(t,i,s,l,c){return xi(),Iu(c),i.flags|=256,Nt(t,i,s,l),i.child}var Qu={dehydrated:null,treeContext:null,retryLane:0};function Ju(t){return{baseLanes:t,cachePool:null,transitions:null}}function Jh(t,i,s){var l=i.pendingProps,c=qe.current,d=!1,p=(i.flags&128)!==0,g;if((g=p)||(g=t!==null&&t.memoizedState===null?!1:(c&2)!==0),g?(d=!0,i.flags&=-129):(t===null||t.memoizedState!==null)&&(c|=1),$e(qe,c&1),t===null)return Su(i),t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((i.mode&1)===0?i.lanes=1:t.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(p=l.children,t=l.fallback,d?(l=i.mode,d=i.child,p={mode:"hidden",children:p},(l&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=p):d=Ia(p,l,0,null),t=Xr(t,l,s,null),d.return=i,t.return=i,d.sibling=t,i.child=d,i.child.memoizedState=Ju(s),i.memoizedState=Qu,t):Ku(i,p));if(c=t.memoizedState,c!==null&&(g=c.dehydrated,g!==null))return v0(t,i,p,l,g,c,s);if(d){d=l.fallback,p=i.mode,c=t.child,g=c.sibling;var v={mode:"hidden",children:l.children};return(p&1)===0&&i.child!==c?(l=i.child,l.childLanes=0,l.pendingProps=v,i.deletions=null):(l=br(c,v),l.subtreeFlags=c.subtreeFlags&14680064),g!==null?d=br(g,d):(d=Xr(d,p,s,null),d.flags|=2),d.return=i,l.return=i,l.sibling=d,i.child=l,l=d,d=i.child,p=t.child.memoizedState,p=p===null?Ju(s):{baseLanes:p.baseLanes|s,cachePool:null,transitions:p.transitions},d.memoizedState=p,d.childLanes=t.childLanes&~s,i.memoizedState=Qu,l}return d=t.child,t=d.sibling,l=br(d,{mode:"visible",children:l.children}),(i.mode&1)===0&&(l.lanes=s),l.return=i,l.sibling=null,t!==null&&(s=i.deletions,s===null?(i.deletions=[t],i.flags|=16):s.push(t)),i.child=l,i.memoizedState=null,l}function Ku(t,i){return i=Ia({mode:"visible",children:i},t.mode,0,null),i.return=t,t.child=i}function ua(t,i,s,l){return l!==null&&Iu(l),bi(i,t.child,null,s),t=Ku(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function v0(t,i,s,l,c,d,p){if(s)return i.flags&256?(i.flags&=-257,l=$u(Error(n(422))),ua(t,i,p,l)):i.memoizedState!==null?(i.child=t.child,i.flags|=128,null):(d=l.fallback,c=i.mode,l=Ia({mode:"visible",children:l.children},c,0,null),d=Xr(d,c,p,null),d.flags|=2,l.return=i,d.return=i,l.sibling=d,i.child=l,(i.mode&1)!==0&&bi(i,t.child,null,p),i.child.memoizedState=Ju(p),i.memoizedState=Qu,d);if((i.mode&1)===0)return ua(t,i,p,null);if(c.data==="$!"){if(l=c.nextSibling&&c.nextSibling.dataset,l)var g=l.dgst;return l=g,d=Error(n(419)),l=$u(d,l,void 0),ua(t,i,p,l)}if(g=(p&t.childLanes)!==0,Bt||g){if(l=pt,l!==null){switch(p&-p){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(l.suspendedLanes|p))!==0?0:c,c!==0&&c!==d.retryLane&&(d.retryLane=c,Wn(t,c),wn(l,t,c,-1))}return dc(),l=$u(Error(n(421))),ua(t,i,p,l)}return c.data==="$?"?(i.flags|=128,i.child=t.child,i=C0.bind(null,t),c._reactRetry=i,null):(t=d.treeContext,Ht=hr(c.nextSibling),Wt=i,Je=!0,yn=null,t!==null&&(en[tn++]=$n,en[tn++]=Zn,en[tn++]=Zr,$n=t.id,Zn=t.overflow,Zr=i),i=Ku(i,l.children),i.flags|=4096,i)}function Kh(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Nu(t.return,i,s)}function Yu(t,i,s,l,c){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=c)}function Yh(t,i,s){var l=i.pendingProps,c=l.revealOrder,d=l.tail;if(Nt(t,i,l.children,s),l=qe.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Kh(t,s,i);else if(t.tag===19)Kh(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}if($e(qe,l),(i.mode&1)===0)i.memoizedState=null;else switch(c){case"forwards":for(s=i.child,c=null;s!==null;)t=s.alternate,t!==null&&na(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=i.child,i.child=null):(c=s.sibling,s.sibling=null),Yu(i,!1,c,s,d);break;case"backwards":for(s=null,c=i.child,i.child=null;c!==null;){if(t=c.alternate,t!==null&&na(t)===null){i.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}Yu(i,!0,s,null,d);break;case"together":Yu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ca(t,i){(i.mode&1)===0&&t!==null&&(t.alternate=null,i.alternate=null,i.flags|=2)}function Qn(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),Kr|=i.lanes,(s&i.childLanes)===0)return null;if(t!==null&&i.child!==t.child)throw Error(n(153));if(i.child!==null){for(t=i.child,s=br(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=br(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function _0(t,i,s){switch(i.tag){case 3:Hh(i),xi();break;case 5:ch(i);break;case 1:Et(i.type)&&Ho(i);break;case 4:Tu(i,i.stateNode.containerInfo);break;case 10:var l=i.type._context,c=i.memoizedProps.value;$e(Go,l._currentValue),l._currentValue=c;break;case 13:if(l=i.memoizedState,l!==null)return l.dehydrated!==null?($e(qe,qe.current&1),i.flags|=128,null):(s&i.child.childLanes)!==0?Jh(t,i,s):($e(qe,qe.current&1),t=Qn(t,i,s),t!==null?t.sibling:null);$e(qe,qe.current&1);break;case 19:if(l=(s&i.childLanes)!==0,(t.flags&128)!==0){if(l)return Yh(t,i,s);i.flags|=128}if(c=i.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),$e(qe,qe.current),l)break;return null;case 22:case 23:return i.lanes=0,$h(t,i,s)}return Qn(t,i,s)}var qh,qu,Gh,Xh;qh=function(t,i){for(var s=i.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},qu=function(){},Gh=function(t,i,s,l){var c=t.memoizedProps;if(c!==l){t=i.stateNode,Qr(Nn.current);var d=null;switch(s){case"input":c=Nl(t,c),l=Nl(t,l),d=[];break;case"select":c=_({},c,{value:void 0}),l=_({},l,{value:void 0}),d=[];break;case"textarea":c=Tl(t,c),l=Tl(t,l),d=[];break;default:typeof c.onClick!="function"&&typeof l.onClick=="function"&&(t.onclick=$o)}Cl(s,l);var p;s=null;for(N in c)if(!l.hasOwnProperty(N)&&c.hasOwnProperty(N)&&c[N]!=null)if(N==="style"){var g=c[N];for(p in g)g.hasOwnProperty(p)&&(s||(s={}),s[p]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(a.hasOwnProperty(N)?d||(d=[]):(d=d||[]).push(N,null));for(N in l){var v=l[N];if(g=c!=null?c[N]:void 0,l.hasOwnProperty(N)&&v!==g&&(v!=null||g!=null))if(N==="style")if(g){for(p in g)!g.hasOwnProperty(p)||v&&v.hasOwnProperty(p)||(s||(s={}),s[p]="");for(p in v)v.hasOwnProperty(p)&&g[p]!==v[p]&&(s||(s={}),s[p]=v[p])}else s||(d||(d=[]),d.push(N,s)),s=v;else N==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,g=g?g.__html:void 0,v!=null&&g!==v&&(d=d||[]).push(N,v)):N==="children"?typeof v!="string"&&typeof v!="number"||(d=d||[]).push(N,""+v):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(a.hasOwnProperty(N)?(v!=null&&N==="onScroll"&&He("scroll",t),d||g===v||(d=[])):(d=d||[]).push(N,v))}s&&(d=d||[]).push("style",s);var N=d;(i.updateQueue=N)&&(i.flags|=4)}},Xh=function(t,i,s,l){s!==l&&(i.flags|=4)};function Us(t,i){if(!Je)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function It(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&14680064,l|=c.flags&14680064,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function w0(t,i,s){var l=i.pendingProps;switch(_u(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(i),null;case 1:return Et(i.type)&&Wo(),It(i),null;case 3:return l=i.stateNode,Oi(),Qe(Ct),Qe(wt),Eu(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(Yo(i)?i.flags|=4:t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,yn!==null&&(lc(yn),yn=null))),qu(t,i),It(i),null;case 5:Au(i);var c=Qr(js.current);if(s=i.type,t!==null&&i.stateNode!=null)Gh(t,i,s,l,c),t.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!l){if(i.stateNode===null)throw Error(n(166));return It(i),null}if(t=Qr(Nn.current),Yo(i)){l=i.stateNode,s=i.type;var d=i.memoizedProps;switch(l[kn]=i,l[As]=d,t=(i.mode&1)!==0,s){case"dialog":He("cancel",l),He("close",l);break;case"iframe":case"object":case"embed":He("load",l);break;case"video":case"audio":for(c=0;c<Os.length;c++)He(Os[c],l);break;case"source":He("error",l);break;case"img":case"image":case"link":He("error",l),He("load",l);break;case"details":He("toggle",l);break;case"input":Ed(l,d),He("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!d.multiple},He("invalid",l);break;case"textarea":jd(l,d),He("invalid",l)}Cl(s,d),c=null;for(var p in d)if(d.hasOwnProperty(p)){var g=d[p];p==="children"?typeof g=="string"?l.textContent!==g&&(d.suppressHydrationWarning!==!0&&Vo(l.textContent,g,t),c=["children",g]):typeof g=="number"&&l.textContent!==""+g&&(d.suppressHydrationWarning!==!0&&Vo(l.textContent,g,t),c=["children",""+g]):a.hasOwnProperty(p)&&g!=null&&p==="onScroll"&&He("scroll",l)}switch(s){case"input":_o(l),Ld(l,d,!0);break;case"textarea":_o(l),Md(l);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(l.onclick=$o)}l=c,i.updateQueue=l,l!==null&&(i.flags|=4)}else{p=c.nodeType===9?c:c.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Pd(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=p.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof l.is=="string"?t=p.createElement(s,{is:l.is}):(t=p.createElement(s),s==="select"&&(p=t,l.multiple?p.multiple=!0:l.size&&(p.size=l.size))):t=p.createElementNS(t,s),t[kn]=i,t[As]=l,qh(t,i,!1,!1),i.stateNode=t;e:{switch(p=El(s,l),s){case"dialog":He("cancel",t),He("close",t),c=l;break;case"iframe":case"object":case"embed":He("load",t),c=l;break;case"video":case"audio":for(c=0;c<Os.length;c++)He(Os[c],t);c=l;break;case"source":He("error",t),c=l;break;case"img":case"image":case"link":He("error",t),He("load",t),c=l;break;case"details":He("toggle",t),c=l;break;case"input":Ed(t,l),c=Nl(t,l),He("invalid",t);break;case"option":c=l;break;case"select":t._wrapperState={wasMultiple:!!l.multiple},c=_({},l,{value:void 0}),He("invalid",t);break;case"textarea":jd(t,l),c=Tl(t,l),He("invalid",t);break;default:c=l}Cl(s,c),g=c;for(d in g)if(g.hasOwnProperty(d)){var v=g[d];d==="style"?zd(t,v):d==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&Rd(t,v)):d==="children"?typeof v=="string"?(s!=="textarea"||v!=="")&&ls(t,v):typeof v=="number"&&ls(t,""+v):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(a.hasOwnProperty(d)?v!=null&&d==="onScroll"&&He("scroll",t):v!=null&&De(t,d,v,p))}switch(s){case"input":_o(t),Ld(t,l,!1);break;case"textarea":_o(t),Md(t);break;case"option":l.value!=null&&t.setAttribute("value",""+Ee(l.value));break;case"select":t.multiple=!!l.multiple,d=l.value,d!=null?li(t,!!l.multiple,d,!1):l.defaultValue!=null&&li(t,!!l.multiple,l.defaultValue,!0);break;default:typeof c.onClick=="function"&&(t.onclick=$o)}switch(s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return It(i),null;case 6:if(t&&i.stateNode!=null)Xh(t,i,t.memoizedProps,l);else{if(typeof l!="string"&&i.stateNode===null)throw Error(n(166));if(s=Qr(js.current),Qr(Nn.current),Yo(i)){if(l=i.stateNode,s=i.memoizedProps,l[kn]=i,(d=l.nodeValue!==s)&&(t=Wt,t!==null))switch(t.tag){case 3:Vo(l.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vo(l.nodeValue,s,(t.mode&1)!==0)}d&&(i.flags|=4)}else l=(s.nodeType===9?s:s.ownerDocument).createTextNode(l),l[kn]=i,i.stateNode=l}return It(i),null;case 13:if(Qe(qe),l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Je&&Ht!==null&&(i.mode&1)!==0&&(i.flags&128)===0)nh(),xi(),i.flags|=98560,d=!1;else if(d=Yo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(n(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));d[kn]=i}else xi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;It(i),d=!1}else yn!==null&&(lc(yn),yn=null),d=!0;if(!d)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=s,i):(l=l!==null,l!==(t!==null&&t.memoizedState!==null)&&l&&(i.child.flags|=8192,(i.mode&1)!==0&&(t===null||(qe.current&1)!==0?ut===0&&(ut=3):dc())),i.updateQueue!==null&&(i.flags|=4),It(i),null);case 4:return Oi(),qu(t,i),t===null&&Ds(i.stateNode.containerInfo),It(i),null;case 10:return ku(i.type._context),It(i),null;case 17:return Et(i.type)&&Wo(),It(i),null;case 19:if(Qe(qe),d=i.memoizedState,d===null)return It(i),null;if(l=(i.flags&128)!==0,p=d.rendering,p===null)if(l)Us(d,!1);else{if(ut!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(p=na(t),p!==null){for(i.flags|=128,Us(d,!1),l=p.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),i.subtreeFlags=0,l=s,s=i.child;s!==null;)d=s,t=l,d.flags&=14680066,p=d.alternate,p===null?(d.childLanes=0,d.lanes=t,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=p.childLanes,d.lanes=p.lanes,d.child=p.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=p.memoizedProps,d.memoizedState=p.memoizedState,d.updateQueue=p.updateQueue,d.type=p.type,t=p.dependencies,d.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return $e(qe,qe.current&1|2),i.child}t=t.sibling}d.tail!==null&&nt()>Ci&&(i.flags|=128,l=!0,Us(d,!1),i.lanes=4194304)}else{if(!l)if(t=na(p),t!==null){if(i.flags|=128,l=!0,s=t.updateQueue,s!==null&&(i.updateQueue=s,i.flags|=4),Us(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!Je)return It(i),null}else 2*nt()-d.renderingStartTime>Ci&&s!==1073741824&&(i.flags|=128,l=!0,Us(d,!1),i.lanes=4194304);d.isBackwards?(p.sibling=i.child,i.child=p):(s=d.last,s!==null?s.sibling=p:i.child=p,d.last=p)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=nt(),i.sibling=null,s=qe.current,$e(qe,l?s&1|2:s&1),i):(It(i),null);case 22:case 23:return cc(),l=i.memoizedState!==null,t!==null&&t.memoizedState!==null!==l&&(i.flags|=8192),l&&(i.mode&1)!==0?(Qt&1073741824)!==0&&(It(i),i.subtreeFlags&6&&(i.flags|=8192)):It(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function S0(t,i){switch(_u(i),i.tag){case 1:return Et(i.type)&&Wo(),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Oi(),Qe(Ct),Qe(wt),Eu(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 5:return Au(i),null;case 13:if(Qe(qe),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(n(340));xi()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Qe(qe),null;case 4:return Oi(),null;case 10:return ku(i.type._context),null;case 22:case 23:return cc(),null;case 24:return null;default:return null}}var da=!1,xt=!1,I0=typeof WeakSet=="function"?WeakSet:Set,z=null;function Ti(t,i){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(l){et(t,i,l)}else s.current=null}function Gu(t,i,s){try{s()}catch(l){et(t,i,l)}}var ep=!1;function x0(t,i){if(cu=Co,t=Ef(),nu(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var p=0,g=-1,v=-1,N=0,A=0,C=t,D=null;t:for(;;){for(var P;C!==s||c!==0&&C.nodeType!==3||(g=p+c),C!==d||l!==0&&C.nodeType!==3||(v=p+l),C.nodeType===3&&(p+=C.nodeValue.length),(P=C.firstChild)!==null;)D=C,C=P;for(;;){if(C===t)break t;if(D===s&&++N===c&&(g=p),D===d&&++A===l&&(v=p),(P=C.nextSibling)!==null)break;C=D,D=C.parentNode}C=P}s=g===-1||v===-1?null:{start:g,end:v}}else s=null}s=s||{start:0,end:0}}else s=null;for(du={focusedElem:t,selectionRange:s},Co=!1,z=i;z!==null;)if(i=z,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,z=t;else for(;z!==null;){i=z;try{var V=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(V!==null){var $=V.memoizedProps,rt=V.memoizedState,b=i.stateNode,w=b.getSnapshotBeforeUpdate(i.elementType===i.type?$:gn(i.type,$),rt);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var k=i.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(B){et(i,i.return,B)}if(t=i.sibling,t!==null){t.return=i.return,z=t;break}z=i.return}return V=ep,ep=!1,V}function zs(t,i,s){var l=i.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var c=l=l.next;do{if((c.tag&t)===t){var d=c.destroy;c.destroy=void 0,d!==void 0&&Gu(i,s,d)}c=c.next}while(c!==l)}}function fa(t,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&t)===t){var l=s.create;s.destroy=l()}s=s.next}while(s!==i)}}function Xu(t){var i=t.ref;if(i!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof i=="function"?i(t):i.current=t}}function tp(t){var i=t.alternate;i!==null&&(t.alternate=null,tp(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&(delete i[kn],delete i[As],delete i[mu],delete i[s0],delete i[o0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function np(t){return t.tag===5||t.tag===3||t.tag===4}function rp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||np(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ec(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.nodeType===8?s.parentNode.insertBefore(t,i):s.insertBefore(t,i):(s.nodeType===8?(i=s.parentNode,i.insertBefore(t,s)):(i=s,i.appendChild(t)),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=$o));else if(l!==4&&(t=t.child,t!==null))for(ec(t,i,s),t=t.sibling;t!==null;)ec(t,i,s),t=t.sibling}function tc(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(t=t.child,t!==null))for(tc(t,i,s),t=t.sibling;t!==null;)tc(t,i,s),t=t.sibling}var gt=null,vn=!1;function _r(t,i,s){for(s=s.child;s!==null;)ip(t,i,s),s=s.sibling}function ip(t,i,s){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(ko,s)}catch{}switch(s.tag){case 5:xt||Ti(s,i);case 6:var l=gt,c=vn;gt=null,_r(t,i,s),gt=l,vn=c,gt!==null&&(vn?(t=gt,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):gt.removeChild(s.stateNode));break;case 18:gt!==null&&(vn?(t=gt,s=s.stateNode,t.nodeType===8?pu(t.parentNode,s):t.nodeType===1&&pu(t,s),_s(t)):pu(gt,s.stateNode));break;case 4:l=gt,c=vn,gt=s.stateNode.containerInfo,vn=!0,_r(t,i,s),gt=l,vn=c;break;case 0:case 11:case 14:case 15:if(!xt&&(l=s.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){c=l=l.next;do{var d=c,p=d.destroy;d=d.tag,p!==void 0&&((d&2)!==0||(d&4)!==0)&&Gu(s,i,p),c=c.next}while(c!==l)}_r(t,i,s);break;case 1:if(!xt&&(Ti(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=s.memoizedProps,l.state=s.memoizedState,l.componentWillUnmount()}catch(g){et(s,i,g)}_r(t,i,s);break;case 21:_r(t,i,s);break;case 22:s.mode&1?(xt=(l=xt)||s.memoizedState!==null,_r(t,i,s),xt=l):_r(t,i,s);break;default:_r(t,i,s)}}function sp(t){var i=t.updateQueue;if(i!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new I0),i.forEach(function(l){var c=E0.bind(null,t,l);s.has(l)||(s.add(l),l.then(c,c))})}}function _n(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];try{var d=t,p=i,g=p;e:for(;g!==null;){switch(g.tag){case 5:gt=g.stateNode,vn=!1;break e;case 3:gt=g.stateNode.containerInfo,vn=!0;break e;case 4:gt=g.stateNode.containerInfo,vn=!0;break e}g=g.return}if(gt===null)throw Error(n(160));ip(d,p,c),gt=null,vn=!1;var v=c.alternate;v!==null&&(v.return=null),c.return=null}catch(N){et(c,i,N)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)op(i,t),i=i.sibling}function op(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_n(i,t),Dn(t),l&4){try{zs(3,t,t.return),fa(3,t)}catch($){et(t,t.return,$)}try{zs(5,t,t.return)}catch($){et(t,t.return,$)}}break;case 1:_n(i,t),Dn(t),l&512&&s!==null&&Ti(s,s.return);break;case 5:if(_n(i,t),Dn(t),l&512&&s!==null&&Ti(s,s.return),t.flags&32){var c=t.stateNode;try{ls(c,"")}catch($){et(t,t.return,$)}}if(l&4&&(c=t.stateNode,c!=null)){var d=t.memoizedProps,p=s!==null?s.memoizedProps:d,g=t.type,v=t.updateQueue;if(t.updateQueue=null,v!==null)try{g==="input"&&d.type==="radio"&&d.name!=null&&Bd(c,d),El(g,p);var N=El(g,d);for(p=0;p<v.length;p+=2){var A=v[p],C=v[p+1];A==="style"?zd(c,C):A==="dangerouslySetInnerHTML"?Rd(c,C):A==="children"?ls(c,C):De(c,A,C,N)}switch(g){case"input":Ol(c,d);break;case"textarea":Fd(c,d);break;case"select":var D=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!d.multiple;var P=d.value;P!=null?li(c,!!d.multiple,P,!1):D!==!!d.multiple&&(d.defaultValue!=null?li(c,!!d.multiple,d.defaultValue,!0):li(c,!!d.multiple,d.multiple?[]:"",!1))}c[As]=d}catch($){et(t,t.return,$)}}break;case 6:if(_n(i,t),Dn(t),l&4){if(t.stateNode===null)throw Error(n(162));c=t.stateNode,d=t.memoizedProps;try{c.nodeValue=d}catch($){et(t,t.return,$)}}break;case 3:if(_n(i,t),Dn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{_s(i.containerInfo)}catch($){et(t,t.return,$)}break;case 4:_n(i,t),Dn(t);break;case 13:_n(i,t),Dn(t),c=t.child,c.flags&8192&&(d=c.memoizedState!==null,c.stateNode.isHidden=d,!d||c.alternate!==null&&c.alternate.memoizedState!==null||(ic=nt())),l&4&&sp(t);break;case 22:if(A=s!==null&&s.memoizedState!==null,t.mode&1?(xt=(N=xt)||A,_n(i,t),xt=N):_n(i,t),Dn(t),l&8192){if(N=t.memoizedState!==null,(t.stateNode.isHidden=N)&&!A&&(t.mode&1)!==0)for(z=t,A=t.child;A!==null;){for(C=z=A;z!==null;){switch(D=z,P=D.child,D.tag){case 0:case 11:case 14:case 15:zs(4,D,D.return);break;case 1:Ti(D,D.return);var V=D.stateNode;if(typeof V.componentWillUnmount=="function"){l=D,s=D.return;try{i=l,V.props=i.memoizedProps,V.state=i.memoizedState,V.componentWillUnmount()}catch($){et(l,s,$)}}break;case 5:Ti(D,D.return);break;case 22:if(D.memoizedState!==null){up(C);continue}}P!==null?(P.return=D,z=P):up(C)}A=A.sibling}e:for(A=null,C=t;;){if(C.tag===5){if(A===null){A=C;try{c=C.stateNode,N?(d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(g=C.stateNode,v=C.memoizedProps.style,p=v!=null&&v.hasOwnProperty("display")?v.display:null,g.style.display=Ud("display",p))}catch($){et(t,t.return,$)}}}else if(C.tag===6){if(A===null)try{C.stateNode.nodeValue=N?"":C.memoizedProps}catch($){et(t,t.return,$)}}else if((C.tag!==22&&C.tag!==23||C.memoizedState===null||C===t)&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===t)break e;for(;C.sibling===null;){if(C.return===null||C.return===t)break e;A===C&&(A=null),C=C.return}A===C&&(A=null),C.sibling.return=C.return,C=C.sibling}}break;case 19:_n(i,t),Dn(t),l&4&&sp(t);break;case 21:break;default:_n(i,t),Dn(t)}}function Dn(t){var i=t.flags;if(i&2){try{e:{for(var s=t.return;s!==null;){if(np(s)){var l=s;break e}s=s.return}throw Error(n(160))}switch(l.tag){case 5:var c=l.stateNode;l.flags&32&&(ls(c,""),l.flags&=-33);var d=rp(t);tc(t,d,c);break;case 3:case 4:var p=l.stateNode.containerInfo,g=rp(t);ec(t,g,p);break;default:throw Error(n(161))}}catch(v){et(t,t.return,v)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function b0(t,i,s){z=t,ap(t)}function ap(t,i,s){for(var l=(t.mode&1)!==0;z!==null;){var c=z,d=c.child;if(c.tag===22&&l){var p=c.memoizedState!==null||da;if(!p){var g=c.alternate,v=g!==null&&g.memoizedState!==null||xt;g=da;var N=xt;if(da=p,(xt=v)&&!N)for(z=c;z!==null;)p=z,v=p.child,p.tag===22&&p.memoizedState!==null?cp(c):v!==null?(v.return=p,z=v):cp(c);for(;d!==null;)z=d,ap(d),d=d.sibling;z=c,da=g,xt=N}lp(t)}else(c.subtreeFlags&8772)!==0&&d!==null?(d.return=c,z=d):lp(t)}}function lp(t){for(;z!==null;){var i=z;if((i.flags&8772)!==0){var s=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:xt||fa(5,i);break;case 1:var l=i.stateNode;if(i.flags&4&&!xt)if(s===null)l.componentDidMount();else{var c=i.elementType===i.type?s.memoizedProps:gn(i.type,s.memoizedProps);l.componentDidUpdate(c,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var d=i.updateQueue;d!==null&&uh(i,d,l);break;case 3:var p=i.updateQueue;if(p!==null){if(s=null,i.child!==null)switch(i.child.tag){case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}uh(i,p,s)}break;case 5:var g=i.stateNode;if(s===null&&i.flags&4){s=g;var v=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&s.focus();break;case"img":v.src&&(s.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var N=i.alternate;if(N!==null){var A=N.memoizedState;if(A!==null){var C=A.dehydrated;C!==null&&_s(C)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}xt||i.flags&512&&Xu(i)}catch(D){et(i,i.return,D)}}if(i===t){z=null;break}if(s=i.sibling,s!==null){s.return=i.return,z=s;break}z=i.return}}function up(t){for(;z!==null;){var i=z;if(i===t){z=null;break}var s=i.sibling;if(s!==null){s.return=i.return,z=s;break}z=i.return}}function cp(t){for(;z!==null;){var i=z;try{switch(i.tag){case 0:case 11:case 15:var s=i.return;try{fa(4,i)}catch(v){et(i,s,v)}break;case 1:var l=i.stateNode;if(typeof l.componentDidMount=="function"){var c=i.return;try{l.componentDidMount()}catch(v){et(i,c,v)}}var d=i.return;try{Xu(i)}catch(v){et(i,d,v)}break;case 5:var p=i.return;try{Xu(i)}catch(v){et(i,p,v)}}}catch(v){et(i,i.return,v)}if(i===t){z=null;break}var g=i.sibling;if(g!==null){g.return=i.return,z=g;break}z=i.return}}var k0=Math.ceil,ha=_e.ReactCurrentDispatcher,nc=_e.ReactCurrentOwner,sn=_e.ReactCurrentBatchConfig,xe=0,pt=null,it=null,vt=0,Qt=0,Ai=pr(0),ut=0,Vs=null,Kr=0,pa=0,rc=0,$s=null,Lt=null,ic=0,Ci=1/0,Jn=null,ma=!1,sc=null,wr=null,ya=!1,Sr=null,ga=0,Zs=0,oc=null,va=-1,_a=0;function Ot(){return(xe&6)!==0?nt():va!==-1?va:va=nt()}function Ir(t){return(t.mode&1)===0?1:(xe&2)!==0&&vt!==0?vt&-vt:l0.transition!==null?(_a===0&&(_a=nf()),_a):(t=je,t!==0||(t=window.event,t=t===void 0?16:ff(t.type)),t)}function wn(t,i,s,l){if(50<Zs)throw Zs=0,oc=null,Error(n(185));ps(t,s,l),((xe&2)===0||t!==pt)&&(t===pt&&((xe&2)===0&&(pa|=s),ut===4&&xr(t,vt)),jt(t,l),s===1&&xe===0&&(i.mode&1)===0&&(Ci=nt()+500,Qo&&yr()))}function jt(t,i){var s=t.callbackNode;lv(t,i);var l=Do(t,t===pt?vt:0);if(l===0)s!==null&&Xd(s),t.callbackNode=null,t.callbackPriority=0;else if(i=l&-l,t.callbackPriority!==i){if(s!=null&&Xd(s),i===1)t.tag===0?a0(fp.bind(null,t)):qf(fp.bind(null,t)),r0(function(){(xe&6)===0&&yr()}),s=null;else{switch(rf(l)){case 1:s=Rl;break;case 4:s=ef;break;case 16:s=bo;break;case 536870912:s=tf;break;default:s=bo}s=wp(s,dp.bind(null,t))}t.callbackPriority=i,t.callbackNode=s}}function dp(t,i){if(va=-1,_a=0,(xe&6)!==0)throw Error(n(327));var s=t.callbackNode;if(Ei()&&t.callbackNode!==s)return null;var l=Do(t,t===pt?vt:0);if(l===0)return null;if((l&30)!==0||(l&t.expiredLanes)!==0||i)i=wa(t,l);else{i=l;var c=xe;xe|=2;var d=pp();(pt!==t||vt!==i)&&(Jn=null,Ci=nt()+500,qr(t,i));do try{D0();break}catch(g){hp(t,g)}while(!0);bu(),ha.current=d,xe=c,it!==null?i=0:(pt=null,vt=0,i=ut)}if(i!==0){if(i===2&&(c=Ul(t),c!==0&&(l=c,i=ac(t,c))),i===1)throw s=Vs,qr(t,0),xr(t,l),jt(t,nt()),s;if(i===6)xr(t,l);else{if(c=t.current.alternate,(l&30)===0&&!N0(c)&&(i=wa(t,l),i===2&&(d=Ul(t),d!==0&&(l=d,i=ac(t,d))),i===1))throw s=Vs,qr(t,0),xr(t,l),jt(t,nt()),s;switch(t.finishedWork=c,t.finishedLanes=l,i){case 0:case 1:throw Error(n(345));case 2:Gr(t,Lt,Jn);break;case 3:if(xr(t,l),(l&130023424)===l&&(i=ic+500-nt(),10<i)){if(Do(t,0)!==0)break;if(c=t.suspendedLanes,(c&l)!==l){Ot(),t.pingedLanes|=t.suspendedLanes&c;break}t.timeoutHandle=hu(Gr.bind(null,t,Lt,Jn),i);break}Gr(t,Lt,Jn);break;case 4:if(xr(t,l),(l&4194240)===l)break;for(i=t.eventTimes,c=-1;0<l;){var p=31-pn(l);d=1<<p,p=i[p],p>c&&(c=p),l&=~d}if(l=c,l=nt()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*k0(l/1960))-l,10<l){t.timeoutHandle=hu(Gr.bind(null,t,Lt,Jn),l);break}Gr(t,Lt,Jn);break;case 5:Gr(t,Lt,Jn);break;default:throw Error(n(329))}}}return jt(t,nt()),t.callbackNode===s?dp.bind(null,t):null}function ac(t,i){var s=$s;return t.current.memoizedState.isDehydrated&&(qr(t,i).flags|=256),t=wa(t,i),t!==2&&(i=Lt,Lt=s,i!==null&&lc(i)),t}function lc(t){Lt===null?Lt=t:Lt.push.apply(Lt,t)}function N0(t){for(var i=t;;){if(i.flags&16384){var s=i.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var l=0;l<s.length;l++){var c=s[l],d=c.getSnapshot;c=c.value;try{if(!mn(d(),c))return!1}catch{return!1}}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function xr(t,i){for(i&=~rc,i&=~pa,t.suspendedLanes|=i,t.pingedLanes&=~i,t=t.expirationTimes;0<i;){var s=31-pn(i),l=1<<s;t[s]=-1,i&=~l}}function fp(t){if((xe&6)!==0)throw Error(n(327));Ei();var i=Do(t,0);if((i&1)===0)return jt(t,nt()),null;var s=wa(t,i);if(t.tag!==0&&s===2){var l=Ul(t);l!==0&&(i=l,s=ac(t,l))}if(s===1)throw s=Vs,qr(t,0),xr(t,i),jt(t,nt()),s;if(s===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=i,Gr(t,Lt,Jn),jt(t,nt()),null}function uc(t,i){var s=xe;xe|=1;try{return t(i)}finally{xe=s,xe===0&&(Ci=nt()+500,Qo&&yr())}}function Yr(t){Sr!==null&&Sr.tag===0&&(xe&6)===0&&Ei();var i=xe;xe|=1;var s=sn.transition,l=je;try{if(sn.transition=null,je=1,t)return t()}finally{je=l,sn.transition=s,xe=i,(xe&6)===0&&yr()}}function cc(){Qt=Ai.current,Qe(Ai)}function qr(t,i){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,n0(s)),it!==null)for(s=it.return;s!==null;){var l=s;switch(_u(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Wo();break;case 3:Oi(),Qe(Ct),Qe(wt),Eu();break;case 5:Au(l);break;case 4:Oi();break;case 13:Qe(qe);break;case 19:Qe(qe);break;case 10:ku(l.type._context);break;case 22:case 23:cc()}s=s.return}if(pt=t,it=t=br(t.current,null),vt=Qt=i,ut=0,Vs=null,rc=pa=Kr=0,Lt=$s=null,Hr!==null){for(i=0;i<Hr.length;i++)if(s=Hr[i],l=s.interleaved,l!==null){s.interleaved=null;var c=l.next,d=s.pending;if(d!==null){var p=d.next;d.next=c,l.next=p}s.pending=l}Hr=null}return t}function hp(t,i){do{var s=it;try{if(bu(),ra.current=aa,ia){for(var l=Ge.memoizedState;l!==null;){var c=l.queue;c!==null&&(c.pending=null),l=l.next}ia=!1}if(Jr=0,ht=lt=Ge=null,Fs=!1,Ms=0,nc.current=null,s===null||s.return===null){ut=1,Vs=i,it=null;break}e:{var d=t,p=s.return,g=s,v=i;if(i=vt,g.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var N=v,A=g,C=A.tag;if((A.mode&1)===0&&(C===0||C===11||C===15)){var D=A.alternate;D?(A.updateQueue=D.updateQueue,A.memoizedState=D.memoizedState,A.lanes=D.lanes):(A.updateQueue=null,A.memoizedState=null)}var P=Ph(p);if(P!==null){P.flags&=-257,Rh(P,p,g,d,i),P.mode&1&&Mh(d,N,i),i=P,v=N;var V=i.updateQueue;if(V===null){var $=new Set;$.add(v),i.updateQueue=$}else V.add(v);break e}else{if((i&1)===0){Mh(d,N,i),dc();break e}v=Error(n(426))}}else if(Je&&g.mode&1){var rt=Ph(p);if(rt!==null){(rt.flags&65536)===0&&(rt.flags|=256),Rh(rt,p,g,d,i),Iu(Di(v,g));break e}}d=v=Di(v,g),ut!==4&&(ut=2),$s===null?$s=[d]:$s.push(d),d=p;do{switch(d.tag){case 3:d.flags|=65536,i&=-i,d.lanes|=i;var b=jh(d,v,i);lh(d,b);break e;case 1:g=v;var w=d.type,k=d.stateNode;if((d.flags&128)===0&&(typeof w.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(wr===null||!wr.has(k)))){d.flags|=65536,i&=-i,d.lanes|=i;var B=Fh(d,g,i);lh(d,B);break e}}d=d.return}while(d!==null)}yp(s)}catch(H){i=H,it===s&&s!==null&&(it=s=s.return);continue}break}while(!0)}function pp(){var t=ha.current;return ha.current=aa,t===null?aa:t}function dc(){(ut===0||ut===3||ut===2)&&(ut=4),pt===null||(Kr&268435455)===0&&(pa&268435455)===0||xr(pt,vt)}function wa(t,i){var s=xe;xe|=2;var l=pp();(pt!==t||vt!==i)&&(Jn=null,qr(t,i));do try{O0();break}catch(c){hp(t,c)}while(!0);if(bu(),xe=s,ha.current=l,it!==null)throw Error(n(261));return pt=null,vt=0,ut}function O0(){for(;it!==null;)mp(it)}function D0(){for(;it!==null&&!Xg();)mp(it)}function mp(t){var i=_p(t.alternate,t,Qt);t.memoizedProps=t.pendingProps,i===null?yp(t):it=i,nc.current=null}function yp(t){var i=t;do{var s=i.alternate;if(t=i.return,(i.flags&32768)===0){if(s=w0(s,i,Qt),s!==null){it=s;return}}else{if(s=S0(s,i),s!==null){s.flags&=32767,it=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ut=6,it=null;return}}if(i=i.sibling,i!==null){it=i;return}it=i=t}while(i!==null);ut===0&&(ut=5)}function Gr(t,i,s){var l=je,c=sn.transition;try{sn.transition=null,je=1,T0(t,i,s,l)}finally{sn.transition=c,je=l}return null}function T0(t,i,s,l){do Ei();while(Sr!==null);if((xe&6)!==0)throw Error(n(327));s=t.finishedWork;var c=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var d=s.lanes|s.childLanes;if(uv(t,d),t===pt&&(it=pt=null,vt=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||ya||(ya=!0,wp(bo,function(){return Ei(),null})),d=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||d){d=sn.transition,sn.transition=null;var p=je;je=1;var g=xe;xe|=4,nc.current=null,x0(t,s),op(s,t),Kv(du),Co=!!cu,du=cu=null,t.current=s,b0(s),ev(),xe=g,je=p,sn.transition=d}else t.current=s;if(ya&&(ya=!1,Sr=t,ga=c),d=t.pendingLanes,d===0&&(wr=null),rv(s.stateNode),jt(t,nt()),i!==null)for(l=t.onRecoverableError,s=0;s<i.length;s++)c=i[s],l(c.value,{componentStack:c.stack,digest:c.digest});if(ma)throw ma=!1,t=sc,sc=null,t;return(ga&1)!==0&&t.tag!==0&&Ei(),d=t.pendingLanes,(d&1)!==0?t===oc?Zs++:(Zs=0,oc=t):Zs=0,yr(),null}function Ei(){if(Sr!==null){var t=rf(ga),i=sn.transition,s=je;try{if(sn.transition=null,je=16>t?16:t,Sr===null)var l=!1;else{if(t=Sr,Sr=null,ga=0,(xe&6)!==0)throw Error(n(331));var c=xe;for(xe|=4,z=t.current;z!==null;){var d=z,p=d.child;if((z.flags&16)!==0){var g=d.deletions;if(g!==null){for(var v=0;v<g.length;v++){var N=g[v];for(z=N;z!==null;){var A=z;switch(A.tag){case 0:case 11:case 15:zs(8,A,d)}var C=A.child;if(C!==null)C.return=A,z=C;else for(;z!==null;){A=z;var D=A.sibling,P=A.return;if(tp(A),A===N){z=null;break}if(D!==null){D.return=P,z=D;break}z=P}}}var V=d.alternate;if(V!==null){var $=V.child;if($!==null){V.child=null;do{var rt=$.sibling;$.sibling=null,$=rt}while($!==null)}}z=d}}if((d.subtreeFlags&2064)!==0&&p!==null)p.return=d,z=p;else e:for(;z!==null;){if(d=z,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:zs(9,d,d.return)}var b=d.sibling;if(b!==null){b.return=d.return,z=b;break e}z=d.return}}var w=t.current;for(z=w;z!==null;){p=z;var k=p.child;if((p.subtreeFlags&2064)!==0&&k!==null)k.return=p,z=k;else e:for(p=w;z!==null;){if(g=z,(g.flags&2048)!==0)try{switch(g.tag){case 0:case 11:case 15:fa(9,g)}}catch(H){et(g,g.return,H)}if(g===p){z=null;break e}var B=g.sibling;if(B!==null){B.return=g.return,z=B;break e}z=g.return}}if(xe=c,yr(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(ko,t)}catch{}l=!0}return l}finally{je=s,sn.transition=i}}return!1}function gp(t,i,s){i=Di(s,i),i=jh(t,i,1),t=vr(t,i,1),i=Ot(),t!==null&&(ps(t,1,i),jt(t,i))}function et(t,i,s){if(t.tag===3)gp(t,t,s);else for(;i!==null;){if(i.tag===3){gp(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wr===null||!wr.has(l))){t=Di(s,t),t=Fh(i,t,1),i=vr(i,t,1),t=Ot(),i!==null&&(ps(i,1,t),jt(i,t));break}}i=i.return}}function A0(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),i=Ot(),t.pingedLanes|=t.suspendedLanes&s,pt===t&&(vt&s)===s&&(ut===4||ut===3&&(vt&130023424)===vt&&500>nt()-ic?qr(t,0):rc|=s),jt(t,i)}function vp(t,i){i===0&&((t.mode&1)===0?i=1:(i=Oo,Oo<<=1,(Oo&130023424)===0&&(Oo=4194304)));var s=Ot();t=Wn(t,i),t!==null&&(ps(t,i,s),jt(t,s))}function C0(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),vp(t,s)}function E0(t,i){var s=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;default:throw Error(n(314))}l!==null&&l.delete(i),vp(t,s)}var _p;_p=function(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps||Ct.current)Bt=!0;else{if((t.lanes&s)===0&&(i.flags&128)===0)return Bt=!1,_0(t,i,s);Bt=(t.flags&131072)!==0}else Bt=!1,Je&&(i.flags&1048576)!==0&&Gf(i,Ko,i.index);switch(i.lanes=0,i.tag){case 2:var l=i.type;ca(t,i),t=i.pendingProps;var c=wi(i,wt.current);Ni(i,s),c=ju(null,i,l,t,c,s);var d=Fu();return i.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Et(l)?(d=!0,Ho(i)):d=!1,i.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Du(i),c.updater=la,i.stateNode=c,c._reactInternals=i,Vu(i,l,t,s),i=Hu(null,i,l,!0,d,s)):(i.tag=0,Je&&d&&vu(i),Nt(null,i,c,s),i=i.child),i;case 16:l=i.elementType;e:{switch(ca(t,i),t=i.pendingProps,c=l._init,l=c(l._payload),i.type=l,c=i.tag=L0(l),t=gn(l,t),c){case 0:i=Wu(null,i,l,t,s);break e;case 1:i=Wh(null,i,l,t,s);break e;case 11:i=Uh(null,i,l,t,s);break e;case 14:i=zh(null,i,l,gn(l.type,t),s);break e}throw Error(n(306,l,""))}return i;case 0:return l=i.type,c=i.pendingProps,c=i.elementType===l?c:gn(l,c),Wu(t,i,l,c,s);case 1:return l=i.type,c=i.pendingProps,c=i.elementType===l?c:gn(l,c),Wh(t,i,l,c,s);case 3:e:{if(Hh(i),t===null)throw Error(n(387));l=i.pendingProps,d=i.memoizedState,c=d.element,ah(t,i),ta(i,l,null,s);var p=i.memoizedState;if(l=p.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){c=Di(Error(n(423)),i),i=Qh(t,i,l,s,c);break e}else if(l!==c){c=Di(Error(n(424)),i),i=Qh(t,i,l,s,c);break e}else for(Ht=hr(i.stateNode.containerInfo.firstChild),Wt=i,Je=!0,yn=null,s=sh(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(xi(),l===c){i=Qn(t,i,s);break e}Nt(t,i,l,s)}i=i.child}return i;case 5:return ch(i),t===null&&Su(i),l=i.type,c=i.pendingProps,d=t!==null?t.memoizedProps:null,p=c.children,fu(l,c)?p=null:d!==null&&fu(l,d)&&(i.flags|=32),Zh(t,i),Nt(t,i,p,s),i.child;case 6:return t===null&&Su(i),null;case 13:return Jh(t,i,s);case 4:return Tu(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=bi(i,null,l,s):Nt(t,i,l,s),i.child;case 11:return l=i.type,c=i.pendingProps,c=i.elementType===l?c:gn(l,c),Uh(t,i,l,c,s);case 7:return Nt(t,i,i.pendingProps,s),i.child;case 8:return Nt(t,i,i.pendingProps.children,s),i.child;case 12:return Nt(t,i,i.pendingProps.children,s),i.child;case 10:e:{if(l=i.type._context,c=i.pendingProps,d=i.memoizedProps,p=c.value,$e(Go,l._currentValue),l._currentValue=p,d!==null)if(mn(d.value,p)){if(d.children===c.children&&!Ct.current){i=Qn(t,i,s);break e}}else for(d=i.child,d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){p=d.child;for(var v=g.firstContext;v!==null;){if(v.context===l){if(d.tag===1){v=Hn(-1,s&-s),v.tag=2;var N=d.updateQueue;if(N!==null){N=N.shared;var A=N.pending;A===null?v.next=v:(v.next=A.next,A.next=v),N.pending=v}}d.lanes|=s,v=d.alternate,v!==null&&(v.lanes|=s),Nu(d.return,s,i),g.lanes|=s;break}v=v.next}}else if(d.tag===10)p=d.type===i.type?null:d.child;else if(d.tag===18){if(p=d.return,p===null)throw Error(n(341));p.lanes|=s,g=p.alternate,g!==null&&(g.lanes|=s),Nu(p,s,i),p=d.sibling}else p=d.child;if(p!==null)p.return=d;else for(p=d;p!==null;){if(p===i){p=null;break}if(d=p.sibling,d!==null){d.return=p.return,p=d;break}p=p.return}d=p}Nt(t,i,c.children,s),i=i.child}return i;case 9:return c=i.type,l=i.pendingProps.children,Ni(i,s),c=nn(c),l=l(c),i.flags|=1,Nt(t,i,l,s),i.child;case 14:return l=i.type,c=gn(l,i.pendingProps),c=gn(l.type,c),zh(t,i,l,c,s);case 15:return Vh(t,i,i.type,i.pendingProps,s);case 17:return l=i.type,c=i.pendingProps,c=i.elementType===l?c:gn(l,c),ca(t,i),i.tag=1,Et(l)?(t=!0,Ho(i)):t=!1,Ni(i,s),Bh(i,l,c),Vu(i,l,c,s),Hu(null,i,l,!0,t,s);case 19:return Yh(t,i,s);case 22:return $h(t,i,s)}throw Error(n(156,i.tag))};function wp(t,i){return Gd(t,i)}function B0(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,i,s,l){return new B0(t,i,s,l)}function fc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function L0(t){if(typeof t=="function")return fc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xt)return 11;if(t===hn)return 14}return 2}function br(t,i){var s=t.alternate;return s===null?(s=on(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function Sa(t,i,s,l,c,d){var p=2;if(l=t,typeof t=="function")fc(t)&&(p=1);else if(typeof t=="string")p=5;else e:switch(t){case Ue:return Xr(s.children,c,d,i);case we:p=8,c|=8;break;case _t:return t=on(12,s,i,c|2),t.elementType=_t,t.lanes=d,t;case bt:return t=on(13,s,i,c),t.elementType=bt,t.lanes=d,t;case $t:return t=on(19,s,i,c),t.elementType=$t,t.lanes=d,t;case ze:return Ia(s,c,d,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case at:p=10;break e;case Un:p=9;break e;case Xt:p=11;break e;case hn:p=14;break e;case kt:p=16,l=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return i=on(p,s,i,c),i.elementType=t,i.type=l,i.lanes=d,i}function Xr(t,i,s,l){return t=on(7,t,l,i),t.lanes=s,t}function Ia(t,i,s,l){return t=on(22,t,l,i),t.elementType=ze,t.lanes=s,t.stateNode={isHidden:!1},t}function hc(t,i,s){return t=on(6,t,null,i),t.lanes=s,t}function pc(t,i,s){return i=on(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function j0(t,i,s,l,c){this.tag=i,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zl(0),this.expirationTimes=zl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zl(0),this.identifierPrefix=l,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function mc(t,i,s,l,c,d,p,g,v){return t=new j0(t,i,s,g,v),i===1?(i=1,d===!0&&(i|=8)):i=0,d=on(3,null,null,i),t.current=d,d.stateNode=t,d.memoizedState={element:l,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Du(d),t}function F0(t,i,s){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fe,key:l==null?null:""+l,children:t,containerInfo:i,implementation:s}}function Sp(t){if(!t)return mr;t=t._reactInternals;e:{if(zr(t)!==t||t.tag!==1)throw Error(n(170));var i=t;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Et(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(t.tag===1){var s=t.type;if(Et(s))return Kf(t,s,i)}return i}function Ip(t,i,s,l,c,d,p,g,v){return t=mc(s,l,!0,t,c,d,p,g,v),t.context=Sp(null),s=t.current,l=Ot(),c=Ir(s),d=Hn(l,c),d.callback=i??null,vr(s,d,c),t.current.lanes=c,ps(t,c,l),jt(t,l),t}function xa(t,i,s,l){var c=i.current,d=Ot(),p=Ir(c);return s=Sp(s),i.context===null?i.context=s:i.pendingContext=s,i=Hn(d,p),i.payload={element:t},l=l===void 0?null:l,l!==null&&(i.callback=l),t=vr(c,i,p),t!==null&&(wn(t,c,p,d),ea(t,c,p)),p}function ba(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xp(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function yc(t,i){xp(t,i),(t=t.alternate)&&xp(t,i)}function M0(){return null}var bp=typeof reportError=="function"?reportError:function(t){console.error(t)};function gc(t){this._internalRoot=t}ka.prototype.render=gc.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(n(409));xa(t,i,null,null)},ka.prototype.unmount=gc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Yr(function(){xa(null,t,null,null)}),i[zn]=null}};function ka(t){this._internalRoot=t}ka.prototype.unstable_scheduleHydration=function(t){if(t){var i=af();t={blockedOn:null,target:t,priority:i};for(var s=0;s<cr.length&&i!==0&&i<cr[s].priority;s++);cr.splice(s,0,t),s===0&&cf(t)}};function vc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Na(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kp(){}function P0(t,i,s,l,c){if(c){if(typeof l=="function"){var d=l;l=function(){var N=ba(p);d.call(N)}}var p=Ip(i,l,t,0,null,!1,!1,"",kp);return t._reactRootContainer=p,t[zn]=p.current,Ds(t.nodeType===8?t.parentNode:t),Yr(),p}for(;c=t.lastChild;)t.removeChild(c);if(typeof l=="function"){var g=l;l=function(){var N=ba(v);g.call(N)}}var v=mc(t,0,!1,null,null,!1,!1,"",kp);return t._reactRootContainer=v,t[zn]=v.current,Ds(t.nodeType===8?t.parentNode:t),Yr(function(){xa(i,v,s,l)}),v}function Oa(t,i,s,l,c){var d=s._reactRootContainer;if(d){var p=d;if(typeof c=="function"){var g=c;c=function(){var v=ba(p);g.call(v)}}xa(i,p,t,c)}else p=P0(s,i,t,c,l);return ba(p)}sf=function(t){switch(t.tag){case 3:var i=t.stateNode;if(i.current.memoizedState.isDehydrated){var s=hs(i.pendingLanes);s!==0&&(Vl(i,s|1),jt(i,nt()),(xe&6)===0&&(Ci=nt()+500,yr()))}break;case 13:Yr(function(){var l=Wn(t,1);if(l!==null){var c=Ot();wn(l,t,1,c)}}),yc(t,1)}},$l=function(t){if(t.tag===13){var i=Wn(t,134217728);if(i!==null){var s=Ot();wn(i,t,134217728,s)}yc(t,134217728)}},of=function(t){if(t.tag===13){var i=Ir(t),s=Wn(t,i);if(s!==null){var l=Ot();wn(s,t,i,l)}yc(t,i)}},af=function(){return je},lf=function(t,i){var s=je;try{return je=t,i()}finally{je=s}},jl=function(t,i,s){switch(i){case"input":if(Ol(t,s),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var c=Zo(l);if(!c)throw Error(n(90));Cd(l),Ol(l,c)}}}break;case"textarea":Fd(t,s);break;case"select":i=s.value,i!=null&&li(t,!!s.multiple,i,!1)}},Wd=uc,Hd=Yr;var R0={usingClientEntryPoint:!1,Events:[Cs,vi,Zo,$d,Zd,uc]},Ws={findFiberByHostInstance:Vr,bundleType:0,version:"18.3.0",rendererPackageName:"react-dom"},U0={bundleType:Ws.bundleType,version:Ws.version,rendererPackageName:Ws.rendererPackageName,rendererConfig:Ws.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_e.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Yd(t),t===null?null:t.stateNode},findFiberByHostInstance:Ws.findFiberByHostInstance||M0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.0-next-8a015b68cc-20240425"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Da=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Da.isDisabled&&Da.supportsFiber)try{ko=Da.inject(U0),bn=Da}catch{}}return Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R0,Ft.createPortal=function(t,i){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vc(i))throw Error(n(200));return F0(t,i,null,s)},Ft.createRoot=function(t,i){if(!vc(t))throw Error(n(299));var s=!1,l="",c=bp;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onRecoverableError!==void 0&&(c=i.onRecoverableError)),i=mc(t,1,!1,null,null,s,!1,l,c),t[zn]=i.current,Ds(t.nodeType===8?t.parentNode:t),new gc(i)},Ft.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=Yd(i),t=t===null?null:t.stateNode,t},Ft.flushSync=function(t){return Yr(t)},Ft.hydrate=function(t,i,s){if(!Na(i))throw Error(n(200));return Oa(null,t,i,!0,s)},Ft.hydrateRoot=function(t,i,s){if(!vc(t))throw Error(n(405));var l=s!=null&&s.hydratedSources||null,c=!1,d="",p=bp;if(s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),i=Ip(i,null,t,1,s??null,c,!1,d,p),t[zn]=i.current,Ds(t),l)for(t=0;t<l.length;t++)s=l[t],c=s._getVersion,c=c(s._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[s,c]:i.mutableSourceEagerHydrationData.push(s,c);return new ka(i)},Ft.render=function(t,i,s){if(!Na(i))throw Error(n(200));return Oa(null,t,i,!1,s)},Ft.unmountComponentAtNode=function(t){if(!Na(t))throw Error(n(40));return t._reactRootContainer?(Yr(function(){Oa(null,null,t,!1,function(){t._reactRootContainer=null,t[zn]=null})}),!0):!1},Ft.unstable_batchedUpdates=uc,Ft.unstable_renderSubtreeIntoContainer=function(t,i,s,l){if(!Na(s))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Oa(t,i,s,!1,l)},Ft.version="18.3.0-next-8a015b68cc-20240425",Ft}var Bp;function K0(){if(Bp)return Sc.exports;Bp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Sc.exports=J0(),Sc.exports}var Lp;function Y0(){if(Lp)return Ta;Lp=1;var r=K0();return Ta.createRoot=r.createRoot,Ta.hydrateRoot=r.hydrateRoot,Ta}var q0=Y0();const G0=Cm(q0),jc=(r,e)=>e.some(n=>r instanceof n);let jp,Fp;function X0(){return jp||(jp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function e_(){return Fp||(Fp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fc=new WeakMap,bc=new WeakMap,vl=new WeakMap;function t_(r){const e=new Promise((n,o)=>{const a=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ii(r.result)),a()},f=()=>{o(r.error),a()};r.addEventListener("success",u),r.addEventListener("error",f)});return vl.set(e,r),e}function n_(r){if(Fc.has(r))return;const e=new Promise((n,o)=>{const a=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),a()},f=()=>{o(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Fc.set(r,e)}let Mc={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Fc.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ii(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Em(r){Mc=r(Mc)}function r_(r){return e_().includes(r)?function(...e){return r.apply(Pc(this),e),ii(this.request)}:function(...e){return ii(r.apply(Pc(this),e))}}function i_(r){return typeof r=="function"?r_(r):(r instanceof IDBTransaction&&n_(r),jc(r,X0())?new Proxy(r,Mc):r)}function ii(r){if(r instanceof IDBRequest)return t_(r);if(bc.has(r))return bc.get(r);const e=i_(r);return e!==r&&(bc.set(r,e),vl.set(e,r)),e}const Pc=r=>vl.get(r);function s_(r,e,{blocked:n,upgrade:o,blocking:a,terminated:u}={}){const f=indexedDB.open(r,e),h=ii(f);return o&&f.addEventListener("upgradeneeded",m=>{o(ii(f.result),m.oldVersion,m.newVersion,ii(f.transaction),m)}),n&&f.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),h.then(m=>{u&&m.addEventListener("close",()=>u()),a&&m.addEventListener("versionchange",y=>a(y.oldVersion,y.newVersion,y))}).catch(()=>{}),h}const o_=["get","getKey","getAll","getAllKeys","count"],a_=["put","add","delete","clear"],kc=new Map;function Mp(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(kc.get(e))return kc.get(e);const n=e.replace(/FromIndex$/,""),o=e!==n,a=a_.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(a||o_.includes(n)))return;const u=async function(f,...h){const m=this.transaction(f,a?"readwrite":"readonly");let y=m.store;return o&&(y=y.index(h.shift())),(await Promise.all([y[n](...h),a&&m.done]))[0]};return kc.set(e,u),u}Em(r=>({...r,get:(e,n,o)=>Mp(e,n)||r.get(e,n,o),has:(e,n)=>!!Mp(e,n)||r.has(e,n)}));const l_=["continue","continuePrimaryKey","advance"],Pp={},Rc=new WeakMap,Bm=new WeakMap,u_={get(r,e){if(!l_.includes(e))return r[e];let n=Pp[e];return n||(n=Pp[e]=function(...o){Rc.set(this,Bm.get(this)[e](...o))}),n}};async function*c_(...r){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...r)),!e)return;e=e;const n=new Proxy(e,u_);for(Bm.set(n,e),vl.set(n,Pc(e));e;)yield n,e=await(Rc.get(n)||e.continue()),Rc.delete(n)}function Rp(r,e){return e===Symbol.asyncIterator&&jc(r,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&jc(r,[IDBIndex,IDBObjectStore])}Em(r=>({...r,get(e,n,o){return Rp(e,n)?c_:r.get(e,n,o)},has(e,n){return Rp(e,n)||r.has(e,n)}}));const d_="ohlc-cache",Hi="frames",Up=3;async function f_(){return s_(d_,Up,{upgrade(r,e){e<Up&&r.objectStoreNames.contains(Hi)&&r.deleteObjectStore(Hi),r.createObjectStore(Hi)}})}async function Lm(r){if(!r)return console.error("J-Quants Refresh Token is missing for ID token refresh."),null;console.log("[refreshJQuantsIdTokenLogic] Attempting to refresh ID token...");const e=new URL("/jquants-api/v1/token/auth_refresh",window.location.origin);e.searchParams.set("refreshtoken",r);try{const n=new AbortController,o=setTimeout(()=>{console.log("[refreshJQuantsIdTokenLogic] Request timeout after 5 seconds, aborting..."),n.abort()},5e3);console.log("[refreshJQuantsIdTokenLogic] Making request to:",e.toString()),console.log("[refreshJQuantsIdTokenLogic] Refresh token (first 10 chars):",r.substring(0,10));const a=Date.now(),u=await fetch(e.toString(),{method:"POST",signal:n.signal,headers:{"Content-Type":"application/json"}}),f=Date.now()-a;console.log(`[refreshJQuantsIdTokenLogic] Request completed in ${f}ms`),clearTimeout(o);const h=await u.text();if(console.log("[refreshJQuantsIdTokenLogic] Response status:",u.status),console.log("[refreshJQuantsIdTokenLogic] Response text:",h.substring(0,200)),!u.ok)throw new Error(`Refresh token API call failed: ${u.status} ${u.statusText}. Body: ${h}`);const m=JSON.parse(h);if(!m.idToken)throw new Error("idToken not found in refresh response.");return console.log("[refreshJQuantsIdTokenLogic] Successfully refreshed ID token"),{newIdToken:m.idToken,newRefreshToken:m.refreshToken}}catch(n){return console.error("[refreshJQuantsIdTokenLogic] Error during token refresh:",n),(n==null?void 0:n.name)==="AbortError"?console.error("[refreshJQuantsIdTokenLogic] Request timed out after 5 seconds"):n instanceof TypeError&&n.message.includes("fetch")?console.error("[refreshJQuantsIdTokenLogic] Network error - fetch failed:",n.message):console.error("[refreshJQuantsIdTokenLogic] Unexpected error type:",n==null?void 0:n.name,n==null?void 0:n.message),null}}async function zp(r,e,n,o){if(console.log(`[fetchFromAPI] Attempting fetch for ${e} with idToken (first 10 chars): ${r?r.substring(0,10):"MISSING"}`),!r)throw new Error("J-Quants ID Token is missing for API call.");try{const a=new URL("/jquants-api/v1/prices/daily_quotes",window.location.origin),u=e.replace(".T","");a.searchParams.set("code",u),a.searchParams.set("from",n),a.searchParams.set("to",o);const f=await fetch(a.toString(),{headers:{Authorization:`Bearer ${r}`}}),h=await f.text();if(f.status===401){console.warn(`[fetchFromAPI] Received 401 Unauthorized for ${e}. Token might be expired.`);const j=new Error("IDTokenExpiredOrInvalid");throw j.status=401,j}if(!f.ok)throw new Error(`J-Quants API Error for ${e}: ${f.status} ${f.statusText}. Response: ${h}`);const m=JSON.parse(h);if(!m.daily_quotes)return console.warn(`[fetchFromAPI] No daily_quotes in response for ${e}.`),null;const y=m.daily_quotes;if(y.length===0)return console.log(`[fetchFromAPI] Empty daily_quotes for ${e}.`),null;const I=[],O=[];return y.forEach(j=>{I.push(j.Date),O.push([parseFloat(j.Open),parseFloat(j.High),parseFloat(j.Low),parseFloat(j.Close),parseFloat(j.Volume)])}),{code:e,columns:["Open","High","Low","Close","Volume"],index:I,data:O}}catch(a){throw console.error(`[fetchFromAPI] Error during fetch for ${e}:`,a),a}}async function h_(r,e,n,o,a,u){const f=await f_(),h=`${o}_${a}_${u}`;try{const m=await f.get(Hi,h);if(m)return m}catch(m){console.warn("IndexedDB cache read error:",m)}try{const m=await zp(r,o,a,u);return m&&await f.put(Hi,m,h).catch(y=>console.warn("DB write error:",y)),m}catch(m){if(m.status===401||m.message&&m.message.includes("IDTokenExpiredOrInvalid")){console.warn("Attempting token refresh due to 401 or token missing error...");const y=await Lm(e);if(y&&y.newIdToken){n(y.newIdToken,y.newRefreshToken),console.log("Retrying fetchOHLC with new ID token...");const I=await zp(y.newIdToken,o,a,u);return I&&await f.put(Hi,I,h).catch(O=>console.warn("DB write error:",O)),I}else throw console.error("Token refresh failed. Cannot fetch data."),new Error("J-Quants token refresh failed. Please check refresh token and try again.")}else throw console.error("Unhandled error in fetchOHLC:",m),m}}function ad(){const[r,e]=tt.useState(()=>({gemini:sessionStorage.getItem("gemini_api_key")||"AIzaSyCLVpT4oRM8eklYxDPAIpahg2nb7vzX92c",openai:sessionStorage.getItem("openai_api_key")||void 0||"",jquants_refresh:sessionStorage.getItem("jquants_refresh_token")||"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.o3GZcRDTPiMi_dXgLXh3Ok8tP9PF5_ECpG5JrfFyaIn9OcAsuVepmOmvXqc4Cw6xi_pOEhZw0sZA_AD6VZiLwflYrX7EduiHDWp0xn_0QEr38551HzXvuYCs4PotDxNbVIG3eAJDZ2b0mcLXpxiejeZXvPE6isCBWBwCrlV5REngVFNnZzVIFRqs-3hMfqnRlAAu9ubI4CE23u2bSvkx3nRT2CauiIES6yWD7V01vjS3TvMI9VyHS0mWVxRSgJT2EDyG7ohYIP1LSdF7kkt1BFYIuf38sDWeXc7NfI5jYiAKEsm1Aj7bmcdiYgxmiD0bYW12dBhvwUpkVNgKkZsOHw.OBOWFGlxWf1xfsj6.wEDKEg-Jgl1pNBcpemfZYsypryfqQcG8moII0nPqN2ONIugJhKDeKRbieJ5WKzFUGMCK6G1XH57vsgvtzP2UhNsGoXi4TXV6r7CxCq2yQAIKNLfIHM-FjV-d1jb6lj5chHUz4BOJ3g9DrjIy8VI947T9Q2EgIemY7wPCXuO5jV7ZfVThCYFVwYVnYe1cA4yzaS3-xlHrduGk90_fRg8S9ofLLYz_2kACuGC6u6oQywXWaoTU9EpeCjAter9xH5PfFXazcq_1G50-_wsp0R2d-UKq400Mxe83JMFWiHBYCe94Ua9cSlDRgHy-IqUxdzi_hUchRsquKT_92cj1sZFkSRN-Hkcz05LMqs896fF5yJGihp-kC3pxkv4gH_wqBT9DRsE5-3ML72hiwCTn3E-0IRsokLPOKf26NVh_QiwEEfVxto8R3nMu6mNbzwQqigg71vVWpFhaT3nROic6AdKKzo0fnbELIcKyUcjYfeSNc1iFJxkGRK4dFUjP2GEPouHmUQChUZ-vB0zUW5UcKM7vDsUt3v2izp-4DCK_1nfsy8oLKZb69y1UyD_U-Z2FcsYpeqizDTXl7ZSbUbtC34jdnqTc_CSagsqG3bgpEE26ELPULl1pxlduQauoz4x0krGYtByEwDmnmYPCfUgyOnoI4BOODL2L1SCe0lAh5exmK7mSS8E1wm_mJZWD_idkO1buz6xPPOxEgfIQEvZwgFZ1e5iNxw_Duv1TZcazB8TpvtMqr1_ylH2tpxlsIEkW_gKjdBDC5kVLEHNw0zqrREOeIeL9JoQTuSR0S2j1R8ZWP9jXUYplNhDht9Z-nT7PuIAqXLCPJHo09zlOtJ0BtI4j2dOW4PdaNVeNnK_1mnIj-EJZNe9SoieplfSWkbPXI8LyBa5DFbWxvd1Dk-V7_oyGCOV4O0NTa_mBgs8eLuzs0fFJeKnopTXbVAaU3OeDr4IZe4cLXu0QRJNK06u2WxQbhY-f_JFg7UX-1AmkdA8QTIn4XJ-eLtdLVS7dQpGnswS6ahsfGEJe_EieO6o-QX-MBmVXwOyyz2B9VZhnLfWVXBe2rFiqdOkxQbSjN2OTpeyoT0LX2XiAFsI2bJOdrjyP3ySRhb-qlRnNR6E0D59O6j2hQS9oDVdJ62YYLUwgNxfI9yIqZNBrFCkkbjoFgqlgB2XN98aU1iWQcNPgx6P6bX1xlIfHPD6BfGJoWkZ87xR-G9DUxW7NFKsA9kxVScXsknfhQ9OCvGs5jiu0gnCyEm_TYGUZjZF3kMOMaswxcjjj5k52Akd2jbvS7LlVe5qwpM91bjjN2o5ulc5wJ_68NrIgRGgzKv1yIFqGCvPtMuYdrDERhy4VFDCrfA.D170a0A_eA3cXSXycoFxPw",jquants_id:sessionStorage.getItem("jquants_id_token")||void 0||""}));tt.useEffect(()=>{r.gemini&&sessionStorage.setItem("gemini_api_key",r.gemini),r.openai&&sessionStorage.setItem("openai_api_key",r.openai),r.jquants_refresh&&sessionStorage.setItem("jquants_refresh_token",r.jquants_refresh),r.jquants_id&&sessionStorage.setItem("jquants_id_token",r.jquants_id)},[r]);const n=o=>{e(a=>({...a,...o}))};return tt.useEffect(()=>{(async()=>{if(r.jquants_refresh&&!r.jquants_id){console.log("Attempting to fetch ID token using refresh token...");try{const a=await Lm(r.jquants_refresh);a&&a.newIdToken&&(n({jquants_id:a.newIdToken,...a.newRefreshToken&&{jquants_refresh:a.newRefreshToken}}),console.log("ID token successfully fetched and stored"))}catch(a){console.error("Failed to fetch ID token:",a)}}})()},[r.jquants_refresh,r.jquants_id]),{keys:r,updateKeys:n,updateGeminiKey:o=>n({gemini:o}),updateOpenAIKey:o=>n({openai:o}),updateJQuantsRefresh:o=>n({jquants_refresh:o}),updateJQuantsId:o=>n({jquants_id:o})}}function er(r,e,n,o){function a(u){return u instanceof n?u:new n(function(f){f(u)})}return new(n||(n=Promise))(function(u,f){function h(I){try{y(o.next(I))}catch(O){f(O)}}function m(I){try{y(o.throw(I))}catch(O){f(O)}}function y(I){I.done?u(I.value):a(I.value).then(h,m)}y((o=o.apply(r,e||[])).next())})}function Vp(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],o=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&o>=r.length&&(r=void 0),{value:r&&r[o++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Se(r){return this instanceof Se?(this.v=r,this):new Se(r)}function ni(r,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(r,e||[]),a,u=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",f),a[Symbol.asyncIterator]=function(){return this},a;function f(U){return function(W){return Promise.resolve(W).then(U,O)}}function h(U,W){o[U]&&(a[U]=function(he){return new Promise(function(oe,E){u.push([U,he,oe,E])>1||m(U,he)})},W&&(a[U]=W(a[U])))}function m(U,W){try{y(o[U](W))}catch(he){j(u[0][3],he)}}function y(U){U.value instanceof Se?Promise.resolve(U.value.v).then(I,O):j(u[0][2],U)}function I(U){m("next",U)}function O(U){m("throw",U)}function j(U,W){U(W),u.shift(),u.length&&m(u[0][0],u[0][1])}}function Nc(r){var e,n;return e={},o("next"),o("throw",function(a){throw a}),o("return"),e[Symbol.iterator]=function(){return this},e;function o(a,u){e[a]=r[a]?function(f){return(n=!n)?{value:Se(r[a](f)),done:!1}:u?u(f):f}:u}}function io(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],n;return e?e.call(r):(r=typeof Vp=="function"?Vp(r):r[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(u){n[u]=r[u]&&function(f){return new Promise(function(h,m){f=r[u](f),a(h,m,f.done,f.value)})}}function a(u,f,h,m){Promise.resolve(m).then(function(y){u({value:y,done:h})},f)}}const p_=new TextDecoder("utf-8"),Uc=r=>p_.decode(r),m_=new TextEncoder,jm=r=>m_.encode(r),y_=r=>typeof r=="boolean",Mt=r=>typeof r=="function",Rr=r=>r!=null&&Object(r)===r,_l=r=>Rr(r)&&Mt(r.then),ld=r=>Rr(r)&&Mt(r[Symbol.iterator]),wl=r=>Rr(r)&&Mt(r[Symbol.asyncIterator]),g_=r=>Rr(r)&&"done"in r&&"value"in r,Fm=r=>"_getDOMStream"in r&&"_getNodeStream"in r,v_=r=>Rr(r)&&Mt(r.abort)&&Mt(r.getWriter)&&!Fm(r),__=r=>Rr(r)&&Mt(r.end)&&Mt(r.write)&&y_(r.writable)&&!Fm(r),w_=r=>Rr(r)&&Mt(r.clear)&&Mt(r.bytes)&&Mt(r.position)&&Mt(r.setPosition)&&Mt(r.capacity)&&Mt(r.getBufferIdentifier)&&Mt(r.createLong),ud=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function S_(r){const e=r[0]?[r[0]]:[];let n,o,a,u;for(let f,h,m=0,y=0,I=r.length;++m<I;){if(f=e[y],h=r[m],!f||!h||f.buffer!==h.buffer||h.byteOffset<f.byteOffset){h&&(e[++y]=h);continue}if({byteOffset:n,byteLength:a}=f,{byteOffset:o,byteLength:u}=h,n+a<o||o+u<n){h&&(e[++y]=h);continue}e[y]=new Uint8Array(f.buffer,n,o-n+u)}return e}function $p(r,e,n=0,o=e.byteLength){const a=r.byteLength,u=new Uint8Array(r.buffer,r.byteOffset,a),f=new Uint8Array(e.buffer,e.byteOffset,Math.min(o,a));return u.set(f,n),r}function Mn(r,e){const n=S_(r),o=n.reduce((I,O)=>I+O.byteLength,0);let a,u,f,h=0,m=-1;const y=Math.min(e||Number.POSITIVE_INFINITY,o);for(const I=n.length;++m<I;){if(a=n[m],u=a.subarray(0,Math.min(a.length,y-h)),y<=h+u.length){u.length<a.length?n[m]=a.subarray(u.length):u.length===a.length&&m++,f?$p(f,u,h):f=u;break}$p(f||(f=new Uint8Array(y)),u,h),h+=u.length}return[f||new Uint8Array(0),n.slice(m),o-(f?f.byteLength:0)]}function ct(r,e){let n=g_(e)?e.value:e;return n instanceof r?r===Uint8Array?new r(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=jm(n)),n instanceof ArrayBuffer?new r(n):n instanceof ud?new r(n):w_(n)?ct(r,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new r(0):new r(n.buffer,n.byteOffset,n.byteLength/r.BYTES_PER_ELEMENT):r.from(n)):new r(0)}const Qs=r=>ct(Int32Array,r),Zp=r=>ct(BigInt64Array,r),Ne=r=>ct(Uint8Array,r),zc=r=>(r.next(),r);function*I_(r,e){const n=function*(a){yield a},o=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof ud?n(e):ld(e)?e:n(e);return yield*zc(function*(a){let u=null;do u=a.next(yield ct(r,u));while(!u.done)}(o[Symbol.iterator]())),new r}const x_=r=>I_(Uint8Array,r);function Mm(r,e){return ni(this,arguments,function*(){if(_l(e))return yield Se(yield Se(yield*Nc(io(Mm(r,yield Se(e))))));const o=function(f){return ni(this,arguments,function*(){yield yield Se(yield Se(f))})},a=function(f){return ni(this,arguments,function*(){yield Se(yield*Nc(io(zc(function*(h){let m=null;do m=h.next(yield m==null?void 0:m.value);while(!m.done)}(f[Symbol.iterator]())))))})},u=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof ud?o(e):ld(e)?a(e):wl(e)?e:o(e);return yield Se(yield*Nc(io(zc(function(f){return ni(this,arguments,function*(){let h=null;do h=yield Se(f.next(yield yield Se(ct(r,h))));while(!h.done)})}(u[Symbol.asyncIterator]()))))),yield Se(new r)})}const b_=r=>Mm(Uint8Array,r);function Pm(r,e,n){if(r!==0){n=n.slice(0,e);for(let o=-1,a=n.length;++o<a;)n[o]+=r}return n.subarray(0,e)}function k_(r,e){let n=0;const o=r.length;if(o!==e.length)return!1;if(o>0)do if(r[n]!==e[n])return!1;while(++n<o);return!0}const Wp={fromIterable(r){return Aa(N_(r))},fromAsyncIterable(r){return Aa(O_(r))},fromDOMStream(r){return Aa(D_(r))},fromNodeStream(r){return Aa(A_(r))},toDOMStream(r,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(r,e){throw new Error('"toNodeStream" not available in this environment')}},Aa=r=>(r.next(),r);function*N_(r){let e,n=!1,o=[],a,u,f,h=0;function m(){return u==="peek"?Mn(o,f)[0]:([a,o,h]=Mn(o,f),a)}({cmd:u,size:f}=(yield null)||{cmd:"read",size:0});const y=x_(r)[Symbol.iterator]();try{do if({done:e,value:a}=Number.isNaN(f-h)?y.next():y.next(f-h),!e&&a.byteLength>0&&(o.push(a),h+=a.byteLength),e||f<=h)do({cmd:u,size:f}=yield m());while(f<h);while(!e)}catch(I){(n=!0)&&typeof y.throw=="function"&&y.throw(I)}finally{n===!1&&typeof y.return=="function"&&y.return(null)}return null}function O_(r){return ni(this,arguments,function*(){let n,o=!1,a=[],u,f,h,m=0;function y(){return f==="peek"?Mn(a,h)[0]:([u,a,m]=Mn(a,h),u)}({cmd:f,size:h}=(yield yield Se(null))||{cmd:"read",size:0});const I=b_(r)[Symbol.asyncIterator]();try{do if({done:n,value:u}=Number.isNaN(h-m)?yield Se(I.next()):yield Se(I.next(h-m)),!n&&u.byteLength>0&&(a.push(u),m+=u.byteLength),n||h<=m)do({cmd:f,size:h}=yield yield Se(y()));while(h<m);while(!n)}catch(O){(o=!0)&&typeof I.throw=="function"&&(yield Se(I.throw(O)))}finally{o===!1&&typeof I.return=="function"&&(yield Se(I.return(new Uint8Array(0))))}return yield Se(null)})}function D_(r){return ni(this,arguments,function*(){let n=!1,o=!1,a=[],u,f,h,m=0;function y(){return f==="peek"?Mn(a,h)[0]:([u,a,m]=Mn(a,h),u)}({cmd:f,size:h}=(yield yield Se(null))||{cmd:"read",size:0});const I=new T_(r);try{do if({done:n,value:u}=Number.isNaN(h-m)?yield Se(I.read()):yield Se(I.read(h-m)),!n&&u.byteLength>0&&(a.push(Ne(u)),m+=u.byteLength),n||h<=m)do({cmd:f,size:h}=yield yield Se(y()));while(h<m);while(!n)}catch(O){(o=!0)&&(yield Se(I.cancel(O)))}finally{o===!1?yield Se(I.cancel()):r.locked&&I.releaseLock()}return yield Se(null)})}class T_{constructor(e){this.source=e,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(e){return er(this,void 0,void 0,function*(){const{reader:n,source:o}=this;n&&(yield n.cancel(e).catch(()=>{})),o&&o.locked&&this.releaseLock()})}read(e){return er(this,void 0,void 0,function*(){if(e===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=Ne(n)),n})}}const Oc=(r,e)=>{const n=a=>o([e,a]);let o;return[e,n,new Promise(a=>(o=a)&&r.once(e,n))]};function A_(r){return ni(this,arguments,function*(){const n=[];let o="error",a=!1,u=null,f,h,m=0,y=[],I;function O(){return f==="peek"?Mn(y,h)[0]:([I,y,m]=Mn(y,h),I)}if({cmd:f,size:h}=(yield yield Se(null))||{cmd:"read",size:0},r.isTTY)return yield yield Se(new Uint8Array(0)),yield Se(null);try{n[0]=Oc(r,"end"),n[1]=Oc(r,"error");do{if(n[2]=Oc(r,"readable"),[o,u]=yield Se(Promise.race(n.map(U=>U[2]))),o==="error")break;if((a=o==="end")||(Number.isFinite(h-m)?(I=Ne(r.read(h-m)),I.byteLength<h-m&&(I=Ne(r.read()))):I=Ne(r.read()),I.byteLength>0&&(y.push(I),m+=I.byteLength)),a||h<=m)do({cmd:f,size:h}=yield yield Se(O()));while(h<m)}while(!a)}finally{yield Se(j(n,o==="error"?u:null))}return yield Se(null);function j(U,W){return I=y=null,new Promise((he,oe)=>{for(const[E,pe]of U)r.off(E,pe);try{const E=r.destroy;E&&E.call(r,W),W=void 0}catch(E){W=E||W}finally{W!=null?oe(W):he()}})}})}var ft;(function(r){r[r.V1=0]="V1",r[r.V2=1]="V2",r[r.V3=2]="V3",r[r.V4=3]="V4",r[r.V5=4]="V5"})(ft||(ft={}));var Dt;(function(r){r[r.Sparse=0]="Sparse",r[r.Dense=1]="Dense"})(Dt||(Dt={}));var yt;(function(r){r[r.HALF=0]="HALF",r[r.SINGLE=1]="SINGLE",r[r.DOUBLE=2]="DOUBLE"})(yt||(yt={}));var cn;(function(r){r[r.DAY=0]="DAY",r[r.MILLISECOND=1]="MILLISECOND"})(cn||(cn={}));var ne;(function(r){r[r.SECOND=0]="SECOND",r[r.MILLISECOND=1]="MILLISECOND",r[r.MICROSECOND=2]="MICROSECOND",r[r.NANOSECOND=3]="NANOSECOND"})(ne||(ne={}));var Pn;(function(r){r[r.YEAR_MONTH=0]="YEAR_MONTH",r[r.DAY_TIME=1]="DAY_TIME",r[r.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Pn||(Pn={}));const Dc=2,Cn=4,tr=4,Le=4,Dr=new Int32Array(2),Hp=new Float32Array(Dr.buffer),Qp=new Float64Array(Dr.buffer),Ca=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var Vc;(function(r){r[r.UTF8_BYTES=1]="UTF8_BYTES",r[r.UTF16_STRING=2]="UTF16_STRING"})(Vc||(Vc={}));let Va=class Rm{constructor(e){this.bytes_=e,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(e){return new Rm(new Uint8Array(e))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(e){this.position_=e}capacity(){return this.bytes_.length}readInt8(e){return this.readUint8(e)<<24>>24}readUint8(e){return this.bytes_[e]}readInt16(e){return this.readUint16(e)<<16>>16}readUint16(e){return this.bytes_[e]|this.bytes_[e+1]<<8}readInt32(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24}readUint32(e){return this.readInt32(e)>>>0}readInt64(e){return BigInt.asIntN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readUint64(e){return BigInt.asUintN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readFloat32(e){return Dr[0]=this.readInt32(e),Hp[0]}readFloat64(e){return Dr[Ca?0:1]=this.readInt32(e),Dr[Ca?1:0]=this.readInt32(e+4),Qp[0]}writeInt8(e,n){this.bytes_[e]=n}writeUint8(e,n){this.bytes_[e]=n}writeInt16(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8}writeUint16(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8}writeInt32(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8,this.bytes_[e+2]=n>>16,this.bytes_[e+3]=n>>24}writeUint32(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8,this.bytes_[e+2]=n>>16,this.bytes_[e+3]=n>>24}writeInt64(e,n){this.writeInt32(e,Number(BigInt.asIntN(32,n))),this.writeInt32(e+4,Number(BigInt.asIntN(32,n>>BigInt(32))))}writeUint64(e,n){this.writeUint32(e,Number(BigInt.asUintN(32,n))),this.writeUint32(e+4,Number(BigInt.asUintN(32,n>>BigInt(32))))}writeFloat32(e,n){Hp[0]=n,this.writeInt32(e,Dr[0])}writeFloat64(e,n){Qp[0]=n,this.writeInt32(e,Dr[Ca?0:1]),this.writeInt32(e+4,Dr[Ca?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+Cn+tr)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let e="";for(let n=0;n<tr;n++)e+=String.fromCharCode(this.readInt8(this.position_+Cn+n));return e}__offset(e,n){const o=e-this.readInt32(e);return n<this.readInt16(o)?this.readInt16(o+n):0}__union(e,n){return e.bb_pos=n+this.readInt32(n),e.bb=this,e}__string(e,n){e+=this.readInt32(e);const o=this.readInt32(e);e+=Cn;const a=this.bytes_.subarray(e,e+o);return n===Vc.UTF8_BYTES?a:this.text_decoder_.decode(a)}__union_with_string(e,n){return typeof e=="string"?this.__string(n):this.__union(e,n)}__indirect(e){return e+this.readInt32(e)}__vector(e){return e+this.readInt32(e)+Cn}__vector_len(e){return this.readInt32(e+this.readInt32(e))}__has_identifier(e){if(e.length!=tr)throw new Error("FlatBuffers: file identifier must be length "+tr);for(let n=0;n<tr;n++)if(e.charCodeAt(n)!=this.readInt8(this.position()+Cn+n))return!1;return!0}createScalarList(e,n){const o=[];for(let a=0;a<n;++a){const u=e(a);u!==null&&o.push(u)}return o}createObjList(e,n){const o=[];for(let a=0;a<n;++a){const u=e(a);u!==null&&o.push(u.unpack())}return o}},Um=class zm{constructor(e){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let n;e?n=e:n=1024,this.bb=Va.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(e){this.force_defaults=e}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(e,n){e>this.minalign&&(this.minalign=e);const o=~(this.bb.capacity()-this.space+n)+1&e-1;for(;this.space<o+e+n;){const a=this.bb.capacity();this.bb=zm.growByteBuffer(this.bb),this.space+=this.bb.capacity()-a}this.pad(o)}pad(e){for(let n=0;n<e;n++)this.bb.writeInt8(--this.space,0)}writeInt8(e){this.bb.writeInt8(this.space-=1,e)}writeInt16(e){this.bb.writeInt16(this.space-=2,e)}writeInt32(e){this.bb.writeInt32(this.space-=4,e)}writeInt64(e){this.bb.writeInt64(this.space-=8,e)}writeFloat32(e){this.bb.writeFloat32(this.space-=4,e)}writeFloat64(e){this.bb.writeFloat64(this.space-=8,e)}addInt8(e){this.prep(1,0),this.writeInt8(e)}addInt16(e){this.prep(2,0),this.writeInt16(e)}addInt32(e){this.prep(4,0),this.writeInt32(e)}addInt64(e){this.prep(8,0),this.writeInt64(e)}addFloat32(e){this.prep(4,0),this.writeFloat32(e)}addFloat64(e){this.prep(8,0),this.writeFloat64(e)}addFieldInt8(e,n,o){(this.force_defaults||n!=o)&&(this.addInt8(n),this.slot(e))}addFieldInt16(e,n,o){(this.force_defaults||n!=o)&&(this.addInt16(n),this.slot(e))}addFieldInt32(e,n,o){(this.force_defaults||n!=o)&&(this.addInt32(n),this.slot(e))}addFieldInt64(e,n,o){(this.force_defaults||n!==o)&&(this.addInt64(n),this.slot(e))}addFieldFloat32(e,n,o){(this.force_defaults||n!=o)&&(this.addFloat32(n),this.slot(e))}addFieldFloat64(e,n,o){(this.force_defaults||n!=o)&&(this.addFloat64(n),this.slot(e))}addFieldOffset(e,n,o){(this.force_defaults||n!=o)&&(this.addOffset(n),this.slot(e))}addFieldStruct(e,n,o){n!=o&&(this.nested(n),this.slot(e))}nested(e){if(e!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(e){this.vtable!==null&&(this.vtable[e]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(e){const n=e.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const o=n<<1,a=Va.allocate(o);return a.setPosition(o-n),a.bytes().set(e.bytes(),o-n),a}addOffset(e){this.prep(Cn,0),this.writeInt32(this.offset()-e+Cn)}startObject(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(let n=0;n<e;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const e=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const o=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?e-this.vtable[n]:0);const a=2;this.addInt16(e-this.object_start);const u=(o+a)*Dc;this.addInt16(u);let f=0;const h=this.space;e:for(n=0;n<this.vtables.length;n++){const m=this.bb.capacity()-this.vtables[n];if(u==this.bb.readInt16(m)){for(let y=Dc;y<u;y+=Dc)if(this.bb.readInt16(h+y)!=this.bb.readInt16(m+y))continue e;f=this.vtables[n];break}}return f?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,f-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e}finish(e,n,o){const a=o?Le:0;if(n){const u=n;if(this.prep(this.minalign,Cn+tr+a),u.length!=tr)throw new TypeError("FlatBuffers: file identifier must be length "+tr);for(let f=tr-1;f>=0;f--)this.writeInt8(u.charCodeAt(f))}this.prep(this.minalign,Cn+a),this.addOffset(e),a&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(e,n){this.finish(e,n,!0)}requiredField(e,n){const o=this.bb.capacity()-e,a=o-this.bb.readInt32(o);if(!(n<this.bb.readInt16(a)&&this.bb.readInt16(a+n)!=0))throw new TypeError("FlatBuffers: field "+n+" must be set")}startVector(e,n,o){this.notNested(),this.vector_num_elems=n,this.prep(Cn,e*n),this.prep(o,e*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);const n=this.createString(e);return this.string_maps.set(e,n),n}createString(e){if(e==null)return 0;let n;return e instanceof Uint8Array?n=e:n=this.text_encoder.encode(e),this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length),this.bb.bytes().set(n,this.space),this.endVector()}createByteVector(e){return e==null?0:(this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length),this.bb.bytes().set(e,this.space),this.endVector())}createObjectOffset(e){return e===null?0:typeof e=="string"?this.createString(e):e.pack(this)}createObjectOffsetList(e){const n=[];for(let o=0;o<e.length;++o){const a=e[o];if(a!==null)n.push(this.createObjectOffset(a));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(e,n){return n(this,e.length),this.createObjectOffsetList(e.slice().reverse()),this.endVector()}};var $a;(function(r){r[r.BUFFER=0]="BUFFER"})($a||($a={}));var Za;(function(r){r[r.LZ4_FRAME=0]="LZ4_FRAME",r[r.ZSTD=1]="ZSTD"})(Za||(Za={}));class Tr{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsBodyCompression(e,n){return(n||new Tr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBodyCompression(e,n){return e.setPosition(e.position()+Le),(n||new Tr).__init(e.readInt32(e.position())+e.position(),e)}codec(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):Za.LZ4_FRAME}method(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):$a.BUFFER}static startBodyCompression(e){e.startObject(2)}static addCodec(e,n){e.addFieldInt8(0,n,Za.LZ4_FRAME)}static addMethod(e,n){e.addFieldInt8(1,n,$a.BUFFER)}static endBodyCompression(e){return e.endObject()}static createBodyCompression(e,n,o){return Tr.startBodyCompression(e),Tr.addCodec(e,n),Tr.addMethod(e,o),Tr.endBodyCompression(e)}}class Vm{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(e,n,o){return e.prep(8,16),e.writeInt64(BigInt(o??0)),e.writeInt64(BigInt(n??0)),e.offset()}}let $m=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(e,n,o){return e.prep(8,16),e.writeInt64(BigInt(o??0)),e.writeInt64(BigInt(n??0)),e.offset()}},qn=class $c{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsRecordBatch(e,n){return(n||new $c).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsRecordBatch(e,n){return e.setPosition(e.position()+Le),(n||new $c).__init(e.readInt32(e.position())+e.position(),e)}length(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}nodes(e,n){const o=this.bb.__offset(this.bb_pos,6);return o?(n||new $m).__init(this.bb.__vector(this.bb_pos+o)+e*16,this.bb):null}nodesLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}buffers(e,n){const o=this.bb.__offset(this.bb_pos,8);return o?(n||new Vm).__init(this.bb.__vector(this.bb_pos+o)+e*16,this.bb):null}buffersLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}compression(e){const n=this.bb.__offset(this.bb_pos,10);return n?(e||new Tr).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(e){e.startObject(4)}static addLength(e,n){e.addFieldInt64(0,n,BigInt("0"))}static addNodes(e,n){e.addFieldOffset(1,n,0)}static startNodesVector(e,n){e.startVector(16,n,8)}static addBuffers(e,n){e.addFieldOffset(2,n,0)}static startBuffersVector(e,n){e.startVector(16,n,8)}static addCompression(e,n){e.addFieldOffset(3,n,0)}static endRecordBatch(e){return e.endObject()}},Li=class Zc{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDictionaryBatch(e,n){return(n||new Zc).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryBatch(e,n){return e.setPosition(e.position()+Le),(n||new Zc).__init(e.readInt32(e.position())+e.position(),e)}id(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}data(e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new qn).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startDictionaryBatch(e){e.startObject(3)}static addId(e,n){e.addFieldInt64(0,n,BigInt("0"))}static addData(e,n){e.addFieldOffset(1,n,0)}static addIsDelta(e,n){e.addFieldInt8(2,+n,0)}static endDictionaryBatch(e){return e.endObject()}};var qi;(function(r){r[r.Little=0]="Little",r[r.Big=1]="Big"})(qi||(qi={}));var Wa;(function(r){r[r.DenseArray=0]="DenseArray"})(Wa||(Wa={}));class Kt{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsInt(e,n){return(n||new Kt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInt(e,n){return e.setPosition(e.position()+Le),(n||new Kt).__init(e.readInt32(e.position())+e.position(),e)}bitWidth(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}isSigned(){const e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startInt(e){e.startObject(2)}static addBitWidth(e,n){e.addFieldInt32(0,n,0)}static addIsSigned(e,n){e.addFieldInt8(1,+n,0)}static endInt(e){return e.endObject()}static createInt(e,n,o){return Kt.startInt(e),Kt.addBitWidth(e,n),Kt.addIsSigned(e,o),Kt.endInt(e)}}class nr{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDictionaryEncoding(e,n){return(n||new nr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryEncoding(e,n){return e.setPosition(e.position()+Le),(n||new nr).__init(e.readInt32(e.position())+e.position(),e)}id(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}indexType(e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new Kt).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}dictionaryKind(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):Wa.DenseArray}static startDictionaryEncoding(e){e.startObject(4)}static addId(e,n){e.addFieldInt64(0,n,BigInt("0"))}static addIndexType(e,n){e.addFieldOffset(1,n,0)}static addIsOrdered(e,n){e.addFieldInt8(2,+n,0)}static addDictionaryKind(e,n){e.addFieldInt16(3,n,Wa.DenseArray)}static endDictionaryEncoding(e){return e.endObject()}}class dt{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsKeyValue(e,n){return(n||new dt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKeyValue(e,n){return e.setPosition(e.position()+Le),(n||new dt).__init(e.readInt32(e.position())+e.position(),e)}key(e){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,e):null}value(e){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,e):null}static startKeyValue(e){e.startObject(2)}static addKey(e,n){e.addFieldOffset(0,n,0)}static addValue(e,n){e.addFieldOffset(1,n,0)}static endKeyValue(e){return e.endObject()}static createKeyValue(e,n,o){return dt.startKeyValue(e),dt.addKey(e,n),dt.addValue(e,o),dt.endKeyValue(e)}}let Jp=class Ks{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsBinary(e,n){return(n||new Ks).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBinary(e,n){return e.setPosition(e.position()+Le),(n||new Ks).__init(e.readInt32(e.position())+e.position(),e)}static startBinary(e){e.startObject(0)}static endBinary(e){return e.endObject()}static createBinary(e){return Ks.startBinary(e),Ks.endBinary(e)}},Kp=class Ys{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsBool(e,n){return(n||new Ys).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBool(e,n){return e.setPosition(e.position()+Le),(n||new Ys).__init(e.readInt32(e.position())+e.position(),e)}static startBool(e){e.startObject(0)}static endBool(e){return e.endObject()}static createBool(e){return Ys.startBool(e),Ys.endBool(e)}},La=class ji{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDate(e,n){return(n||new ji).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDate(e,n){return e.setPosition(e.position()+Le),(n||new ji).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):cn.MILLISECOND}static startDate(e){e.startObject(1)}static addUnit(e,n){e.addFieldInt16(0,n,cn.MILLISECOND)}static endDate(e){return e.endObject()}static createDate(e,n){return ji.startDate(e),ji.addUnit(e,n),ji.endDate(e)}},Fi=class Or{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDecimal(e,n){return(n||new Or).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDecimal(e,n){return e.setPosition(e.position()+Le),(n||new Or).__init(e.readInt32(e.position())+e.position(),e)}precision(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}scale(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}bitWidth(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128}static startDecimal(e){e.startObject(3)}static addPrecision(e,n){e.addFieldInt32(0,n,0)}static addScale(e,n){e.addFieldInt32(1,n,0)}static addBitWidth(e,n){e.addFieldInt32(2,n,128)}static endDecimal(e){return e.endObject()}static createDecimal(e,n,o,a){return Or.startDecimal(e),Or.addPrecision(e,n),Or.addScale(e,o),Or.addBitWidth(e,a),Or.endDecimal(e)}},ja=class Mi{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDuration(e,n){return(n||new Mi).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDuration(e,n){return e.setPosition(e.position()+Le),(n||new Mi).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):ne.MILLISECOND}static startDuration(e){e.startObject(1)}static addUnit(e,n){e.addFieldInt16(0,n,ne.MILLISECOND)}static endDuration(e){return e.endObject()}static createDuration(e,n){return Mi.startDuration(e),Mi.addUnit(e,n),Mi.endDuration(e)}},Fa=class Pi{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFixedSizeBinary(e,n){return(n||new Pi).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeBinary(e,n){return e.setPosition(e.position()+Le),(n||new Pi).__init(e.readInt32(e.position())+e.position(),e)}byteWidth(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeBinary(e){e.startObject(1)}static addByteWidth(e,n){e.addFieldInt32(0,n,0)}static endFixedSizeBinary(e){return e.endObject()}static createFixedSizeBinary(e,n){return Pi.startFixedSizeBinary(e),Pi.addByteWidth(e,n),Pi.endFixedSizeBinary(e)}},Ma=class Ri{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFixedSizeList(e,n){return(n||new Ri).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeList(e,n){return e.setPosition(e.position()+Le),(n||new Ri).__init(e.readInt32(e.position())+e.position(),e)}listSize(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeList(e){e.startObject(1)}static addListSize(e,n){e.addFieldInt32(0,n,0)}static endFixedSizeList(e){return e.endObject()}static createFixedSizeList(e,n){return Ri.startFixedSizeList(e),Ri.addListSize(e,n),Ri.endFixedSizeList(e)}};class En{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFloatingPoint(e,n){return(n||new En).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFloatingPoint(e,n){return e.setPosition(e.position()+Le),(n||new En).__init(e.readInt32(e.position())+e.position(),e)}precision(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):yt.HALF}static startFloatingPoint(e){e.startObject(1)}static addPrecision(e,n){e.addFieldInt16(0,n,yt.HALF)}static endFloatingPoint(e){return e.endObject()}static createFloatingPoint(e,n){return En.startFloatingPoint(e),En.addPrecision(e,n),En.endFloatingPoint(e)}}class Bn{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsInterval(e,n){return(n||new Bn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInterval(e,n){return e.setPosition(e.position()+Le),(n||new Bn).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Pn.YEAR_MONTH}static startInterval(e){e.startObject(1)}static addUnit(e,n){e.addFieldInt16(0,n,Pn.YEAR_MONTH)}static endInterval(e){return e.endObject()}static createInterval(e,n){return Bn.startInterval(e),Bn.addUnit(e,n),Bn.endInterval(e)}}let Yp=class qs{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsLargeBinary(e,n){return(n||new qs).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeBinary(e,n){return e.setPosition(e.position()+Le),(n||new qs).__init(e.readInt32(e.position())+e.position(),e)}static startLargeBinary(e){e.startObject(0)}static endLargeBinary(e){return e.endObject()}static createLargeBinary(e){return qs.startLargeBinary(e),qs.endLargeBinary(e)}},qp=class Gs{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsLargeUtf8(e,n){return(n||new Gs).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeUtf8(e,n){return e.setPosition(e.position()+Le),(n||new Gs).__init(e.readInt32(e.position())+e.position(),e)}static startLargeUtf8(e){e.startObject(0)}static endLargeUtf8(e){return e.endObject()}static createLargeUtf8(e){return Gs.startLargeUtf8(e),Gs.endLargeUtf8(e)}},Gp=class Xs{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsList(e,n){return(n||new Xs).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsList(e,n){return e.setPosition(e.position()+Le),(n||new Xs).__init(e.readInt32(e.position())+e.position(),e)}static startList(e){e.startObject(0)}static endList(e){return e.endObject()}static createList(e){return Xs.startList(e),Xs.endList(e)}},Pa=class Ui{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsMap(e,n){return(n||new Ui).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMap(e,n){return e.setPosition(e.position()+Le),(n||new Ui).__init(e.readInt32(e.position())+e.position(),e)}keysSorted(){const e=this.bb.__offset(this.bb_pos,4);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startMap(e){e.startObject(1)}static addKeysSorted(e,n){e.addFieldInt8(0,+n,0)}static endMap(e){return e.endObject()}static createMap(e,n){return Ui.startMap(e),Ui.addKeysSorted(e,n),Ui.endMap(e)}},Xp=class eo{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsNull(e,n){return(n||new eo).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNull(e,n){return e.setPosition(e.position()+Le),(n||new eo).__init(e.readInt32(e.position())+e.position(),e)}static startNull(e){e.startObject(0)}static endNull(e){return e.endObject()}static createNull(e){return eo.startNull(e),eo.endNull(e)}};class ri{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsStruct_(e,n){return(n||new ri).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsStruct_(e,n){return e.setPosition(e.position()+Le),(n||new ri).__init(e.readInt32(e.position())+e.position(),e)}static startStruct_(e){e.startObject(0)}static endStruct_(e){return e.endObject()}static createStruct_(e){return ri.startStruct_(e),ri.endStruct_(e)}}class ln{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsTime(e,n){return(n||new ln).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTime(e,n){return e.setPosition(e.position()+Le),(n||new ln).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):ne.MILLISECOND}bitWidth(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}static startTime(e){e.startObject(2)}static addUnit(e,n){e.addFieldInt16(0,n,ne.MILLISECOND)}static addBitWidth(e,n){e.addFieldInt32(1,n,32)}static endTime(e){return e.endObject()}static createTime(e,n,o){return ln.startTime(e),ln.addUnit(e,n),ln.addBitWidth(e,o),ln.endTime(e)}}class un{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsTimestamp(e,n){return(n||new un).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTimestamp(e,n){return e.setPosition(e.position()+Le),(n||new un).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):ne.SECOND}timezone(e){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,e):null}static startTimestamp(e){e.startObject(2)}static addUnit(e,n){e.addFieldInt16(0,n,ne.SECOND)}static addTimezone(e,n){e.addFieldOffset(1,n,0)}static endTimestamp(e){return e.endObject()}static createTimestamp(e,n,o){return un.startTimestamp(e),un.addUnit(e,n),un.addTimezone(e,o),un.endTimestamp(e)}}class Pt{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsUnion(e,n){return(n||new Pt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUnion(e,n){return e.setPosition(e.position()+Le),(n||new Pt).__init(e.readInt32(e.position())+e.position(),e)}mode(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Dt.Sparse}typeIds(e){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+e*4):0}typeIdsLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}typeIdsArray(){const e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startUnion(e){e.startObject(2)}static addMode(e,n){e.addFieldInt16(0,n,Dt.Sparse)}static addTypeIds(e,n){e.addFieldOffset(1,n,0)}static createTypeIdsVector(e,n){e.startVector(4,n.length,4);for(let o=n.length-1;o>=0;o--)e.addInt32(n[o]);return e.endVector()}static startTypeIdsVector(e,n){e.startVector(4,n,4)}static endUnion(e){return e.endObject()}static createUnion(e,n,o){return Pt.startUnion(e),Pt.addMode(e,n),Pt.addTypeIds(e,o),Pt.endUnion(e)}}let em=class to{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsUtf8(e,n){return(n||new to).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUtf8(e,n){return e.setPosition(e.position()+Le),(n||new to).__init(e.readInt32(e.position())+e.position(),e)}static startUtf8(e){e.startObject(0)}static endUtf8(e){return e.endObject()}static createUtf8(e){return to.startUtf8(e),to.endUtf8(e)}};var Ze;(function(r){r[r.NONE=0]="NONE",r[r.Null=1]="Null",r[r.Int=2]="Int",r[r.FloatingPoint=3]="FloatingPoint",r[r.Binary=4]="Binary",r[r.Utf8=5]="Utf8",r[r.Bool=6]="Bool",r[r.Decimal=7]="Decimal",r[r.Date=8]="Date",r[r.Time=9]="Time",r[r.Timestamp=10]="Timestamp",r[r.Interval=11]="Interval",r[r.List=12]="List",r[r.Struct_=13]="Struct_",r[r.Union=14]="Union",r[r.FixedSizeBinary=15]="FixedSizeBinary",r[r.FixedSizeList=16]="FixedSizeList",r[r.Map=17]="Map",r[r.Duration=18]="Duration",r[r.LargeBinary=19]="LargeBinary",r[r.LargeUtf8=20]="LargeUtf8",r[r.LargeList=21]="LargeList",r[r.RunEndEncoded=22]="RunEndEncoded"})(Ze||(Ze={}));let an=class Ra{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsField(e,n){return(n||new Ra).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsField(e,n){return e.setPosition(e.position()+Le),(n||new Ra).__init(e.readInt32(e.position())+e.position(),e)}name(e){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,e):null}nullable(){const e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}typeType(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):Ze.NONE}type(e){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(e,this.bb_pos+n):null}dictionary(e){const n=this.bb.__offset(this.bb_pos,12);return n?(e||new nr).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(e,n){const o=this.bb.__offset(this.bb_pos,14);return o?(n||new Ra).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+o)+e*4),this.bb):null}childrenLength(){const e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,n){const o=this.bb.__offset(this.bb_pos,16);return o?(n||new dt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+o)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}static startField(e){e.startObject(7)}static addName(e,n){e.addFieldOffset(0,n,0)}static addNullable(e,n){e.addFieldInt8(1,+n,0)}static addTypeType(e,n){e.addFieldInt8(2,n,Ze.NONE)}static addType(e,n){e.addFieldOffset(3,n,0)}static addDictionary(e,n){e.addFieldOffset(4,n,0)}static addChildren(e,n){e.addFieldOffset(5,n,0)}static createChildrenVector(e,n){e.startVector(4,n.length,4);for(let o=n.length-1;o>=0;o--)e.addOffset(n[o]);return e.endVector()}static startChildrenVector(e,n){e.startVector(4,n,4)}static addCustomMetadata(e,n){e.addFieldOffset(6,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let o=n.length-1;o>=0;o--)e.addOffset(n[o]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static endField(e){return e.endObject()}},An=class Yn{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsSchema(e,n){return(n||new Yn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSchema(e,n){return e.setPosition(e.position()+Le),(n||new Yn).__init(e.readInt32(e.position())+e.position(),e)}endianness(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):qi.Little}fields(e,n){const o=this.bb.__offset(this.bb_pos,6);return o?(n||new an).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+o)+e*4),this.bb):null}fieldsLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,n){const o=this.bb.__offset(this.bb_pos,8);return o?(n||new dt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+o)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}features(e){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+e*8):BigInt(0)}featuresLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSchema(e){e.startObject(4)}static addEndianness(e,n){e.addFieldInt16(0,n,qi.Little)}static addFields(e,n){e.addFieldOffset(1,n,0)}static createFieldsVector(e,n){e.startVector(4,n.length,4);for(let o=n.length-1;o>=0;o--)e.addOffset(n[o]);return e.endVector()}static startFieldsVector(e,n){e.startVector(4,n,4)}static addCustomMetadata(e,n){e.addFieldOffset(2,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let o=n.length-1;o>=0;o--)e.addOffset(n[o]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static addFeatures(e,n){e.addFieldOffset(3,n,0)}static createFeaturesVector(e,n){e.startVector(8,n.length,8);for(let o=n.length-1;o>=0;o--)e.addInt64(n[o]);return e.endVector()}static startFeaturesVector(e,n){e.startVector(8,n,8)}static endSchema(e){return e.endObject()}static finishSchemaBuffer(e,n){e.finish(n)}static finishSizePrefixedSchemaBuffer(e,n){e.finish(n,void 0,!0)}static createSchema(e,n,o,a,u){return Yn.startSchema(e),Yn.addEndianness(e,n),Yn.addFields(e,o),Yn.addCustomMetadata(e,a),Yn.addFeatures(e,u),Yn.endSchema(e)}};var ot;(function(r){r[r.NONE=0]="NONE",r[r.Schema=1]="Schema",r[r.DictionaryBatch=2]="DictionaryBatch",r[r.RecordBatch=3]="RecordBatch",r[r.Tensor=4]="Tensor",r[r.SparseTensor=5]="SparseTensor"})(ot||(ot={}));var S;(function(r){r[r.NONE=0]="NONE",r[r.Null=1]="Null",r[r.Int=2]="Int",r[r.Float=3]="Float",r[r.Binary=4]="Binary",r[r.Utf8=5]="Utf8",r[r.Bool=6]="Bool",r[r.Decimal=7]="Decimal",r[r.Date=8]="Date",r[r.Time=9]="Time",r[r.Timestamp=10]="Timestamp",r[r.Interval=11]="Interval",r[r.List=12]="List",r[r.Struct=13]="Struct",r[r.Union=14]="Union",r[r.FixedSizeBinary=15]="FixedSizeBinary",r[r.FixedSizeList=16]="FixedSizeList",r[r.Map=17]="Map",r[r.Duration=18]="Duration",r[r.LargeBinary=19]="LargeBinary",r[r.LargeUtf8=20]="LargeUtf8",r[r.Dictionary=-1]="Dictionary",r[r.Int8=-2]="Int8",r[r.Int16=-3]="Int16",r[r.Int32=-4]="Int32",r[r.Int64=-5]="Int64",r[r.Uint8=-6]="Uint8",r[r.Uint16=-7]="Uint16",r[r.Uint32=-8]="Uint32",r[r.Uint64=-9]="Uint64",r[r.Float16=-10]="Float16",r[r.Float32=-11]="Float32",r[r.Float64=-12]="Float64",r[r.DateDay=-13]="DateDay",r[r.DateMillisecond=-14]="DateMillisecond",r[r.TimestampSecond=-15]="TimestampSecond",r[r.TimestampMillisecond=-16]="TimestampMillisecond",r[r.TimestampMicrosecond=-17]="TimestampMicrosecond",r[r.TimestampNanosecond=-18]="TimestampNanosecond",r[r.TimeSecond=-19]="TimeSecond",r[r.TimeMillisecond=-20]="TimeMillisecond",r[r.TimeMicrosecond=-21]="TimeMicrosecond",r[r.TimeNanosecond=-22]="TimeNanosecond",r[r.DenseUnion=-23]="DenseUnion",r[r.SparseUnion=-24]="SparseUnion",r[r.IntervalDayTime=-25]="IntervalDayTime",r[r.IntervalYearMonth=-26]="IntervalYearMonth",r[r.DurationSecond=-27]="DurationSecond",r[r.DurationMillisecond=-28]="DurationMillisecond",r[r.DurationMicrosecond=-29]="DurationMicrosecond",r[r.DurationNanosecond=-30]="DurationNanosecond"})(S||(S={}));var Gn;(function(r){r[r.OFFSET=0]="OFFSET",r[r.DATA=1]="DATA",r[r.VALIDITY=2]="VALIDITY",r[r.TYPE=3]="TYPE"})(Gn||(Gn={}));const C_=void 0;function ao(r){if(r===null)return"null";if(r===C_)return"undefined";switch(typeof r){case"number":return`${r}`;case"bigint":return`${r}`;case"string":return`"${r}"`}return typeof r[Symbol.toPrimitive]=="function"?r[Symbol.toPrimitive]("string"):ArrayBuffer.isView(r)?r instanceof BigInt64Array||r instanceof BigUint64Array?`[${[...r].map(e=>ao(e))}]`:`[${r}]`:ArrayBuffer.isView(r)?`[${r}]`:JSON.stringify(r,(e,n)=>typeof n=="bigint"?`${n}`:n)}function Re(r){if(typeof r=="bigint"&&(r<Number.MIN_SAFE_INTEGER||r>Number.MAX_SAFE_INTEGER))throw new TypeError(`${r} is not safe to convert to a number.`);return Number(r)}function Zm(r,e){return Re(r/e)+Re(r%e)/Re(e)}const E_=Symbol.for("isArrowBigNum");function xn(r,...e){return e.length===0?Object.setPrototypeOf(ct(this.TypedArray,r),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(r,...e),this.constructor.prototype)}xn.prototype[E_]=!0;xn.prototype.toJSON=function(){return`"${uo(this)}"`};xn.prototype.valueOf=function(r){return Wm(this,r)};xn.prototype.toString=function(){return uo(this)};xn.prototype[Symbol.toPrimitive]=function(r="default"){switch(r){case"number":return Wm(this);case"string":return uo(this);case"default":return j_(this)}return uo(this)};function Qi(...r){return xn.apply(this,r)}function Ji(...r){return xn.apply(this,r)}function lo(...r){return xn.apply(this,r)}Object.setPrototypeOf(Qi.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(Ji.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(lo.prototype,Object.create(Uint32Array.prototype));Object.assign(Qi.prototype,xn.prototype,{constructor:Qi,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(Ji.prototype,xn.prototype,{constructor:Ji,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(lo.prototype,xn.prototype,{constructor:lo,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});const B_=BigInt(4294967296)*BigInt(4294967296),L_=B_-BigInt(1);function Wm(r,e){const{buffer:n,byteOffset:o,byteLength:a,signed:u}=r,f=new BigUint64Array(n,o,a/8),h=u&&f.at(-1)&BigInt(1)<<BigInt(63);let m=BigInt(0),y=0;if(h){for(const I of f)m|=(I^L_)*(BigInt(1)<<BigInt(64*y++));m*=BigInt(-1),m-=BigInt(1)}else for(const I of f)m|=I*(BigInt(1)<<BigInt(64*y++));if(typeof e=="number"){const I=BigInt(Math.pow(10,e)),O=m/I,j=m%I;return Re(O)+Re(j)/Re(I)}return Re(m)}function uo(r){if(r.byteLength===8)return`${new r.BigIntArray(r.buffer,r.byteOffset,1)[0]}`;if(!r.signed)return Tc(r);let e=new Uint16Array(r.buffer,r.byteOffset,r.byteLength/2);if(new Int16Array([e.at(-1)])[0]>=0)return Tc(r);e=e.slice();let o=1;for(let u=0;u<e.length;u++){const f=e[u],h=~f+o;e[u]=h,o&=f===0?1:0}return`-${Tc(e)}`}function j_(r){return r.byteLength===8?new r.BigIntArray(r.buffer,r.byteOffset,1)[0]:uo(r)}function Tc(r){let e="";const n=new Uint32Array(2);let o=new Uint16Array(r.buffer,r.byteOffset,r.byteLength/2);const a=new Uint32Array((o=new Uint16Array(o).reverse()).buffer);let u=-1;const f=o.length-1;do{for(n[0]=o[u=0];u<f;)o[u++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+o[u];o[u]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,e=`${n[0]}${e}`}while(a[0]||a[1]||a[2]||a[3]);return e??"0"}class cd{static new(e,n){switch(n){case!0:return new Qi(e);case!1:return new Ji(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new Qi(e)}return e.byteLength===16?new lo(e):new Ji(e)}static signed(e){return new Qi(e)}static unsigned(e){return new Ji(e)}static decimal(e){return new lo(e)}constructor(e,n){return cd.new(e,n)}}var Hm,Qm,Jm,Km,Ym,qm,Gm,Xm,ey,ty,ny,ry,iy,sy,oy,ay,ly,uy,cy,dy,fy,hy;class le{static isNull(e){return(e==null?void 0:e.typeId)===S.Null}static isInt(e){return(e==null?void 0:e.typeId)===S.Int}static isFloat(e){return(e==null?void 0:e.typeId)===S.Float}static isBinary(e){return(e==null?void 0:e.typeId)===S.Binary}static isLargeBinary(e){return(e==null?void 0:e.typeId)===S.LargeBinary}static isUtf8(e){return(e==null?void 0:e.typeId)===S.Utf8}static isLargeUtf8(e){return(e==null?void 0:e.typeId)===S.LargeUtf8}static isBool(e){return(e==null?void 0:e.typeId)===S.Bool}static isDecimal(e){return(e==null?void 0:e.typeId)===S.Decimal}static isDate(e){return(e==null?void 0:e.typeId)===S.Date}static isTime(e){return(e==null?void 0:e.typeId)===S.Time}static isTimestamp(e){return(e==null?void 0:e.typeId)===S.Timestamp}static isInterval(e){return(e==null?void 0:e.typeId)===S.Interval}static isDuration(e){return(e==null?void 0:e.typeId)===S.Duration}static isList(e){return(e==null?void 0:e.typeId)===S.List}static isStruct(e){return(e==null?void 0:e.typeId)===S.Struct}static isUnion(e){return(e==null?void 0:e.typeId)===S.Union}static isFixedSizeBinary(e){return(e==null?void 0:e.typeId)===S.FixedSizeBinary}static isFixedSizeList(e){return(e==null?void 0:e.typeId)===S.FixedSizeList}static isMap(e){return(e==null?void 0:e.typeId)===S.Map}static isDictionary(e){return(e==null?void 0:e.typeId)===S.Dictionary}static isDenseUnion(e){return le.isUnion(e)&&e.mode===Dt.Dense}static isSparseUnion(e){return le.isUnion(e)&&e.mode===Dt.Sparse}constructor(e){this.typeId=e}}Hm=Symbol.toStringTag;le[Hm]=(r=>(r.children=null,r.ArrayType=Array,r.OffsetArrayType=Int32Array,r[Symbol.toStringTag]="DataType"))(le.prototype);class Br extends le{constructor(){super(S.Null)}toString(){return"Null"}}Qm=Symbol.toStringTag;Br[Qm]=(r=>r[Symbol.toStringTag]="Null")(Br.prototype);class zt extends le{constructor(e,n){super(S.Int),this.isSigned=e,this.bitWidth=n}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}Jm=Symbol.toStringTag;zt[Jm]=(r=>(r.isSigned=null,r.bitWidth=null,r[Symbol.toStringTag]="Int"))(zt.prototype);class py extends zt{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}class my extends zt{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}class si extends zt{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}class yy extends zt{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}}class gy extends zt{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}class vy extends zt{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}class _y extends zt{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}class wy extends zt{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}}Object.defineProperty(py.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(my.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(si.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(yy.prototype,"ArrayType",{value:BigInt64Array});Object.defineProperty(gy.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(vy.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(_y.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(wy.prototype,"ArrayType",{value:BigUint64Array});class Gi extends le{constructor(e){super(S.Float),this.precision=e}get ArrayType(){switch(this.precision){case yt.HALF:return Uint16Array;case yt.SINGLE:return Float32Array;case yt.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}Km=Symbol.toStringTag;Gi[Km]=(r=>(r.precision=null,r[Symbol.toStringTag]="Float"))(Gi.prototype);class Sy extends Gi{constructor(){super(yt.SINGLE)}}class Wi extends Gi{constructor(){super(yt.DOUBLE)}}Object.defineProperty(Sy.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(Wi.prototype,"ArrayType",{value:Float64Array});class Ha extends le{constructor(){super(S.Binary)}toString(){return"Binary"}}Ym=Symbol.toStringTag;Ha[Ym]=(r=>(r.ArrayType=Uint8Array,r[Symbol.toStringTag]="Binary"))(Ha.prototype);class Qa extends le{constructor(){super(S.LargeBinary)}toString(){return"LargeBinary"}}qm=Symbol.toStringTag;Qa[qm]=(r=>(r.ArrayType=Uint8Array,r.OffsetArrayType=BigInt64Array,r[Symbol.toStringTag]="LargeBinary"))(Qa.prototype);class Ja extends le{constructor(){super(S.Utf8)}toString(){return"Utf8"}}Gm=Symbol.toStringTag;Ja[Gm]=(r=>(r.ArrayType=Uint8Array,r[Symbol.toStringTag]="Utf8"))(Ja.prototype);class Ka extends le{constructor(){super(S.LargeUtf8)}toString(){return"LargeUtf8"}}Xm=Symbol.toStringTag;Ka[Xm]=(r=>(r.ArrayType=Uint8Array,r.OffsetArrayType=BigInt64Array,r[Symbol.toStringTag]="LargeUtf8"))(Ka.prototype);class Ya extends le{constructor(){super(S.Bool)}toString(){return"Bool"}}ey=Symbol.toStringTag;Ya[ey]=(r=>(r.ArrayType=Uint8Array,r[Symbol.toStringTag]="Bool"))(Ya.prototype);class qa extends le{constructor(e,n,o=128){super(S.Decimal),this.scale=e,this.precision=n,this.bitWidth=o}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}ty=Symbol.toStringTag;qa[ty]=(r=>(r.scale=null,r.precision=null,r.ArrayType=Uint32Array,r[Symbol.toStringTag]="Decimal"))(qa.prototype);class co extends le{constructor(e){super(S.Date),this.unit=e}toString(){return`Date${(this.unit+1)*32}<${cn[this.unit]}>`}get ArrayType(){return this.unit===cn.DAY?Int32Array:BigInt64Array}}ny=Symbol.toStringTag;co[ny]=(r=>(r.unit=null,r[Symbol.toStringTag]="Date"))(co.prototype);class F_ extends co{constructor(){super(cn.DAY)}}class Ga extends le{constructor(e,n){super(S.Time),this.unit=e,this.bitWidth=n}toString(){return`Time${this.bitWidth}<${ne[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}ry=Symbol.toStringTag;Ga[ry]=(r=>(r.unit=null,r.bitWidth=null,r[Symbol.toStringTag]="Time"))(Ga.prototype);class Xa extends le{constructor(e,n){super(S.Timestamp),this.unit=e,this.timezone=n}toString(){return`Timestamp<${ne[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}iy=Symbol.toStringTag;Xa[iy]=(r=>(r.unit=null,r.timezone=null,r.ArrayType=BigInt64Array,r[Symbol.toStringTag]="Timestamp"))(Xa.prototype);class el extends le{constructor(e){super(S.Interval),this.unit=e}toString(){return`Interval<${Pn[this.unit]}>`}}sy=Symbol.toStringTag;el[sy]=(r=>(r.unit=null,r.ArrayType=Int32Array,r[Symbol.toStringTag]="Interval"))(el.prototype);class tl extends le{constructor(e){super(S.Duration),this.unit=e}toString(){return`Duration<${ne[this.unit]}>`}}oy=Symbol.toStringTag;tl[oy]=(r=>(r.unit=null,r.ArrayType=BigInt64Array,r[Symbol.toStringTag]="Duration"))(tl.prototype);class nl extends le{constructor(e){super(S.List),this.children=[e]}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}ay=Symbol.toStringTag;nl[ay]=(r=>(r.children=null,r[Symbol.toStringTag]="List"))(nl.prototype);class Ut extends le{constructor(e){super(S.Struct),this.children=e}toString(){return`Struct<{${this.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}ly=Symbol.toStringTag;Ut[ly]=(r=>(r.children=null,r[Symbol.toStringTag]="Struct"))(Ut.prototype);class rl extends le{constructor(e,n,o){super(S.Union),this.mode=e,this.children=o,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((a,u,f)=>(a[u]=f)&&a||a,Object.create(null))}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(e=>`${e.type}`).join(" | ")}>`}}uy=Symbol.toStringTag;rl[uy]=(r=>(r.mode=null,r.typeIds=null,r.children=null,r.typeIdToChildIndex=null,r.ArrayType=Int8Array,r[Symbol.toStringTag]="Union"))(rl.prototype);class il extends le{constructor(e){super(S.FixedSizeBinary),this.byteWidth=e}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}cy=Symbol.toStringTag;il[cy]=(r=>(r.byteWidth=null,r.ArrayType=Uint8Array,r[Symbol.toStringTag]="FixedSizeBinary"))(il.prototype);class sl extends le{constructor(e,n){super(S.FixedSizeList),this.listSize=e,this.children=[n]}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}dy=Symbol.toStringTag;sl[dy]=(r=>(r.children=null,r.listSize=null,r[Symbol.toStringTag]="FixedSizeList"))(sl.prototype);class ol extends le{constructor(e,n=!1){var o,a,u;if(super(S.Map),this.children=[e],this.keysSorted=n,e&&(e.name="entries",!((o=e==null?void 0:e.type)===null||o===void 0)&&o.children)){const f=(a=e==null?void 0:e.type)===null||a===void 0?void 0:a.children[0];f&&(f.name="key");const h=(u=e==null?void 0:e.type)===null||u===void 0?void 0:u.children[1];h&&(h.name="value")}}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}fy=Symbol.toStringTag;ol[fy]=(r=>(r.children=null,r.keysSorted=null,r[Symbol.toStringTag]="Map_"))(ol.prototype);const M_=(r=>()=>++r)(-1);class Xi extends le{constructor(e,n,o,a){super(S.Dictionary),this.indices=n,this.dictionary=e,this.isOrdered=a||!1,this.id=o==null?M_():Re(o)}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}hy=Symbol.toStringTag;Xi[hy]=(r=>(r.id=null,r.indices=null,r.isOrdered=null,r.dictionary=null,r[Symbol.toStringTag]="Dictionary"))(Xi.prototype);function Xn(r){const e=r;switch(r.typeId){case S.Decimal:return r.bitWidth/32;case S.Interval:return 1+e.unit;case S.FixedSizeList:return e.listSize;case S.FixedSizeBinary:return e.byteWidth;default:return 1}}class ge{visitMany(e,...n){return e.map((o,a)=>this.visit(o,...n.map(u=>u[a])))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,n=!0){return P_(this,e,n)}getVisitFnByTypeId(e,n=!0){return zi(this,e,n)}visitNull(e,...n){return null}visitBool(e,...n){return null}visitInt(e,...n){return null}visitFloat(e,...n){return null}visitUtf8(e,...n){return null}visitLargeUtf8(e,...n){return null}visitBinary(e,...n){return null}visitLargeBinary(e,...n){return null}visitFixedSizeBinary(e,...n){return null}visitDate(e,...n){return null}visitTimestamp(e,...n){return null}visitTime(e,...n){return null}visitDecimal(e,...n){return null}visitList(e,...n){return null}visitStruct(e,...n){return null}visitUnion(e,...n){return null}visitDictionary(e,...n){return null}visitInterval(e,...n){return null}visitDuration(e,...n){return null}visitFixedSizeList(e,...n){return null}visitMap(e,...n){return null}}function P_(r,e,n=!0){return typeof e=="number"?zi(r,e,n):typeof e=="string"&&e in S?zi(r,S[e],n):e&&e instanceof le?zi(r,tm(e),n):e!=null&&e.type&&e.type instanceof le?zi(r,tm(e.type),n):zi(r,S.NONE,n)}function zi(r,e,n=!0){let o=null;switch(e){case S.Null:o=r.visitNull;break;case S.Bool:o=r.visitBool;break;case S.Int:o=r.visitInt;break;case S.Int8:o=r.visitInt8||r.visitInt;break;case S.Int16:o=r.visitInt16||r.visitInt;break;case S.Int32:o=r.visitInt32||r.visitInt;break;case S.Int64:o=r.visitInt64||r.visitInt;break;case S.Uint8:o=r.visitUint8||r.visitInt;break;case S.Uint16:o=r.visitUint16||r.visitInt;break;case S.Uint32:o=r.visitUint32||r.visitInt;break;case S.Uint64:o=r.visitUint64||r.visitInt;break;case S.Float:o=r.visitFloat;break;case S.Float16:o=r.visitFloat16||r.visitFloat;break;case S.Float32:o=r.visitFloat32||r.visitFloat;break;case S.Float64:o=r.visitFloat64||r.visitFloat;break;case S.Utf8:o=r.visitUtf8;break;case S.LargeUtf8:o=r.visitLargeUtf8;break;case S.Binary:o=r.visitBinary;break;case S.LargeBinary:o=r.visitLargeBinary;break;case S.FixedSizeBinary:o=r.visitFixedSizeBinary;break;case S.Date:o=r.visitDate;break;case S.DateDay:o=r.visitDateDay||r.visitDate;break;case S.DateMillisecond:o=r.visitDateMillisecond||r.visitDate;break;case S.Timestamp:o=r.visitTimestamp;break;case S.TimestampSecond:o=r.visitTimestampSecond||r.visitTimestamp;break;case S.TimestampMillisecond:o=r.visitTimestampMillisecond||r.visitTimestamp;break;case S.TimestampMicrosecond:o=r.visitTimestampMicrosecond||r.visitTimestamp;break;case S.TimestampNanosecond:o=r.visitTimestampNanosecond||r.visitTimestamp;break;case S.Time:o=r.visitTime;break;case S.TimeSecond:o=r.visitTimeSecond||r.visitTime;break;case S.TimeMillisecond:o=r.visitTimeMillisecond||r.visitTime;break;case S.TimeMicrosecond:o=r.visitTimeMicrosecond||r.visitTime;break;case S.TimeNanosecond:o=r.visitTimeNanosecond||r.visitTime;break;case S.Decimal:o=r.visitDecimal;break;case S.List:o=r.visitList;break;case S.Struct:o=r.visitStruct;break;case S.Union:o=r.visitUnion;break;case S.DenseUnion:o=r.visitDenseUnion||r.visitUnion;break;case S.SparseUnion:o=r.visitSparseUnion||r.visitUnion;break;case S.Dictionary:o=r.visitDictionary;break;case S.Interval:o=r.visitInterval;break;case S.IntervalDayTime:o=r.visitIntervalDayTime||r.visitInterval;break;case S.IntervalYearMonth:o=r.visitIntervalYearMonth||r.visitInterval;break;case S.Duration:o=r.visitDuration;break;case S.DurationSecond:o=r.visitDurationSecond||r.visitDuration;break;case S.DurationMillisecond:o=r.visitDurationMillisecond||r.visitDuration;break;case S.DurationMicrosecond:o=r.visitDurationMicrosecond||r.visitDuration;break;case S.DurationNanosecond:o=r.visitDurationNanosecond||r.visitDuration;break;case S.FixedSizeList:o=r.visitFixedSizeList;break;case S.Map:o=r.visitMap;break}if(typeof o=="function")return o;if(!n)return()=>null;throw new Error(`Unrecognized type '${S[e]}'`)}function tm(r){switch(r.typeId){case S.Null:return S.Null;case S.Int:{const{bitWidth:e,isSigned:n}=r;switch(e){case 8:return n?S.Int8:S.Uint8;case 16:return n?S.Int16:S.Uint16;case 32:return n?S.Int32:S.Uint32;case 64:return n?S.Int64:S.Uint64}return S.Int}case S.Float:switch(r.precision){case yt.HALF:return S.Float16;case yt.SINGLE:return S.Float32;case yt.DOUBLE:return S.Float64}return S.Float;case S.Binary:return S.Binary;case S.LargeBinary:return S.LargeBinary;case S.Utf8:return S.Utf8;case S.LargeUtf8:return S.LargeUtf8;case S.Bool:return S.Bool;case S.Decimal:return S.Decimal;case S.Time:switch(r.unit){case ne.SECOND:return S.TimeSecond;case ne.MILLISECOND:return S.TimeMillisecond;case ne.MICROSECOND:return S.TimeMicrosecond;case ne.NANOSECOND:return S.TimeNanosecond}return S.Time;case S.Timestamp:switch(r.unit){case ne.SECOND:return S.TimestampSecond;case ne.MILLISECOND:return S.TimestampMillisecond;case ne.MICROSECOND:return S.TimestampMicrosecond;case ne.NANOSECOND:return S.TimestampNanosecond}return S.Timestamp;case S.Date:switch(r.unit){case cn.DAY:return S.DateDay;case cn.MILLISECOND:return S.DateMillisecond}return S.Date;case S.Interval:switch(r.unit){case Pn.DAY_TIME:return S.IntervalDayTime;case Pn.YEAR_MONTH:return S.IntervalYearMonth}return S.Interval;case S.Duration:switch(r.unit){case ne.SECOND:return S.DurationSecond;case ne.MILLISECOND:return S.DurationMillisecond;case ne.MICROSECOND:return S.DurationMicrosecond;case ne.NANOSECOND:return S.DurationNanosecond}return S.Duration;case S.Map:return S.Map;case S.List:return S.List;case S.Struct:return S.Struct;case S.Union:switch(r.mode){case Dt.Dense:return S.DenseUnion;case Dt.Sparse:return S.SparseUnion}return S.Union;case S.FixedSizeBinary:return S.FixedSizeBinary;case S.FixedSizeList:return S.FixedSizeList;case S.Dictionary:return S.Dictionary}throw new Error(`Unrecognized type '${S[r.typeId]}'`)}ge.prototype.visitInt8=null;ge.prototype.visitInt16=null;ge.prototype.visitInt32=null;ge.prototype.visitInt64=null;ge.prototype.visitUint8=null;ge.prototype.visitUint16=null;ge.prototype.visitUint32=null;ge.prototype.visitUint64=null;ge.prototype.visitFloat16=null;ge.prototype.visitFloat32=null;ge.prototype.visitFloat64=null;ge.prototype.visitDateDay=null;ge.prototype.visitDateMillisecond=null;ge.prototype.visitTimestampSecond=null;ge.prototype.visitTimestampMillisecond=null;ge.prototype.visitTimestampMicrosecond=null;ge.prototype.visitTimestampNanosecond=null;ge.prototype.visitTimeSecond=null;ge.prototype.visitTimeMillisecond=null;ge.prototype.visitTimeMicrosecond=null;ge.prototype.visitTimeNanosecond=null;ge.prototype.visitDenseUnion=null;ge.prototype.visitSparseUnion=null;ge.prototype.visitIntervalDayTime=null;ge.prototype.visitIntervalYearMonth=null;ge.prototype.visitDuration=null;ge.prototype.visitDurationSecond=null;ge.prototype.visitDurationMillisecond=null;ge.prototype.visitDurationMicrosecond=null;ge.prototype.visitDurationNanosecond=null;const Iy=new Float64Array(1),Bi=new Uint32Array(Iy.buffer);function xy(r){const e=(r&31744)>>10,n=(r&1023)/1024,o=Math.pow(-1,(r&32768)>>15);switch(e){case 31:return o*(n?Number.NaN:1/0);case 0:return o*(n?6103515625e-14*n:0)}return o*Math.pow(2,e-15)*(1+n)}function R_(r){if(r!==r)return 32256;Iy[0]=r;const e=(Bi[1]&2147483648)>>16&65535;let n=Bi[1]&2146435072,o=0;return n>=1089470464?Bi[0]>0?n=31744:(n=(n&2080374784)>>16,o=(Bi[1]&1048575)>>10):n<=1056964608?(o=1048576+(Bi[1]&1048575),o=1048576+(o<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,o=(Bi[1]&1048575)+512>>10),e|n|o&65535}class re extends ge{}function ae(r){return(e,n,o)=>{if(e.setValid(n,o!=null))return r(e,n,o)}}const U_=(r,e,n)=>{r[e]=Math.floor(n/864e5)},by=(r,e,n,o)=>{if(n+1<e.length){const a=Re(e[n]),u=Re(e[n+1]);r.set(o.subarray(0,u-a),a)}},z_=({offset:r,values:e},n,o)=>{const a=r+n;o?e[a>>3]|=1<<a%8:e[a>>3]&=~(1<<a%8)},ir=({values:r},e,n)=>{r[e]=n},dd=({values:r},e,n)=>{r[e]=n},ky=({values:r},e,n)=>{r[e]=R_(n)},V_=(r,e,n)=>{switch(r.type.precision){case yt.HALF:return ky(r,e,n);case yt.SINGLE:case yt.DOUBLE:return dd(r,e,n)}},Ny=({values:r},e,n)=>{U_(r,e,n.valueOf())},Oy=({values:r},e,n)=>{r[e]=BigInt(n)},$_=({stride:r,values:e},n,o)=>{e.set(o.subarray(0,r),r*n)},Dy=({values:r,valueOffsets:e},n,o)=>by(r,e,n,o),Ty=({values:r,valueOffsets:e},n,o)=>by(r,e,n,jm(o)),Z_=(r,e,n)=>{r.type.unit===cn.DAY?Ny(r,e,n):Oy(r,e,n)},Ay=({values:r},e,n)=>{r[e]=BigInt(n/1e3)},Cy=({values:r},e,n)=>{r[e]=BigInt(n)},Ey=({values:r},e,n)=>{r[e]=BigInt(n*1e3)},By=({values:r},e,n)=>{r[e]=BigInt(n*1e6)},W_=(r,e,n)=>{switch(r.type.unit){case ne.SECOND:return Ay(r,e,n);case ne.MILLISECOND:return Cy(r,e,n);case ne.MICROSECOND:return Ey(r,e,n);case ne.NANOSECOND:return By(r,e,n)}},Ly=({values:r},e,n)=>{r[e]=n},jy=({values:r},e,n)=>{r[e]=n},Fy=({values:r},e,n)=>{r[e]=n},My=({values:r},e,n)=>{r[e]=n},H_=(r,e,n)=>{switch(r.type.unit){case ne.SECOND:return Ly(r,e,n);case ne.MILLISECOND:return jy(r,e,n);case ne.MICROSECOND:return Fy(r,e,n);case ne.NANOSECOND:return My(r,e,n)}},Q_=({values:r,stride:e},n,o)=>{r.set(o.subarray(0,e),e*n)},J_=(r,e,n)=>{const o=r.children[0],a=r.valueOffsets,u=dn.getVisitFn(o);if(Array.isArray(n))for(let f=-1,h=a[e],m=a[e+1];h<m;)u(o,h++,n[++f]);else for(let f=-1,h=a[e],m=a[e+1];h<m;)u(o,h++,n.get(++f))},K_=(r,e,n)=>{const o=r.children[0],{valueOffsets:a}=r,u=dn.getVisitFn(o);let{[e]:f,[e+1]:h}=a;const m=n instanceof Map?n.entries():Object.entries(n);for(const y of m)if(u(o,f,y),++f>=h)break},Y_=(r,e)=>(n,o,a,u)=>o&&n(o,r,e[u]),q_=(r,e)=>(n,o,a,u)=>o&&n(o,r,e.get(u)),G_=(r,e)=>(n,o,a,u)=>o&&n(o,r,e.get(a.name)),X_=(r,e)=>(n,o,a,u)=>o&&n(o,r,e[a.name]),ew=(r,e,n)=>{const o=r.type.children.map(u=>dn.getVisitFn(u.type)),a=n instanceof Map?G_(e,n):n instanceof de?q_(e,n):Array.isArray(n)?Y_(e,n):X_(e,n);r.type.children.forEach((u,f)=>a(o[f],r.children[f],u,f))},tw=(r,e,n)=>{r.type.mode===Dt.Dense?Py(r,e,n):Ry(r,e,n)},Py=(r,e,n)=>{const o=r.type.typeIdToChildIndex[r.typeIds[e]],a=r.children[o];dn.visit(a,r.valueOffsets[e],n)},Ry=(r,e,n)=>{const o=r.type.typeIdToChildIndex[r.typeIds[e]],a=r.children[o];dn.visit(a,e,n)},nw=(r,e,n)=>{var o;(o=r.dictionary)===null||o===void 0||o.set(r.values[e],n)},rw=(r,e,n)=>{r.type.unit===Pn.DAY_TIME?Uy(r,e,n):zy(r,e,n)},Uy=({values:r},e,n)=>{r.set(n.subarray(0,2),2*e)},zy=({values:r},e,n)=>{r[e]=n[0]*12+n[1]%12},Vy=({values:r},e,n)=>{r[e]=n},$y=({values:r},e,n)=>{r[e]=n},Zy=({values:r},e,n)=>{r[e]=n},Wy=({values:r},e,n)=>{r[e]=n},iw=(r,e,n)=>{switch(r.type.unit){case ne.SECOND:return Vy(r,e,n);case ne.MILLISECOND:return $y(r,e,n);case ne.MICROSECOND:return Zy(r,e,n);case ne.NANOSECOND:return Wy(r,e,n)}},sw=(r,e,n)=>{const{stride:o}=r,a=r.children[0],u=dn.getVisitFn(a);if(Array.isArray(n))for(let f=-1,h=e*o;++f<o;)u(a,h+f,n[f]);else for(let f=-1,h=e*o;++f<o;)u(a,h+f,n.get(f))};re.prototype.visitBool=ae(z_);re.prototype.visitInt=ae(ir);re.prototype.visitInt8=ae(ir);re.prototype.visitInt16=ae(ir);re.prototype.visitInt32=ae(ir);re.prototype.visitInt64=ae(ir);re.prototype.visitUint8=ae(ir);re.prototype.visitUint16=ae(ir);re.prototype.visitUint32=ae(ir);re.prototype.visitUint64=ae(ir);re.prototype.visitFloat=ae(V_);re.prototype.visitFloat16=ae(ky);re.prototype.visitFloat32=ae(dd);re.prototype.visitFloat64=ae(dd);re.prototype.visitUtf8=ae(Ty);re.prototype.visitLargeUtf8=ae(Ty);re.prototype.visitBinary=ae(Dy);re.prototype.visitLargeBinary=ae(Dy);re.prototype.visitFixedSizeBinary=ae($_);re.prototype.visitDate=ae(Z_);re.prototype.visitDateDay=ae(Ny);re.prototype.visitDateMillisecond=ae(Oy);re.prototype.visitTimestamp=ae(W_);re.prototype.visitTimestampSecond=ae(Ay);re.prototype.visitTimestampMillisecond=ae(Cy);re.prototype.visitTimestampMicrosecond=ae(Ey);re.prototype.visitTimestampNanosecond=ae(By);re.prototype.visitTime=ae(H_);re.prototype.visitTimeSecond=ae(Ly);re.prototype.visitTimeMillisecond=ae(jy);re.prototype.visitTimeMicrosecond=ae(Fy);re.prototype.visitTimeNanosecond=ae(My);re.prototype.visitDecimal=ae(Q_);re.prototype.visitList=ae(J_);re.prototype.visitStruct=ae(ew);re.prototype.visitUnion=ae(tw);re.prototype.visitDenseUnion=ae(Py);re.prototype.visitSparseUnion=ae(Ry);re.prototype.visitDictionary=ae(nw);re.prototype.visitInterval=ae(rw);re.prototype.visitIntervalDayTime=ae(Uy);re.prototype.visitIntervalYearMonth=ae(zy);re.prototype.visitDuration=ae(iw);re.prototype.visitDurationSecond=ae(Vy);re.prototype.visitDurationMillisecond=ae($y);re.prototype.visitDurationMicrosecond=ae(Zy);re.prototype.visitDurationNanosecond=ae(Wy);re.prototype.visitFixedSizeList=ae(sw);re.prototype.visitMap=ae(K_);const dn=new re,Sn=Symbol.for("parent"),Ki=Symbol.for("rowIndex");class fd{constructor(e,n){return this[Sn]=e,this[Ki]=n,new Proxy(this,new aw)}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[Ki],n=this[Sn],o=n.type.children,a={};for(let u=-1,f=o.length;++u<f;)a[o[u].name]=Vt.visit(n.children[u],e);return a}toString(){return`{${[...this].map(([e,n])=>`${ao(e)}: ${ao(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new ow(this[Sn],this[Ki])}}class ow{constructor(e,n){this.childIndex=0,this.children=e.children,this.rowIndex=n,this.childFields=e.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const e=this.childIndex;return e<this.numChildren?(this.childIndex=e+1,{done:!1,value:[this.childFields[e].name,Vt.visit(this.children[e],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(fd.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Sn]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Ki]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class aw{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[Sn].type.children.map(n=>n.name)}has(e,n){return e[Sn].type.children.findIndex(o=>o.name===n)!==-1}getOwnPropertyDescriptor(e,n){if(e[Sn].type.children.findIndex(o=>o.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,n){if(Reflect.has(e,n))return e[n];const o=e[Sn].type.children.findIndex(a=>a.name===n);if(o!==-1){const a=Vt.visit(e[Sn].children[o],e[Ki]);return Reflect.set(e,n,a),a}}set(e,n,o){const a=e[Sn].type.children.findIndex(u=>u.name===n);return a!==-1?(dn.visit(e[Sn].children[a],e[Ki],o),Reflect.set(e,n,o)):Reflect.has(e,n)||typeof n=="symbol"?Reflect.set(e,n,o):!1}}class G extends ge{}function ie(r){return(e,n)=>e.getValid(n)?r(e,n):null}const lw=(r,e)=>864e5*r[e],uw=(r,e)=>null,Hy=(r,e,n)=>{if(n+1>=e.length)return null;const o=Re(e[n]),a=Re(e[n+1]);return r.subarray(o,a)},cw=({offset:r,values:e},n)=>{const o=r+n;return(e[o>>3]&1<<o%8)!==0},Qy=({values:r},e)=>lw(r,e),Jy=({values:r},e)=>Re(r[e]),Ur=({stride:r,values:e},n)=>e[r*n],dw=({stride:r,values:e},n)=>xy(e[r*n]),Ky=({values:r},e)=>r[e],fw=({stride:r,values:e},n)=>e.subarray(r*n,r*(n+1)),Yy=({values:r,valueOffsets:e},n)=>Hy(r,e,n),qy=({values:r,valueOffsets:e},n)=>{const o=Hy(r,e,n);return o!==null?Uc(o):null},hw=({values:r},e)=>r[e],pw=({type:r,values:e},n)=>r.precision!==yt.HALF?e[n]:xy(e[n]),mw=(r,e)=>r.type.unit===cn.DAY?Qy(r,e):Jy(r,e),Gy=({values:r},e)=>1e3*Re(r[e]),Xy=({values:r},e)=>Re(r[e]),eg=({values:r},e)=>Zm(r[e],BigInt(1e3)),tg=({values:r},e)=>Zm(r[e],BigInt(1e6)),yw=(r,e)=>{switch(r.type.unit){case ne.SECOND:return Gy(r,e);case ne.MILLISECOND:return Xy(r,e);case ne.MICROSECOND:return eg(r,e);case ne.NANOSECOND:return tg(r,e)}},ng=({values:r},e)=>r[e],rg=({values:r},e)=>r[e],ig=({values:r},e)=>r[e],sg=({values:r},e)=>r[e],gw=(r,e)=>{switch(r.type.unit){case ne.SECOND:return ng(r,e);case ne.MILLISECOND:return rg(r,e);case ne.MICROSECOND:return ig(r,e);case ne.NANOSECOND:return sg(r,e)}},vw=({values:r,stride:e},n)=>cd.decimal(r.subarray(e*n,e*(n+1))),_w=(r,e)=>{const{valueOffsets:n,stride:o,children:a}=r,{[e*o]:u,[e*o+1]:f}=n,m=a[0].slice(u,f-u);return new de([m])},ww=(r,e)=>{const{valueOffsets:n,children:o}=r,{[e]:a,[e+1]:u}=n,f=o[0];return new hd(f.slice(a,u-a))},Sw=(r,e)=>new fd(r,e),Iw=(r,e)=>r.type.mode===Dt.Dense?og(r,e):ag(r,e),og=(r,e)=>{const n=r.type.typeIdToChildIndex[r.typeIds[e]],o=r.children[n];return Vt.visit(o,r.valueOffsets[e])},ag=(r,e)=>{const n=r.type.typeIdToChildIndex[r.typeIds[e]],o=r.children[n];return Vt.visit(o,e)},xw=(r,e)=>{var n;return(n=r.dictionary)===null||n===void 0?void 0:n.get(r.values[e])},bw=(r,e)=>r.type.unit===Pn.DAY_TIME?lg(r,e):ug(r,e),lg=({values:r},e)=>r.subarray(2*e,2*(e+1)),ug=({values:r},e)=>{const n=r[e],o=new Int32Array(2);return o[0]=Math.trunc(n/12),o[1]=Math.trunc(n%12),o},cg=({values:r},e)=>r[e],dg=({values:r},e)=>r[e],fg=({values:r},e)=>r[e],hg=({values:r},e)=>r[e],kw=(r,e)=>{switch(r.type.unit){case ne.SECOND:return cg(r,e);case ne.MILLISECOND:return dg(r,e);case ne.MICROSECOND:return fg(r,e);case ne.NANOSECOND:return hg(r,e)}},Nw=(r,e)=>{const{stride:n,children:o}=r,u=o[0].slice(e*n,n);return new de([u])};G.prototype.visitNull=ie(uw);G.prototype.visitBool=ie(cw);G.prototype.visitInt=ie(hw);G.prototype.visitInt8=ie(Ur);G.prototype.visitInt16=ie(Ur);G.prototype.visitInt32=ie(Ur);G.prototype.visitInt64=ie(Ky);G.prototype.visitUint8=ie(Ur);G.prototype.visitUint16=ie(Ur);G.prototype.visitUint32=ie(Ur);G.prototype.visitUint64=ie(Ky);G.prototype.visitFloat=ie(pw);G.prototype.visitFloat16=ie(dw);G.prototype.visitFloat32=ie(Ur);G.prototype.visitFloat64=ie(Ur);G.prototype.visitUtf8=ie(qy);G.prototype.visitLargeUtf8=ie(qy);G.prototype.visitBinary=ie(Yy);G.prototype.visitLargeBinary=ie(Yy);G.prototype.visitFixedSizeBinary=ie(fw);G.prototype.visitDate=ie(mw);G.prototype.visitDateDay=ie(Qy);G.prototype.visitDateMillisecond=ie(Jy);G.prototype.visitTimestamp=ie(yw);G.prototype.visitTimestampSecond=ie(Gy);G.prototype.visitTimestampMillisecond=ie(Xy);G.prototype.visitTimestampMicrosecond=ie(eg);G.prototype.visitTimestampNanosecond=ie(tg);G.prototype.visitTime=ie(gw);G.prototype.visitTimeSecond=ie(ng);G.prototype.visitTimeMillisecond=ie(rg);G.prototype.visitTimeMicrosecond=ie(ig);G.prototype.visitTimeNanosecond=ie(sg);G.prototype.visitDecimal=ie(vw);G.prototype.visitList=ie(_w);G.prototype.visitStruct=ie(Sw);G.prototype.visitUnion=ie(Iw);G.prototype.visitDenseUnion=ie(og);G.prototype.visitSparseUnion=ie(ag);G.prototype.visitDictionary=ie(xw);G.prototype.visitInterval=ie(bw);G.prototype.visitIntervalDayTime=ie(lg);G.prototype.visitIntervalYearMonth=ie(ug);G.prototype.visitDuration=ie(kw);G.prototype.visitDurationSecond=ie(cg);G.prototype.visitDurationMillisecond=ie(dg);G.prototype.visitDurationMicrosecond=ie(fg);G.prototype.visitDurationNanosecond=ie(hg);G.prototype.visitFixedSizeList=ie(Nw);G.prototype.visitMap=ie(ww);const Vt=new G,Vi=Symbol.for("keys"),Yi=Symbol.for("vals"),$i=Symbol.for("kKeysAsStrings"),Wc=Symbol.for("_kKeysAsStrings");class hd{constructor(e){return this[Vi]=new de([e.children[0]]).memoize(),this[Yi]=e.children[1],new Proxy(this,new Dw)}get[$i](){return this[Wc]||(this[Wc]=Array.from(this[Vi].toArray(),String))}[Symbol.iterator](){return new Ow(this[Vi],this[Yi])}get size(){return this[Vi].length}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[Vi],n=this[Yi],o={};for(let a=-1,u=e.length;++a<u;)o[e.get(a)]=Vt.visit(n,a);return o}toString(){return`{${[...this].map(([e,n])=>`${ao(e)}: ${ao(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class Ow{constructor(e,n){this.keys=e,this.vals=n,this.keyIndex=0,this.numKeys=e.length}[Symbol.iterator](){return this}next(){const e=this.keyIndex;return e===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(e),Vt.visit(this.vals,e)]})}}class Dw{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[$i]}has(e,n){return e[$i].includes(n)}getOwnPropertyDescriptor(e,n){if(e[$i].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,n){if(Reflect.has(e,n))return e[n];const o=e[$i].indexOf(n);if(o!==-1){const a=Vt.visit(Reflect.get(e,Yi),o);return Reflect.set(e,n,a),a}}set(e,n,o){const a=e[$i].indexOf(n);return a!==-1?(dn.visit(Reflect.get(e,Yi),a,o),Reflect.set(e,n,o)):Reflect.has(e,n)?Reflect.set(e,n,o):!1}}Object.defineProperties(hd.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Vi]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Yi]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Wc]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let nm;function pg(r,e,n,o){const{length:a=0}=r;let u=typeof e!="number"?0:e,f=typeof n!="number"?a:n;return u<0&&(u=(u%a+a)%a),f<0&&(f=(f%a+a)%a),f<u&&(nm=u,u=f,f=nm),f>a&&(f=a),o?o(r,u,f):[u,f]}const pd=(r,e)=>r<0?e+r:r,rm=r=>r!==r;function ss(r){if(typeof r!=="object"||r===null)return rm(r)?rm:n=>n===r;if(r instanceof Date){const n=r.valueOf();return o=>o instanceof Date?o.valueOf()===n:!1}return ArrayBuffer.isView(r)?n=>n?k_(r,n):!1:r instanceof Map?Aw(r):Array.isArray(r)?Tw(r):r instanceof de?Cw(r):Ew(r,!0)}function Tw(r){const e=[];for(let n=-1,o=r.length;++n<o;)e[n]=ss(r[n]);return Sl(e)}function Aw(r){let e=-1;const n=[];for(const o of r.values())n[++e]=ss(o);return Sl(n)}function Cw(r){const e=[];for(let n=-1,o=r.length;++n<o;)e[n]=ss(r.get(n));return Sl(e)}function Ew(r,e=!1){const n=Object.keys(r);if(!e&&n.length===0)return()=>!1;const o=[];for(let a=-1,u=n.length;++a<u;)o[a]=ss(r[n[a]]);return Sl(o,n)}function Sl(r,e){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return Bw(r,n);case Map:return im(r,n,n.keys());case hd:case fd:case Object:case void 0:return im(r,n,e||Object.keys(n))}return n instanceof de?Lw(r,n):!1}}function Bw(r,e){const n=r.length;if(e.length!==n)return!1;for(let o=-1;++o<n;)if(!r[o](e[o]))return!1;return!0}function Lw(r,e){const n=r.length;if(e.length!==n)return!1;for(let o=-1;++o<n;)if(!r[o](e.get(o)))return!1;return!0}function im(r,e,n){const o=n[Symbol.iterator](),a=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),u=e instanceof Map?e.values():Object.values(e)[Symbol.iterator]();let f=0;const h=r.length;let m=u.next(),y=o.next(),I=a.next();for(;f<h&&!y.done&&!I.done&&!m.done&&!(y.value!==I.value||!r[f](m.value));++f,y=o.next(),I=a.next(),m=u.next());return f===h&&y.done&&I.done&&m.done?!0:(o.return&&o.return(),a.return&&a.return(),u.return&&u.return(),!1)}function mg(r,e,n,o){return(n&1<<o)!==0}function jw(r,e,n,o){return(n&1<<o)>>o}function al(r,e,n){const o=n.byteLength+7&-8;if(r>0||n.byteLength<o){const a=new Uint8Array(o);return a.set(r%8===0?n.subarray(r>>3):yg(new md(n,r,e,null,mg)).subarray(0,o)),a}return n}function yg(r){const e=[];let n=0,o=0,a=0;for(const f of r)f&&(a|=1<<o),++o===8&&(e[n++]=a,a=o=0);(n===0||o>0)&&(e[n++]=a);const u=new Uint8Array(e.length+7&-8);return u.set(e),u}class md{constructor(e,n,o,a,u){this.bytes=e,this.length=o,this.context=a,this.get=u,this.bit=n%8,this.byteIndex=n>>3,this.byte=e[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function Hc(r,e,n){if(n-e<=0)return 0;if(n-e<8){let u=0;for(const f of new md(r,e,n-e,r,jw))u+=f;return u}const o=n>>3<<3,a=e+(e%8===0?0:8-e%8);return Hc(r,e,a)+Hc(r,o,n)+Fw(r,a>>3,o-a>>3)}function Fw(r,e,n){let o=0,a=Math.trunc(e);const u=new DataView(r.buffer,r.byteOffset,r.byteLength),f=n===void 0?r.byteLength:a+n;for(;f-a>=4;)o+=Ac(u.getUint32(a)),a+=4;for(;f-a>=2;)o+=Ac(u.getUint16(a)),a+=2;for(;f-a>=1;)o+=Ac(u.getUint8(a)),a+=1;return o}function Ac(r){let e=Math.trunc(r);return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24}const Mw=-1;class Ae{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){const{type:e}=this;return le.isSparseUnion(e)?this.children.some(n=>n.nullable):le.isDenseUnion(e)?this.children.some(n=>n.nullable):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let e=0;const{valueOffsets:n,values:o,nullBitmap:a,typeIds:u}=this;return n&&(e+=n.byteLength),o&&(e+=o.byteLength),a&&(e+=a.byteLength),u&&(e+=u.byteLength),this.children.reduce((f,h)=>f+h.byteLength,e)}get nullCount(){if(le.isUnion(this.type))return this.children.reduce((o,a)=>o+a.nullCount,0);let e=this._nullCount,n;return e<=Mw&&(n=this.nullBitmap)&&(this._nullCount=e=n.length===0?0:this.length-Hc(n,this.offset,this.offset+this.length)),e}constructor(e,n,o,a,u,f=[],h){this.type=e,this.children=f,this.dictionary=h,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(o||0,0)),this._nullCount=Math.floor(Math.max(a||0,-1));let m;u instanceof Ae?(this.stride=u.stride,this.values=u.values,this.typeIds=u.typeIds,this.nullBitmap=u.nullBitmap,this.valueOffsets=u.valueOffsets):(this.stride=Xn(e),u&&((m=u[0])&&(this.valueOffsets=m),(m=u[1])&&(this.values=m),(m=u[2])&&(this.nullBitmap=m),(m=u[3])&&(this.typeIds=m)))}getValid(e){const{type:n}=this;if(le.isUnion(n)){const o=n,a=this.children[o.typeIdToChildIndex[this.typeIds[e]]],u=o.mode===Dt.Dense?this.valueOffsets[e]:e;return a.getValid(u)}if(this.nullable&&this.nullCount>0){const o=this.offset+e;return(this.nullBitmap[o>>3]&1<<o%8)!==0}return!0}setValid(e,n){let o;const{type:a}=this;if(le.isUnion(a)){const u=a,f=this.children[u.typeIdToChildIndex[this.typeIds[e]]],h=u.mode===Dt.Dense?this.valueOffsets[e]:e;o=f.getValid(h),f.setValid(h,n)}else{let{nullBitmap:u}=this;const{offset:f,length:h}=this,m=f+e,y=1<<m%8,I=m>>3;(!u||u.byteLength<=I)&&(u=new Uint8Array((f+h+63&-64)>>3).fill(255),this.nullCount>0?(u.set(al(f,h,this.nullBitmap),0),Object.assign(this,{nullBitmap:u})):Object.assign(this,{nullBitmap:u,_nullCount:0}));const O=u[I];o=(O&y)!==0,u[I]=n?O|y:O&~y}return o!==!!n&&(this._nullCount=this.nullCount+(n?-1:1)),n}clone(e=this.type,n=this.offset,o=this.length,a=this._nullCount,u=this,f=this.children){return new Ae(e,n,o,a,u,f,this.dictionary)}slice(e,n){const{stride:o,typeId:a,children:u}=this,f=+(this._nullCount===0)-1,h=a===16?o:1,m=this._sliceBuffers(e,n,o,a);return this.clone(this.type,this.offset+e,n,f,m,u.length===0||this.valueOffsets?u:this._sliceChildren(u,h*e,h*n))}_changeLengthAndBackfillNullBitmap(e){if(this.typeId===S.Null)return this.clone(this.type,0,e,0);const{length:n,nullCount:o}=this,a=new Uint8Array((e+63&-64)>>3).fill(255,0,n>>3);a[n>>3]=(1<<n-(n&-8))-1,o>0&&a.set(al(this.offset,n,this.nullBitmap),0);const u=this.buffers;return u[Gn.VALIDITY]=a,this.clone(this.type,0,e,o+(e-n),u)}_sliceBuffers(e,n,o,a){let u;const{buffers:f}=this;return(u=f[Gn.TYPE])&&(f[Gn.TYPE]=u.subarray(e,e+n)),(u=f[Gn.OFFSET])&&(f[Gn.OFFSET]=u.subarray(e,e+n+1))||(u=f[Gn.DATA])&&(f[Gn.DATA]=a===6?u:u.subarray(o*e,o*(e+n))),f}_sliceChildren(e,n,o){return e.map(a=>a.slice(n,o))}}Ae.prototype.children=Object.freeze([]);class so extends ge{visit(e){return this.getVisitFn(e.type).call(this,e)}visitNull(e){const{["type"]:n,["offset"]:o=0,["length"]:a=0}=e;return new Ae(n,o,a,a)}visitBool(e){const{["type"]:n,["offset"]:o=0}=e,a=Ne(e.nullBitmap),u=ct(n.ArrayType,e.data),{["length"]:f=u.length>>3,["nullCount"]:h=e.nullBitmap?-1:0}=e;return new Ae(n,o,f,h,[void 0,u,a])}visitInt(e){const{["type"]:n,["offset"]:o=0}=e,a=Ne(e.nullBitmap),u=ct(n.ArrayType,e.data),{["length"]:f=u.length,["nullCount"]:h=e.nullBitmap?-1:0}=e;return new Ae(n,o,f,h,[void 0,u,a])}visitFloat(e){const{["type"]:n,["offset"]:o=0}=e,a=Ne(e.nullBitmap),u=ct(n.ArrayType,e.data),{["length"]:f=u.length,["nullCount"]:h=e.nullBitmap?-1:0}=e;return new Ae(n,o,f,h,[void 0,u,a])}visitUtf8(e){const{["type"]:n,["offset"]:o=0}=e,a=Ne(e.data),u=Ne(e.nullBitmap),f=Qs(e.valueOffsets),{["length"]:h=f.length-1,["nullCount"]:m=e.nullBitmap?-1:0}=e;return new Ae(n,o,h,m,[f,a,u])}visitLargeUtf8(e){const{["type"]:n,["offset"]:o=0}=e,a=Ne(e.data),u=Ne(e.nullBitmap),f=Zp(e.valueOffsets),{["length"]:h=f.length-1,["nullCount"]:m=e.nullBitmap?-1:0}=e;return new Ae(n,o,h,m,[f,a,u])}visitBinary(e){const{["type"]:n,["offset"]:o=0}=e,a=Ne(e.data),u=Ne(e.nullBitmap),f=Qs(e.valueOffsets),{["length"]:h=f.length-1,["nullCount"]:m=e.nullBitmap?-1:0}=e;return new Ae(n,o,h,m,[f,a,u])}visitLargeBinary(e){const{["type"]:n,["offset"]:o=0}=e,a=Ne(e.data),u=Ne(e.nullBitmap),f=Zp(e.valueOffsets),{["length"]:h=f.length-1,["nullCount"]:m=e.nullBitmap?-1:0}=e;return new Ae(n,o,h,m,[f,a,u])}visitFixedSizeBinary(e){const{["type"]:n,["offset"]:o=0}=e,a=Ne(e.nullBitmap),u=ct(n.ArrayType,e.data),{["length"]:f=u.length/Xn(n),["nullCount"]:h=e.nullBitmap?-1:0}=e;return new Ae(n,o,f,h,[void 0,u,a])}visitDate(e){const{["type"]:n,["offset"]:o=0}=e,a=Ne(e.nullBitmap),u=ct(n.ArrayType,e.data),{["length"]:f=u.length/Xn(n),["nullCount"]:h=e.nullBitmap?-1:0}=e;return new Ae(n,o,f,h,[void 0,u,a])}visitTimestamp(e){const{["type"]:n,["offset"]:o=0}=e,a=Ne(e.nullBitmap),u=ct(n.ArrayType,e.data),{["length"]:f=u.length/Xn(n),["nullCount"]:h=e.nullBitmap?-1:0}=e;return new Ae(n,o,f,h,[void 0,u,a])}visitTime(e){const{["type"]:n,["offset"]:o=0}=e,a=Ne(e.nullBitmap),u=ct(n.ArrayType,e.data),{["length"]:f=u.length/Xn(n),["nullCount"]:h=e.nullBitmap?-1:0}=e;return new Ae(n,o,f,h,[void 0,u,a])}visitDecimal(e){const{["type"]:n,["offset"]:o=0}=e,a=Ne(e.nullBitmap),u=ct(n.ArrayType,e.data),{["length"]:f=u.length/Xn(n),["nullCount"]:h=e.nullBitmap?-1:0}=e;return new Ae(n,o,f,h,[void 0,u,a])}visitList(e){const{["type"]:n,["offset"]:o=0,["child"]:a}=e,u=Ne(e.nullBitmap),f=Qs(e.valueOffsets),{["length"]:h=f.length-1,["nullCount"]:m=e.nullBitmap?-1:0}=e;return new Ae(n,o,h,m,[f,void 0,u],[a])}visitStruct(e){const{["type"]:n,["offset"]:o=0,["children"]:a=[]}=e,u=Ne(e.nullBitmap),{length:f=a.reduce((m,{length:y})=>Math.max(m,y),0),nullCount:h=e.nullBitmap?-1:0}=e;return new Ae(n,o,f,h,[void 0,void 0,u],a)}visitUnion(e){const{["type"]:n,["offset"]:o=0,["children"]:a=[]}=e,u=ct(n.ArrayType,e.typeIds),{["length"]:f=u.length,["nullCount"]:h=-1}=e;if(le.isSparseUnion(n))return new Ae(n,o,f,h,[void 0,void 0,void 0,u],a);const m=Qs(e.valueOffsets);return new Ae(n,o,f,h,[m,void 0,void 0,u],a)}visitDictionary(e){const{["type"]:n,["offset"]:o=0}=e,a=Ne(e.nullBitmap),u=ct(n.indices.ArrayType,e.data),{["dictionary"]:f=new de([new so().visit({type:n.dictionary})])}=e,{["length"]:h=u.length,["nullCount"]:m=e.nullBitmap?-1:0}=e;return new Ae(n,o,h,m,[void 0,u,a],[],f)}visitInterval(e){const{["type"]:n,["offset"]:o=0}=e,a=Ne(e.nullBitmap),u=ct(n.ArrayType,e.data),{["length"]:f=u.length/Xn(n),["nullCount"]:h=e.nullBitmap?-1:0}=e;return new Ae(n,o,f,h,[void 0,u,a])}visitDuration(e){const{["type"]:n,["offset"]:o=0}=e,a=Ne(e.nullBitmap),u=ct(n.ArrayType,e.data),{["length"]:f=u.length,["nullCount"]:h=e.nullBitmap?-1:0}=e;return new Ae(n,o,f,h,[void 0,u,a])}visitFixedSizeList(e){const{["type"]:n,["offset"]:o=0,["child"]:a=new so().visit({type:n.valueType})}=e,u=Ne(e.nullBitmap),{["length"]:f=a.length/Xn(n),["nullCount"]:h=e.nullBitmap?-1:0}=e;return new Ae(n,o,f,h,[void 0,void 0,u],[a])}visitMap(e){const{["type"]:n,["offset"]:o=0,["child"]:a=new so().visit({type:n.childType})}=e,u=Ne(e.nullBitmap),f=Qs(e.valueOffsets),{["length"]:h=f.length-1,["nullCount"]:m=e.nullBitmap?-1:0}=e;return new Ae(n,o,h,m,[f,void 0,u],[a])}}const Pw=new so;function We(r){return Pw.visit(r)}class sm{constructor(e=0,n){this.numChunks=e,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function Rw(r){return r.some(e=>e.nullable)}function gg(r){return r.reduce((e,n)=>e+n.nullCount,0)}function vg(r){return r.reduce((e,n,o)=>(e[o+1]=e[o]+n.length,e),new Uint32Array(r.length+1))}function _g(r,e,n,o){const a=[];for(let u=-1,f=r.length;++u<f;){const h=r[u],m=e[u],{length:y}=h;if(m>=o)break;if(n>=m+y)continue;if(m>=n&&m+y<=o){a.push(h);continue}const I=Math.max(0,n-m),O=Math.min(o-m,y);a.push(h.slice(I,O-I))}return a.length===0&&a.push(r[0].slice(0,0)),a}function yd(r,e,n,o){let a=0,u=0,f=e.length-1;do{if(a>=f-1)return n<e[f]?o(r,a,n-e[a]):null;u=a+Math.trunc((f-a)*.5),n<e[u]?f=u:a=u}while(a<f)}function gd(r,e){return r.getValid(e)}function ll(r){function e(n,o,a){return r(n[o],a)}return function(n){const o=this.data;return yd(o,this._offsets,n,e)}}function wg(r){let e;function n(o,a,u){return r(o[a],u,e)}return function(o,a){const u=this.data;e=a;const f=yd(u,this._offsets,o,n);return e=void 0,f}}function Sg(r){let e;function n(o,a,u){let f=u,h=0,m=0;for(let y=a-1,I=o.length;++y<I;){const O=o[y];if(~(h=r(O,e,f)))return m+h;f=0,m+=O.length}return-1}return function(o,a){e=o;const u=this.data,f=typeof a!="number"?n(u,0,0):yd(u,this._offsets,a,n);return e=void 0,f}}class X extends ge{}function Uw(r,e){return e===null&&r.length>0?0:-1}function zw(r,e){const{nullBitmap:n}=r;if(!n||r.nullCount<=0)return-1;let o=0;for(const a of new md(n,r.offset+(e||0),r.length,n,mg)){if(!a)return o;++o}return-1}function ce(r,e,n){if(e===void 0)return-1;if(e===null)switch(r.typeId){case S.Union:break;case S.Dictionary:break;default:return zw(r,n)}const o=Vt.getVisitFn(r),a=ss(e);for(let u=(n||0)-1,f=r.length;++u<f;)if(a(o(r,u)))return u;return-1}function Ig(r,e,n){const o=Vt.getVisitFn(r),a=ss(e);for(let u=(n||0)-1,f=r.length;++u<f;)if(a(o(r,u)))return u;return-1}X.prototype.visitNull=Uw;X.prototype.visitBool=ce;X.prototype.visitInt=ce;X.prototype.visitInt8=ce;X.prototype.visitInt16=ce;X.prototype.visitInt32=ce;X.prototype.visitInt64=ce;X.prototype.visitUint8=ce;X.prototype.visitUint16=ce;X.prototype.visitUint32=ce;X.prototype.visitUint64=ce;X.prototype.visitFloat=ce;X.prototype.visitFloat16=ce;X.prototype.visitFloat32=ce;X.prototype.visitFloat64=ce;X.prototype.visitUtf8=ce;X.prototype.visitLargeUtf8=ce;X.prototype.visitBinary=ce;X.prototype.visitLargeBinary=ce;X.prototype.visitFixedSizeBinary=ce;X.prototype.visitDate=ce;X.prototype.visitDateDay=ce;X.prototype.visitDateMillisecond=ce;X.prototype.visitTimestamp=ce;X.prototype.visitTimestampSecond=ce;X.prototype.visitTimestampMillisecond=ce;X.prototype.visitTimestampMicrosecond=ce;X.prototype.visitTimestampNanosecond=ce;X.prototype.visitTime=ce;X.prototype.visitTimeSecond=ce;X.prototype.visitTimeMillisecond=ce;X.prototype.visitTimeMicrosecond=ce;X.prototype.visitTimeNanosecond=ce;X.prototype.visitDecimal=ce;X.prototype.visitList=ce;X.prototype.visitStruct=ce;X.prototype.visitUnion=ce;X.prototype.visitDenseUnion=Ig;X.prototype.visitSparseUnion=Ig;X.prototype.visitDictionary=ce;X.prototype.visitInterval=ce;X.prototype.visitIntervalDayTime=ce;X.prototype.visitIntervalYearMonth=ce;X.prototype.visitDuration=ce;X.prototype.visitDurationSecond=ce;X.prototype.visitDurationMillisecond=ce;X.prototype.visitDurationMicrosecond=ce;X.prototype.visitDurationNanosecond=ce;X.prototype.visitFixedSizeList=ce;X.prototype.visitMap=ce;const ul=new X;class ee extends ge{}function se(r){const{type:e}=r;if(r.nullCount===0&&r.stride===1&&(le.isInt(e)&&e.bitWidth!==64||le.isTime(e)&&e.bitWidth!==64||le.isFloat(e)&&e.precision!==yt.HALF))return new sm(r.data.length,o=>{const a=r.data[o];return a.values.subarray(0,a.length)[Symbol.iterator]()});let n=0;return new sm(r.data.length,o=>{const u=r.data[o].length,f=r.slice(n,n+u);return n+=u,new Vw(f)})}class Vw{constructor(e){this.vector=e,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}ee.prototype.visitNull=se;ee.prototype.visitBool=se;ee.prototype.visitInt=se;ee.prototype.visitInt8=se;ee.prototype.visitInt16=se;ee.prototype.visitInt32=se;ee.prototype.visitInt64=se;ee.prototype.visitUint8=se;ee.prototype.visitUint16=se;ee.prototype.visitUint32=se;ee.prototype.visitUint64=se;ee.prototype.visitFloat=se;ee.prototype.visitFloat16=se;ee.prototype.visitFloat32=se;ee.prototype.visitFloat64=se;ee.prototype.visitUtf8=se;ee.prototype.visitLargeUtf8=se;ee.prototype.visitBinary=se;ee.prototype.visitLargeBinary=se;ee.prototype.visitFixedSizeBinary=se;ee.prototype.visitDate=se;ee.prototype.visitDateDay=se;ee.prototype.visitDateMillisecond=se;ee.prototype.visitTimestamp=se;ee.prototype.visitTimestampSecond=se;ee.prototype.visitTimestampMillisecond=se;ee.prototype.visitTimestampMicrosecond=se;ee.prototype.visitTimestampNanosecond=se;ee.prototype.visitTime=se;ee.prototype.visitTimeSecond=se;ee.prototype.visitTimeMillisecond=se;ee.prototype.visitTimeMicrosecond=se;ee.prototype.visitTimeNanosecond=se;ee.prototype.visitDecimal=se;ee.prototype.visitList=se;ee.prototype.visitStruct=se;ee.prototype.visitUnion=se;ee.prototype.visitDenseUnion=se;ee.prototype.visitSparseUnion=se;ee.prototype.visitDictionary=se;ee.prototype.visitInterval=se;ee.prototype.visitIntervalDayTime=se;ee.prototype.visitIntervalYearMonth=se;ee.prototype.visitDuration=se;ee.prototype.visitDurationSecond=se;ee.prototype.visitDurationMillisecond=se;ee.prototype.visitDurationMicrosecond=se;ee.prototype.visitDurationNanosecond=se;ee.prototype.visitFixedSizeList=se;ee.prototype.visitMap=se;const vd=new ee;var xg;const bg={},kg={};class de{constructor(e){var n,o,a;const u=e[0]instanceof de?e.flatMap(h=>h.data):e;if(u.length===0||u.some(h=>!(h instanceof Ae)))throw new TypeError("Vector constructor expects an Array of Data instances.");const f=(n=u[0])===null||n===void 0?void 0:n.type;switch(u.length){case 0:this._offsets=[0];break;case 1:{const{get:h,set:m,indexOf:y}=bg[f.typeId],I=u[0];this.isValid=O=>gd(I,O),this.get=O=>h(I,O),this.set=(O,j)=>m(I,O,j),this.indexOf=O=>y(I,O),this._offsets=[0,I.length];break}default:Object.setPrototypeOf(this,kg[f.typeId]),this._offsets=vg(u);break}this.data=u,this.type=f,this.stride=Xn(f),this.numChildren=(a=(o=f.children)===null||o===void 0?void 0:o.length)!==null&&a!==void 0?a:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((e,n)=>e+n.byteLength,0)}get nullable(){return Rw(this.data)}get nullCount(){return gg(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${S[this.type.typeId]}Vector`}isValid(e){return!1}get(e){return null}at(e){return this.get(pd(e,this.length))}set(e,n){}indexOf(e,n){return-1}includes(e,n){return this.indexOf(e,n)>-1}[Symbol.iterator](){return vd.visit(this)}concat(...e){return new de(this.data.concat(e.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(e,n){return new de(pg(this,e,n,({data:o,_offsets:a},u,f)=>_g(o,a,u,f)))}toJSON(){return[...this]}toArray(){const{type:e,data:n,length:o,stride:a,ArrayType:u}=this;switch(e.typeId){case S.Int:case S.Float:case S.Decimal:case S.Time:case S.Timestamp:switch(n.length){case 0:return new u;case 1:return n[0].values.subarray(0,o*a);default:return n.reduce((f,{values:h,length:m})=>(f.array.set(h.subarray(0,m*a),f.offset),f.offset+=m*a,f),{array:new u(o*a),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(e){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(o=>o.name===e))}getChildAt(e){return e>-1&&e<this.numChildren?new de(this.data.map(({children:n})=>n[e])):null}get isMemoized(){return le.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(le.isDictionary(this.type)){const e=new cl(this.data[0].dictionary),n=this.data.map(o=>{const a=o.clone();return a.dictionary=e,a});return new de(n)}return new cl(this)}unmemoize(){if(le.isDictionary(this.type)&&this.isMemoized){const e=this.data[0].dictionary.unmemoize(),n=this.data.map(o=>{const a=o.clone();return a.dictionary=e,a});return new de(n)}return this}}xg=Symbol.toStringTag;de[xg]=(r=>{r.type=le.prototype,r.data=[],r.length=0,r.stride=1,r.numChildren=0,r._offsets=new Uint32Array([0]),r[Symbol.isConcatSpreadable]=!0;const e=Object.keys(S).map(n=>S[n]).filter(n=>typeof n=="number"&&n!==S.NONE);for(const n of e){const o=Vt.getVisitFnByTypeId(n),a=dn.getVisitFnByTypeId(n),u=ul.getVisitFnByTypeId(n);bg[n]={get:o,set:a,indexOf:u},kg[n]=Object.create(r,{isValid:{value:ll(gd)},get:{value:ll(Vt.getVisitFnByTypeId(n))},set:{value:wg(dn.getVisitFnByTypeId(n))},indexOf:{value:Sg(ul.getVisitFnByTypeId(n))}})}return"Vector"})(de.prototype);class cl extends de{constructor(e){super(e.data);const n=this.get,o=this.set,a=this.slice,u=new Array(this.length);Object.defineProperty(this,"get",{value(f){const h=u[f];if(h!==void 0)return h;const m=n.call(this,f);return u[f]=m,m}}),Object.defineProperty(this,"set",{value(f,h){o.call(this,f,h),u[f]=h}}),Object.defineProperty(this,"slice",{value:(f,h)=>new cl(a.call(this,f,h))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new de(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}function ti(r){if(r){if(r instanceof Ae)return new de([r]);if(r instanceof de)return new de(r.data);if(r.type instanceof le)return new de([We(r)]);if(Array.isArray(r))return new de(r.flatMap(e=>$w(e)));if(ArrayBuffer.isView(r)){r instanceof DataView&&(r=new Uint8Array(r.buffer));const e={offset:0,length:r.length,nullCount:-1,data:r};if(r instanceof Int8Array)return new de([We(Object.assign(Object.assign({},e),{type:new py}))]);if(r instanceof Int16Array)return new de([We(Object.assign(Object.assign({},e),{type:new my}))]);if(r instanceof Int32Array)return new de([We(Object.assign(Object.assign({},e),{type:new si}))]);if(r instanceof BigInt64Array)return new de([We(Object.assign(Object.assign({},e),{type:new yy}))]);if(r instanceof Uint8Array||r instanceof Uint8ClampedArray)return new de([We(Object.assign(Object.assign({},e),{type:new gy}))]);if(r instanceof Uint16Array)return new de([We(Object.assign(Object.assign({},e),{type:new vy}))]);if(r instanceof Uint32Array)return new de([We(Object.assign(Object.assign({},e),{type:new _y}))]);if(r instanceof BigUint64Array)return new de([We(Object.assign(Object.assign({},e),{type:new wy}))]);if(r instanceof Float32Array)return new de([We(Object.assign(Object.assign({},e),{type:new Sy}))]);if(r instanceof Float64Array)return new de([We(Object.assign(Object.assign({},e),{type:new Wi}))]);throw new Error("Unrecognized input")}}throw new Error("Unrecognized input")}function $w(r){return r instanceof Ae?[r]:r instanceof de?r.data:ti(r).data}class Qc{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(e,n,o,a){return e.prep(8,24),e.writeInt64(BigInt(a??0)),e.pad(4),e.writeInt32(o),e.writeInt64(BigInt(n??0)),e.offset()}}class Jt{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFooter(e,n){return(n||new Jt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFooter(e,n){return e.setPosition(e.position()+Le),(n||new Jt).__init(e.readInt32(e.position())+e.position(),e)}version(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):ft.V1}schema(e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new An).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(e,n){const o=this.bb.__offset(this.bb_pos,8);return o?(n||new Qc).__init(this.bb.__vector(this.bb_pos+o)+e*24,this.bb):null}dictionariesLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}recordBatches(e,n){const o=this.bb.__offset(this.bb_pos,10);return o?(n||new Qc).__init(this.bb.__vector(this.bb_pos+o)+e*24,this.bb):null}recordBatchesLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,n){const o=this.bb.__offset(this.bb_pos,12);return o?(n||new dt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+o)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startFooter(e){e.startObject(5)}static addVersion(e,n){e.addFieldInt16(0,n,ft.V1)}static addSchema(e,n){e.addFieldOffset(1,n,0)}static addDictionaries(e,n){e.addFieldOffset(2,n,0)}static startDictionariesVector(e,n){e.startVector(24,n,8)}static addRecordBatches(e,n){e.addFieldOffset(3,n,0)}static startRecordBatchesVector(e,n){e.startVector(24,n,8)}static addCustomMetadata(e,n){e.addFieldOffset(4,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let o=n.length-1;o>=0;o--)e.addOffset(n[o]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static endFooter(e){return e.endObject()}static finishFooterBuffer(e,n){e.finish(n)}static finishSizePrefixedFooterBuffer(e,n){e.finish(n,void 0,!0)}}class Be{constructor(e=[],n,o,a=ft.V5){this.fields=e||[],this.metadata=n||new Map,o||(o=Jc(e)),this.dictionaries=o,this.metadataVersion=a}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(e=>e.name)}toString(){return`Schema<{ ${this.fields.map((e,n)=>`${n}: ${e}`).join(", ")} }>`}select(e){const n=new Set(e),o=this.fields.filter(a=>n.has(a.name));return new Be(o,this.metadata)}selectAt(e){const n=e.map(o=>this.fields[o]).filter(Boolean);return new Be(n,this.metadata)}assign(...e){const n=e[0]instanceof Be?e[0]:Array.isArray(e[0])?new Be(e[0]):new Be(e),o=[...this.fields],a=Ea(Ea(new Map,this.metadata),n.metadata),u=n.fields.filter(h=>{const m=o.findIndex(y=>y.name===h.name);return~m?(o[m]=h.clone({metadata:Ea(Ea(new Map,o[m].metadata),h.metadata)}))&&!1:!0}),f=Jc(u,new Map);return new Be([...o,...u],a,new Map([...this.dictionaries,...f]))}}Be.prototype.fields=null;Be.prototype.metadata=null;Be.prototype.dictionaries=null;class Ke{static new(...e){let[n,o,a,u]=e;return e[0]&&typeof e[0]=="object"&&({name:n}=e[0],o===void 0&&(o=e[0].type),a===void 0&&(a=e[0].nullable),u===void 0&&(u=e[0].metadata)),new Ke(`${n}`,o,a,u)}constructor(e,n,o=!1,a){this.name=e,this.type=n,this.nullable=o,this.metadata=a||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...e){let[n,o,a,u]=e;return!e[0]||typeof e[0]!="object"?[n=this.name,o=this.type,a=this.nullable,u=this.metadata]=e:{name:n=this.name,type:o=this.type,nullable:a=this.nullable,metadata:u=this.metadata}=e[0],Ke.new(n,o,a,u)}}Ke.prototype.type=null;Ke.prototype.name=null;Ke.prototype.nullable=null;Ke.prototype.metadata=null;function Ea(r,e){return new Map([...r||new Map,...e||new Map])}function Jc(r,e=new Map){for(let n=-1,o=r.length;++n<o;){const u=r[n].type;if(le.isDictionary(u)){if(!e.has(u.id))e.set(u.id,u.dictionary);else if(e.get(u.id)!==u.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}u.children&&u.children.length>0&&Jc(u.children,e)}return e}var Zw=Um,Ww=Va;class Kc{static decode(e){e=new Ww(Ne(e));const n=Jt.getRootAsFooter(e),o=Be.decode(n.schema(),new Map,n.version());return new Hw(o,n)}static encode(e){const n=new Zw,o=Be.encode(n,e.schema);Jt.startRecordBatchesVector(n,e.numRecordBatches);for(const f of[...e.recordBatches()].slice().reverse())Lr.encode(n,f);const a=n.endVector();Jt.startDictionariesVector(n,e.numDictionaries);for(const f of[...e.dictionaryBatches()].slice().reverse())Lr.encode(n,f);const u=n.endVector();return Jt.startFooter(n),Jt.addSchema(n,o),Jt.addVersion(n,ft.V5),Jt.addRecordBatches(n,a),Jt.addDictionaries(n,u),Jt.finishFooterBuffer(n,Jt.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(e,n=ft.V5,o,a){this.schema=e,this.version=n,o&&(this._recordBatches=o),a&&(this._dictionaryBatches=a)}*recordBatches(){for(let e,n=-1,o=this.numRecordBatches;++n<o;)(e=this.getRecordBatch(n))&&(yield e)}*dictionaryBatches(){for(let e,n=-1,o=this.numDictionaries;++n<o;)(e=this.getDictionaryBatch(n))&&(yield e)}getRecordBatch(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}getDictionaryBatch(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}}class Hw extends Kc{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(e,n){super(e,n.version()),this._footer=n}getRecordBatch(e){if(e>=0&&e<this.numRecordBatches){const n=this._footer.recordBatches(e);if(n)return Lr.decode(n)}return null}getDictionaryBatch(e){if(e>=0&&e<this.numDictionaries){const n=this._footer.dictionaries(e);if(n)return Lr.decode(n)}return null}}class Lr{static decode(e){return new Lr(e.metaDataLength(),e.bodyLength(),e.offset())}static encode(e,n){const{metaDataLength:o}=n,a=BigInt(n.offset),u=BigInt(n.bodyLength);return Qc.createBlock(e,a,o,u)}constructor(e,n,o){this.metaDataLength=e,this.offset=Re(o),this.bodyLength=Re(n)}}const Ba=Object.freeze({done:!0,value:void 0});class Ng{tee(){return this._getDOMStream().tee()}pipe(e,n){return this._getNodeStream().pipe(e,n)}pipeTo(e,n){return this._getDOMStream().pipeTo(e,n)}pipeThrough(e,n){return this._getDOMStream().pipeThrough(e,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class Qw extends Ng{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}get closed(){return this._closedPromise}cancel(e){return er(this,void 0,void 0,function*(){yield this.return(e)})}write(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}abort(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}close(){if(this._closedPromiseResolve){const{resolvers:e}=this;for(;e.length>0;)e.shift().resolve(Ba);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(e){return Wp.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)}toNodeStream(e){return Wp.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)}throw(e){return er(this,void 0,void 0,function*(){return yield this.abort(e),Ba})}return(e){return er(this,void 0,void 0,function*(){return yield this.close(),Ba})}read(e){return er(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return er(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(...e){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,o)=>{this.resolvers.push({resolve:n,reject:o})}):Promise.resolve(Ba)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class Cc extends Qw{write(e){if((e=Ne(e)).byteLength>0)return super.write(e)}toString(e=!1){return e?Uc(this.toUint8Array(!0)):this.toUint8Array(!1).then(Uc)}toUint8Array(e=!1){return e?Mn(this._values)[0]:er(this,void 0,void 0,function*(){var n,o,a,u;const f=[];let h=0;try{for(var m=!0,y=io(this),I;I=yield y.next(),n=I.done,!n;m=!0){u=I.value,m=!1;const O=u;f.push(O),h+=O.byteLength}}catch(O){o={error:O}}finally{try{!m&&!n&&(a=y.return)&&(yield a.call(y))}finally{if(o)throw o.error}}return Mn(f,h)[0]})}}class te extends ge{compareSchemas(e,n){return e===n||n instanceof e.constructor&&this.compareManyFields(e.fields,n.fields)}compareManyFields(e,n){return e===n||Array.isArray(e)&&Array.isArray(n)&&e.length===n.length&&e.every((o,a)=>this.compareFields(o,n[a]))}compareFields(e,n){return e===n||n instanceof e.constructor&&e.name===n.name&&e.nullable===n.nullable&&this.visit(e.type,n.type)}}function Tt(r,e){return e instanceof r.constructor}function ai(r,e){return r===e||Tt(r,e)}function sr(r,e){return r===e||Tt(r,e)&&r.bitWidth===e.bitWidth&&r.isSigned===e.isSigned}function Il(r,e){return r===e||Tt(r,e)&&r.precision===e.precision}function Jw(r,e){return r===e||Tt(r,e)&&r.byteWidth===e.byteWidth}function _d(r,e){return r===e||Tt(r,e)&&r.unit===e.unit}function yo(r,e){return r===e||Tt(r,e)&&r.unit===e.unit&&r.timezone===e.timezone}function go(r,e){return r===e||Tt(r,e)&&r.unit===e.unit&&r.bitWidth===e.bitWidth}function Kw(r,e){return r===e||Tt(r,e)&&r.children.length===e.children.length&&jr.compareManyFields(r.children,e.children)}function Yw(r,e){return r===e||Tt(r,e)&&r.children.length===e.children.length&&jr.compareManyFields(r.children,e.children)}function wd(r,e){return r===e||Tt(r,e)&&r.mode===e.mode&&r.typeIds.every((n,o)=>n===e.typeIds[o])&&jr.compareManyFields(r.children,e.children)}function qw(r,e){return r===e||Tt(r,e)&&r.id===e.id&&r.isOrdered===e.isOrdered&&jr.visit(r.indices,e.indices)&&jr.visit(r.dictionary,e.dictionary)}function Sd(r,e){return r===e||Tt(r,e)&&r.unit===e.unit}function vo(r,e){return r===e||Tt(r,e)&&r.unit===e.unit}function Gw(r,e){return r===e||Tt(r,e)&&r.listSize===e.listSize&&r.children.length===e.children.length&&jr.compareManyFields(r.children,e.children)}function Xw(r,e){return r===e||Tt(r,e)&&r.keysSorted===e.keysSorted&&r.children.length===e.children.length&&jr.compareManyFields(r.children,e.children)}te.prototype.visitNull=ai;te.prototype.visitBool=ai;te.prototype.visitInt=sr;te.prototype.visitInt8=sr;te.prototype.visitInt16=sr;te.prototype.visitInt32=sr;te.prototype.visitInt64=sr;te.prototype.visitUint8=sr;te.prototype.visitUint16=sr;te.prototype.visitUint32=sr;te.prototype.visitUint64=sr;te.prototype.visitFloat=Il;te.prototype.visitFloat16=Il;te.prototype.visitFloat32=Il;te.prototype.visitFloat64=Il;te.prototype.visitUtf8=ai;te.prototype.visitLargeUtf8=ai;te.prototype.visitBinary=ai;te.prototype.visitLargeBinary=ai;te.prototype.visitFixedSizeBinary=Jw;te.prototype.visitDate=_d;te.prototype.visitDateDay=_d;te.prototype.visitDateMillisecond=_d;te.prototype.visitTimestamp=yo;te.prototype.visitTimestampSecond=yo;te.prototype.visitTimestampMillisecond=yo;te.prototype.visitTimestampMicrosecond=yo;te.prototype.visitTimestampNanosecond=yo;te.prototype.visitTime=go;te.prototype.visitTimeSecond=go;te.prototype.visitTimeMillisecond=go;te.prototype.visitTimeMicrosecond=go;te.prototype.visitTimeNanosecond=go;te.prototype.visitDecimal=ai;te.prototype.visitList=Kw;te.prototype.visitStruct=Yw;te.prototype.visitUnion=wd;te.prototype.visitDenseUnion=wd;te.prototype.visitSparseUnion=wd;te.prototype.visitDictionary=qw;te.prototype.visitInterval=Sd;te.prototype.visitIntervalDayTime=Sd;te.prototype.visitIntervalYearMonth=Sd;te.prototype.visitDuration=vo;te.prototype.visitDurationSecond=vo;te.prototype.visitDurationMillisecond=vo;te.prototype.visitDurationMicrosecond=vo;te.prototype.visitDurationNanosecond=vo;te.prototype.visitFixedSizeList=Gw;te.prototype.visitMap=Xw;const jr=new te;function Yc(r,e){return jr.compareSchemas(r,e)}function Ec(r,e){return eS(r,e.map(n=>n.data.concat()))}function eS(r,e){const n=[...r.fields],o=[],a={numBatches:e.reduce((O,j)=>Math.max(O,j.length),0)};let u=0,f=0,h=-1;const m=e.length;let y,I=[];for(;a.numBatches-- >0;){for(f=Number.POSITIVE_INFINITY,h=-1;++h<m;)I[h]=y=e[h].shift(),f=Math.min(f,y?y.length:f);Number.isFinite(f)&&(I=tS(n,f,I,e,a),f>0&&(o[u++]=We({type:new Ut(n),length:f,nullCount:0,children:I.slice()})))}return[r=r.assign(n),o.map(O=>new Yt(r,O))]}function tS(r,e,n,o,a){var u;const f=(e+63&-64)>>3;for(let h=-1,m=o.length;++h<m;){const y=n[h],I=y==null?void 0:y.length;if(I>=e)I===e?n[h]=y:(n[h]=y.slice(0,e),a.numBatches=Math.max(a.numBatches,o[h].unshift(y.slice(e,I-e))));else{const O=r[h];r[h]=O.clone({nullable:!0}),n[h]=(u=y==null?void 0:y._changeLengthAndBackfillNullBitmap(e))!==null&&u!==void 0?u:We({type:O.type,length:e,nullCount:e,nullBitmap:new Uint8Array(f)})}}return n}var Og;class Rt{constructor(...e){var n,o;if(e.length===0)return this.batches=[],this.schema=new Be([]),this._offsets=[0],this;let a,u;e[0]instanceof Be&&(a=e.shift()),e.at(-1)instanceof Uint32Array&&(u=e.pop());const f=m=>{if(m){if(m instanceof Yt)return[m];if(m instanceof Rt)return m.batches;if(m instanceof Ae){if(m.type instanceof Ut)return[new Yt(new Be(m.type.children),m)]}else{if(Array.isArray(m))return m.flatMap(y=>f(y));if(typeof m[Symbol.iterator]=="function")return[...m].flatMap(y=>f(y));if(typeof m=="object"){const y=Object.keys(m),I=y.map(U=>new de([m[U]])),O=a??new Be(y.map((U,W)=>new Ke(String(U),I[W].type,I[W].nullable))),[,j]=Ec(O,I);return j.length===0?[new Yt(m)]:j}}}return[]},h=e.flatMap(m=>f(m));if(a=(o=a??((n=h[0])===null||n===void 0?void 0:n.schema))!==null&&o!==void 0?o:new Be([]),!(a instanceof Be))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const m of h){if(!(m instanceof Yt))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!Yc(a,m.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=a,this.batches=h,this._offsets=u??vg(this.data)}get data(){return this.batches.map(({data:e})=>e)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((e,n)=>e+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=gg(this.data)),this._nullCount}isValid(e){return!1}get(e){return null}at(e){return this.get(pd(e,this.numRows))}set(e,n){}indexOf(e,n){return-1}[Symbol.iterator](){return this.batches.length>0?vd.visit(new de(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...e){const n=this.schema,o=this.data.concat(e.flatMap(({data:a})=>a));return new Rt(n,o.map(a=>new Yt(n,a)))}slice(e,n){const o=this.schema;[e,n]=pg({length:this.numRows},e,n);const a=_g(this.data,this._offsets,e,n);return new Rt(o,a.map(u=>new Yt(o,u)))}getChild(e){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===e))}getChildAt(e){if(e>-1&&e<this.schema.fields.length){const n=this.data.map(o=>o.children[e]);if(n.length===0){const{type:o}=this.schema.fields[e],a=We({type:o,length:0,nullCount:0});n.push(a._changeLengthAndBackfillNullBitmap(this.numRows))}return new de(n)}return null}setChild(e,n){var o;return this.setChildAt((o=this.schema.fields)===null||o===void 0?void 0:o.findIndex(a=>a.name===e),n)}setChildAt(e,n){let o=this.schema,a=[...this.batches];if(e>-1&&e<this.numCols){n||(n=new de([We({type:new Br,length:this.numRows})]));const u=o.fields.slice(),f=u[e].clone({type:n.type}),h=this.schema.fields.map((m,y)=>this.getChildAt(y));[u[e],h[e]]=[f,n],[o,a]=Ec(o,h)}return new Rt(o,a)}select(e){const n=this.schema.fields.reduce((o,a,u)=>o.set(a.name,u),new Map);return this.selectAt(e.map(o=>n.get(o)).filter(o=>o>-1))}selectAt(e){const n=this.schema.selectAt(e),o=this.batches.map(a=>a.selectAt(e));return new Rt(n,o)}assign(e){const n=this.schema.fields,[o,a]=e.schema.fields.reduce((h,m,y)=>{const[I,O]=h,j=n.findIndex(U=>U.name===m.name);return~j?O[j]=y:I.push(y),h},[[],[]]),u=this.schema.assign(e.schema),f=[...n.map((h,m)=>[m,a[m]]).map(([h,m])=>m===void 0?this.getChildAt(h):e.getChildAt(m)),...o.map(h=>e.getChildAt(h))].filter(Boolean);return new Rt(...Ec(u,f))}}Og=Symbol.toStringTag;Rt[Og]=(r=>(r.schema=null,r.batches=[],r._offsets=new Uint32Array([0]),r._nullCount=-1,r[Symbol.isConcatSpreadable]=!0,r.isValid=ll(gd),r.get=ll(Vt.getVisitFn(S.Struct)),r.set=wg(dn.getVisitFn(S.Struct)),r.indexOf=Sg(ul.getVisitFn(S.Struct)),"Table"))(Rt.prototype);var Dg;let Yt=class no{constructor(...e){switch(e.length){case 2:{if([this.schema]=e,!(this.schema instanceof Be))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=We({nullCount:0,type:new Ut(this.schema.fields),children:this.schema.fields.map(n=>We({type:n.type,nullCount:0}))})]=e,!(this.data instanceof Ae))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=om(this.schema,this.data.children);break}case 1:{const[n]=e,{fields:o,children:a,length:u}=Object.keys(n).reduce((m,y,I)=>(m.children[I]=n[y],m.length=Math.max(m.length,n[y].length),m.fields[I]=Ke.new({name:y,type:n[y].type,nullable:!0}),m),{length:0,fields:new Array,children:new Array}),f=new Be(o),h=We({type:new Ut(o),length:u,children:a,nullCount:0});[this.schema,this.data]=om(f,h.children,u);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=Tg(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(e){return this.data.getValid(e)}get(e){return Vt.visit(this.data,e)}at(e){return this.get(pd(e,this.numRows))}set(e,n){return dn.visit(this.data,e,n)}indexOf(e,n){return ul.visit(this.data,e,n)}[Symbol.iterator](){return vd.visit(new de([this.data]))}toArray(){return[...this]}concat(...e){return new Rt(this.schema,[this,...e])}slice(e,n){const[o]=new de([this.data]).slice(e,n).data;return new no(this.schema,o)}getChild(e){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(o=>o.name===e))}getChildAt(e){return e>-1&&e<this.schema.fields.length?new de([this.data.children[e]]):null}setChild(e,n){var o;return this.setChildAt((o=this.schema.fields)===null||o===void 0?void 0:o.findIndex(a=>a.name===e),n)}setChildAt(e,n){let o=this.schema,a=this.data;if(e>-1&&e<this.numCols){n||(n=new de([We({type:new Br,length:this.numRows})]));const u=o.fields.slice(),f=a.children.slice(),h=u[e].clone({type:n.type});[u[e],f[e]]=[h,n.data[0]],o=new Be(u,new Map(this.schema.metadata)),a=We({type:new Ut(u),children:f})}return new no(o,a)}select(e){const n=this.schema.select(e),o=new Ut(n.fields),a=[];for(const u of e){const f=this.schema.fields.findIndex(h=>h.name===u);~f&&(a[f]=this.data.children[f])}return new no(n,We({type:o,length:this.numRows,children:a}))}selectAt(e){const n=this.schema.selectAt(e),o=e.map(u=>this.data.children[u]).filter(Boolean),a=We({type:new Ut(n.fields),length:this.numRows,children:o});return new no(n,a)}};Dg=Symbol.toStringTag;Yt[Dg]=(r=>(r._nullCount=-1,r[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(Yt.prototype);function om(r,e,n=e.reduce((o,a)=>Math.max(o,a.length),0)){var o;const a=[...r.fields],u=[...e],f=(n+63&-64)>>3;for(const[h,m]of r.fields.entries()){const y=e[h];(!y||y.length!==n)&&(a[h]=m.clone({nullable:!0}),u[h]=(o=y==null?void 0:y._changeLengthAndBackfillNullBitmap(n))!==null&&o!==void 0?o:We({type:m.type,length:n,nullCount:n,nullBitmap:new Uint8Array(f)}))}return[r.assign(a),We({type:new Ut(a),length:n,children:u})]}function Tg(r,e,n=new Map){var o,a;if(((o=r==null?void 0:r.length)!==null&&o!==void 0?o:0)>0&&(r==null?void 0:r.length)===(e==null?void 0:e.length))for(let u=-1,f=r.length;++u<f;){const{type:h}=r[u],m=e[u];for(const y of[m,...((a=m==null?void 0:m.dictionary)===null||a===void 0?void 0:a.data)||[]])Tg(h.children,y==null?void 0:y.children,n);if(le.isDictionary(h)){const{id:y}=h;if(!n.has(y))m!=null&&m.dictionary&&n.set(y,m.dictionary);else if(n.get(y)!==m.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}}return n}class nS extends Yt{constructor(e){const n=e.fields.map(a=>We({type:a.type})),o=We({type:new Ut(e.fields),nullCount:0,children:n});super(e,o)}}let Nr=class Tn{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsMessage(e,n){return(n||new Tn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMessage(e,n){return e.setPosition(e.position()+Le),(n||new Tn).__init(e.readInt32(e.position())+e.position(),e)}version(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):ft.V1}headerType(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):ot.NONE}header(e){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(e,this.bb_pos+n):null}bodyLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}customMetadata(e,n){const o=this.bb.__offset(this.bb_pos,12);return o?(n||new dt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+o)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startMessage(e){e.startObject(5)}static addVersion(e,n){e.addFieldInt16(0,n,ft.V1)}static addHeaderType(e,n){e.addFieldInt8(1,n,ot.NONE)}static addHeader(e,n){e.addFieldOffset(2,n,0)}static addBodyLength(e,n){e.addFieldInt64(3,n,BigInt("0"))}static addCustomMetadata(e,n){e.addFieldOffset(4,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let o=n.length-1;o>=0;o--)e.addOffset(n[o]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static endMessage(e){return e.endObject()}static finishMessageBuffer(e,n){e.finish(n)}static finishSizePrefixedMessageBuffer(e,n){e.finish(n,void 0,!0)}static createMessage(e,n,o,a,u,f){return Tn.startMessage(e),Tn.addVersion(e,n),Tn.addHeaderType(e,o),Tn.addHeader(e,a),Tn.addBodyLength(e,u),Tn.addCustomMetadata(e,f),Tn.endMessage(e)}};class rS extends ge{visit(e,n){return e==null||n==null?void 0:super.visit(e,n)}visitNull(e,n){return Xp.startNull(n),Xp.endNull(n)}visitInt(e,n){return Kt.startInt(n),Kt.addBitWidth(n,e.bitWidth),Kt.addIsSigned(n,e.isSigned),Kt.endInt(n)}visitFloat(e,n){return En.startFloatingPoint(n),En.addPrecision(n,e.precision),En.endFloatingPoint(n)}visitBinary(e,n){return Jp.startBinary(n),Jp.endBinary(n)}visitLargeBinary(e,n){return Yp.startLargeBinary(n),Yp.endLargeBinary(n)}visitBool(e,n){return Kp.startBool(n),Kp.endBool(n)}visitUtf8(e,n){return em.startUtf8(n),em.endUtf8(n)}visitLargeUtf8(e,n){return qp.startLargeUtf8(n),qp.endLargeUtf8(n)}visitDecimal(e,n){return Fi.startDecimal(n),Fi.addScale(n,e.scale),Fi.addPrecision(n,e.precision),Fi.addBitWidth(n,e.bitWidth),Fi.endDecimal(n)}visitDate(e,n){return La.startDate(n),La.addUnit(n,e.unit),La.endDate(n)}visitTime(e,n){return ln.startTime(n),ln.addUnit(n,e.unit),ln.addBitWidth(n,e.bitWidth),ln.endTime(n)}visitTimestamp(e,n){const o=e.timezone&&n.createString(e.timezone)||void 0;return un.startTimestamp(n),un.addUnit(n,e.unit),o!==void 0&&un.addTimezone(n,o),un.endTimestamp(n)}visitInterval(e,n){return Bn.startInterval(n),Bn.addUnit(n,e.unit),Bn.endInterval(n)}visitDuration(e,n){return ja.startDuration(n),ja.addUnit(n,e.unit),ja.endDuration(n)}visitList(e,n){return Gp.startList(n),Gp.endList(n)}visitStruct(e,n){return ri.startStruct_(n),ri.endStruct_(n)}visitUnion(e,n){Pt.startTypeIdsVector(n,e.typeIds.length);const o=Pt.createTypeIdsVector(n,e.typeIds);return Pt.startUnion(n),Pt.addMode(n,e.mode),Pt.addTypeIds(n,o),Pt.endUnion(n)}visitDictionary(e,n){const o=this.visit(e.indices,n);return nr.startDictionaryEncoding(n),nr.addId(n,BigInt(e.id)),nr.addIsOrdered(n,e.isOrdered),o!==void 0&&nr.addIndexType(n,o),nr.endDictionaryEncoding(n)}visitFixedSizeBinary(e,n){return Fa.startFixedSizeBinary(n),Fa.addByteWidth(n,e.byteWidth),Fa.endFixedSizeBinary(n)}visitFixedSizeList(e,n){return Ma.startFixedSizeList(n),Ma.addListSize(n,e.listSize),Ma.endFixedSizeList(n)}visitMap(e,n){return Pa.startMap(n),Pa.addKeysSorted(n,e.keysSorted),Pa.endMap(n)}}const Bc=new rS;function iS(r,e=new Map){return new Be(oS(r,e),Ua(r.metadata),e)}function Ag(r){return new qt(r.count,Cg(r.columns),Eg(r.columns))}function sS(r){return new Rn(Ag(r.data),r.id,r.isDelta)}function oS(r,e){return(r.fields||[]).filter(Boolean).map(n=>Ke.fromJSON(n,e))}function am(r,e){return(r.children||[]).filter(Boolean).map(n=>Ke.fromJSON(n,e))}function Cg(r){return(r||[]).reduce((e,n)=>[...e,new Fr(n.count,aS(n.VALIDITY)),...Cg(n.children)],[])}function Eg(r,e=[]){for(let n=-1,o=(r||[]).length;++n<o;){const a=r[n];a.VALIDITY&&e.push(new jn(e.length,a.VALIDITY.length)),a.TYPE_ID&&e.push(new jn(e.length,a.TYPE_ID.length)),a.OFFSET&&e.push(new jn(e.length,a.OFFSET.length)),a.DATA&&e.push(new jn(e.length,a.DATA.length)),e=Eg(a.children,e)}return e}function aS(r){return(r||[]).reduce((e,n)=>e+ +(n===0),0)}function lS(r,e){let n,o,a,u,f,h;return!e||!(u=r.dictionary)?(f=um(r,am(r,e)),a=new Ke(r.name,f,r.nullable,Ua(r.metadata))):e.has(n=u.id)?(o=(o=u.indexType)?lm(o):new si,h=new Xi(e.get(n),o,n,u.isOrdered),a=new Ke(r.name,h,r.nullable,Ua(r.metadata))):(o=(o=u.indexType)?lm(o):new si,e.set(n,f=um(r,am(r,e))),h=new Xi(f,o,n,u.isOrdered),a=new Ke(r.name,h,r.nullable,Ua(r.metadata))),a||null}function Ua(r=[]){return new Map(r.map(({key:e,value:n})=>[e,n]))}function lm(r){return new zt(r.isSigned,r.bitWidth)}function um(r,e){const n=r.type.name;switch(n){case"NONE":return new Br;case"null":return new Br;case"binary":return new Ha;case"largebinary":return new Qa;case"utf8":return new Ja;case"largeutf8":return new Ka;case"bool":return new Ya;case"list":return new nl((e||[])[0]);case"struct":return new Ut(e||[]);case"struct_":return new Ut(e||[])}switch(n){case"int":{const o=r.type;return new zt(o.isSigned,o.bitWidth)}case"floatingpoint":{const o=r.type;return new Gi(yt[o.precision])}case"decimal":{const o=r.type;return new qa(o.scale,o.precision,o.bitWidth)}case"date":{const o=r.type;return new co(cn[o.unit])}case"time":{const o=r.type;return new Ga(ne[o.unit],o.bitWidth)}case"timestamp":{const o=r.type;return new Xa(ne[o.unit],o.timezone)}case"interval":{const o=r.type;return new el(Pn[o.unit])}case"duration":{const o=r.type;return new tl(ne[o.unit])}case"union":{const o=r.type,[a,...u]=(o.mode+"").toLowerCase(),f=a.toUpperCase()+u.join("");return new rl(Dt[f],o.typeIds||[],e||[])}case"fixedsizebinary":{const o=r.type;return new il(o.byteWidth)}case"fixedsizelist":{const o=r.type;return new sl(o.listSize,(e||[])[0])}case"map":{const o=r.type;return new ol((e||[])[0],o.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var uS=Um,cS=Va;class Ln{static fromJSON(e,n){const o=new Ln(0,ft.V5,n);return o._createHeader=dS(e,n),o}static decode(e){e=new cS(Ne(e));const n=Nr.getRootAsMessage(e),o=n.bodyLength(),a=n.version(),u=n.headerType(),f=new Ln(o,a,u);return f._createHeader=fS(n,u),f}static encode(e){const n=new uS;let o=-1;return e.isSchema()?o=Be.encode(n,e.header()):e.isRecordBatch()?o=qt.encode(n,e.header()):e.isDictionaryBatch()&&(o=Rn.encode(n,e.header())),Nr.startMessage(n),Nr.addVersion(n,ft.V5),Nr.addHeader(n,o),Nr.addHeaderType(n,e.headerType),Nr.addBodyLength(n,BigInt(e.bodyLength)),Nr.finishMessageBuffer(n,Nr.endMessage(n)),n.asUint8Array()}static from(e,n=0){if(e instanceof Be)return new Ln(0,ft.V5,ot.Schema,e);if(e instanceof qt)return new Ln(n,ft.V5,ot.RecordBatch,e);if(e instanceof Rn)return new Ln(n,ft.V5,ot.DictionaryBatch,e);throw new Error(`Unrecognized Message header: ${e}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===ot.Schema}isRecordBatch(){return this.headerType===ot.RecordBatch}isDictionaryBatch(){return this.headerType===ot.DictionaryBatch}constructor(e,n,o,a){this._version=n,this._headerType=o,this.body=new Uint8Array(0),a&&(this._createHeader=()=>a),this._bodyLength=Re(e)}}class qt{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(e,n,o){this._nodes=n,this._buffers=o,this._length=Re(e)}}class Rn{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(e,n,o=!1){this._data=e,this._isDelta=o,this._id=Re(n)}}class jn{constructor(e,n){this.offset=Re(e),this.length=Re(n)}}class Fr{constructor(e,n){this.length=Re(e),this.nullCount=Re(n)}}function dS(r,e){return()=>{switch(e){case ot.Schema:return Be.fromJSON(r);case ot.RecordBatch:return qt.fromJSON(r);case ot.DictionaryBatch:return Rn.fromJSON(r)}throw new Error(`Unrecognized Message type: { name: ${ot[e]}, type: ${e} }`)}}function fS(r,e){return()=>{switch(e){case ot.Schema:return Be.decode(r.header(new An),new Map,r.version());case ot.RecordBatch:return qt.decode(r.header(new qn),r.version());case ot.DictionaryBatch:return Rn.decode(r.header(new Li),r.version())}throw new Error(`Unrecognized Message type: { name: ${ot[e]}, type: ${e} }`)}}Ke.encode=xS;Ke.decode=SS;Ke.fromJSON=lS;Be.encode=IS;Be.decode=hS;Be.fromJSON=iS;qt.encode=bS;qt.decode=pS;qt.fromJSON=Ag;Rn.encode=kS;Rn.decode=mS;Rn.fromJSON=sS;Fr.encode=NS;Fr.decode=gS;jn.encode=OS;jn.decode=yS;function hS(r,e=new Map,n=ft.V5){const o=wS(r,e);return new Be(o,za(r),e,n)}function pS(r,e=ft.V5){if(r.compression()!==null)throw new Error("Record batch compression not implemented");return new qt(r.length(),vS(r),_S(r,e))}function mS(r,e=ft.V5){return new Rn(qt.decode(r.data(),e),r.id(),r.isDelta())}function yS(r){return new jn(r.offset(),r.length())}function gS(r){return new Fr(r.length(),r.nullCount())}function vS(r){const e=[];for(let n,o=-1,a=-1,u=r.nodesLength();++o<u;)(n=r.nodes(o))&&(e[++a]=Fr.decode(n));return e}function _S(r,e){const n=[];for(let o,a=-1,u=-1,f=r.buffersLength();++a<f;)(o=r.buffers(a))&&(e<ft.V4&&(o.bb_pos+=8*(a+1)),n[++u]=jn.decode(o));return n}function wS(r,e){const n=[];for(let o,a=-1,u=-1,f=r.fieldsLength();++a<f;)(o=r.fields(a))&&(n[++u]=Ke.decode(o,e));return n}function cm(r,e){const n=[];for(let o,a=-1,u=-1,f=r.childrenLength();++a<f;)(o=r.children(a))&&(n[++u]=Ke.decode(o,e));return n}function SS(r,e){let n,o,a,u,f,h;return!e||!(h=r.dictionary())?(a=fm(r,cm(r,e)),o=new Ke(r.name(),a,r.nullable(),za(r))):e.has(n=Re(h.id()))?(u=(u=h.indexType())?dm(u):new si,f=new Xi(e.get(n),u,n,h.isOrdered()),o=new Ke(r.name(),f,r.nullable(),za(r))):(u=(u=h.indexType())?dm(u):new si,e.set(n,a=fm(r,cm(r,e))),f=new Xi(a,u,n,h.isOrdered()),o=new Ke(r.name(),f,r.nullable(),za(r))),o||null}function za(r){const e=new Map;if(r)for(let n,o,a=-1,u=Math.trunc(r.customMetadataLength());++a<u;)(n=r.customMetadata(a))&&(o=n.key())!=null&&e.set(o,n.value());return e}function dm(r){return new zt(r.isSigned(),r.bitWidth())}function fm(r,e){const n=r.typeType();switch(n){case Ze.NONE:return new Br;case Ze.Null:return new Br;case Ze.Binary:return new Ha;case Ze.LargeBinary:return new Qa;case Ze.Utf8:return new Ja;case Ze.LargeUtf8:return new Ka;case Ze.Bool:return new Ya;case Ze.List:return new nl((e||[])[0]);case Ze.Struct_:return new Ut(e||[])}switch(n){case Ze.Int:{const o=r.type(new Kt);return new zt(o.isSigned(),o.bitWidth())}case Ze.FloatingPoint:{const o=r.type(new En);return new Gi(o.precision())}case Ze.Decimal:{const o=r.type(new Fi);return new qa(o.scale(),o.precision(),o.bitWidth())}case Ze.Date:{const o=r.type(new La);return new co(o.unit())}case Ze.Time:{const o=r.type(new ln);return new Ga(o.unit(),o.bitWidth())}case Ze.Timestamp:{const o=r.type(new un);return new Xa(o.unit(),o.timezone())}case Ze.Interval:{const o=r.type(new Bn);return new el(o.unit())}case Ze.Duration:{const o=r.type(new ja);return new tl(o.unit())}case Ze.Union:{const o=r.type(new Pt);return new rl(o.mode(),o.typeIdsArray()||[],e||[])}case Ze.FixedSizeBinary:{const o=r.type(new Fa);return new il(o.byteWidth())}case Ze.FixedSizeList:{const o=r.type(new Ma);return new sl(o.listSize(),(e||[])[0])}case Ze.Map:{const o=r.type(new Pa);return new ol((e||[])[0],o.keysSorted())}}throw new Error(`Unrecognized type: "${Ze[n]}" (${n})`)}function IS(r,e){const n=e.fields.map(u=>Ke.encode(r,u));An.startFieldsVector(r,n.length);const o=An.createFieldsVector(r,n),a=e.metadata&&e.metadata.size>0?An.createCustomMetadataVector(r,[...e.metadata].map(([u,f])=>{const h=r.createString(`${u}`),m=r.createString(`${f}`);return dt.startKeyValue(r),dt.addKey(r,h),dt.addValue(r,m),dt.endKeyValue(r)})):-1;return An.startSchema(r),An.addFields(r,o),An.addEndianness(r,DS?qi.Little:qi.Big),a!==-1&&An.addCustomMetadata(r,a),An.endSchema(r)}function xS(r,e){let n=-1,o=-1,a=-1;const u=e.type;let f=e.typeId;le.isDictionary(u)?(f=u.dictionary.typeId,a=Bc.visit(u,r),o=Bc.visit(u.dictionary,r)):o=Bc.visit(u,r);const h=(u.children||[]).map(I=>Ke.encode(r,I)),m=an.createChildrenVector(r,h),y=e.metadata&&e.metadata.size>0?an.createCustomMetadataVector(r,[...e.metadata].map(([I,O])=>{const j=r.createString(`${I}`),U=r.createString(`${O}`);return dt.startKeyValue(r),dt.addKey(r,j),dt.addValue(r,U),dt.endKeyValue(r)})):-1;return e.name&&(n=r.createString(e.name)),an.startField(r),an.addType(r,o),an.addTypeType(r,f),an.addChildren(r,m),an.addNullable(r,!!e.nullable),n!==-1&&an.addName(r,n),a!==-1&&an.addDictionary(r,a),y!==-1&&an.addCustomMetadata(r,y),an.endField(r)}function bS(r,e){const n=e.nodes||[],o=e.buffers||[];qn.startNodesVector(r,n.length);for(const f of n.slice().reverse())Fr.encode(r,f);const a=r.endVector();qn.startBuffersVector(r,o.length);for(const f of o.slice().reverse())jn.encode(r,f);const u=r.endVector();return qn.startRecordBatch(r),qn.addLength(r,BigInt(e.length)),qn.addNodes(r,a),qn.addBuffers(r,u),qn.endRecordBatch(r)}function kS(r,e){const n=qt.encode(r,e.data);return Li.startDictionaryBatch(r),Li.addId(r,BigInt(e.id)),Li.addIsDelta(r,e.isDelta),Li.addData(r,n),Li.endDictionaryBatch(r)}function NS(r,e){return $m.createFieldNode(r,BigInt(e.length),BigInt(e.nullCount))}function OS(r,e){return Vm.createBuffer(r,BigInt(e.offset),BigInt(e.length))}const DS=(()=>{const r=new ArrayBuffer(2);return new DataView(r).setInt16(0,256,!0),new Int16Array(r)[0]===256})(),qc="ARROW1",Id=new Uint8Array(qc.length);for(let r=0;r<qc.length;r+=1)Id[r]=qc.codePointAt(r);Id.length;class Xe extends ge{static assemble(...e){const n=a=>a.flatMap(u=>Array.isArray(u)?n(u):u instanceof Yt?u.data.children:u.data),o=new Xe;return o.visitMany(n(e)),o}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(e){if(e instanceof de)return this.visitMany(e.data),this;const{type:n}=e;if(!le.isDictionary(n)){const{length:o}=e;if(o>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(le.isUnion(n))this.nodes.push(new Fr(o,0));else{const{nullCount:a}=e;le.isNull(n)||In.call(this,a<=0?new Uint8Array(0):al(e.offset,o,e.nullBitmap)),this.nodes.push(new Fr(o,a))}}return super.visit(e)}visitNull(e){return this}visitDictionary(e){return this.visit(e.clone(e.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function In(r){const e=r.byteLength+7&-8;return this.buffers.push(r),this.bufferRegions.push(new jn(this._byteLength,e)),this._byteLength+=e,this}function TS(r){var e;const{type:n,length:o,typeIds:a,valueOffsets:u}=r;if(In.call(this,a),n.mode===Dt.Sparse)return Gc.call(this,r);if(n.mode===Dt.Dense){if(r.offset<=0)return In.call(this,u),Gc.call(this,r);{const f=new Int32Array(o),h=Object.create(null),m=Object.create(null);for(let y,I,O=-1;++O<o;)(y=a[O])!==void 0&&((I=h[y])===void 0&&(I=h[y]=u[O]),f[O]=u[O]-I,m[y]=((e=m[y])!==null&&e!==void 0?e:0)+1);In.call(this,f),this.visitMany(r.children.map((y,I)=>{const O=n.typeIds[I],j=h[O],U=m[O];return y.slice(j,Math.min(o,U))}))}}return this}function AS(r){let e;return r.nullCount>=r.length?In.call(this,new Uint8Array(0)):(e=r.values)instanceof Uint8Array?In.call(this,al(r.offset,r.length,e)):In.call(this,yg(r.values))}function or(r){return In.call(this,r.values.subarray(0,r.length*r.stride))}function xl(r){const{length:e,values:n,valueOffsets:o}=r,a=Re(o[0]),u=Re(o[e]),f=Math.min(u-a,n.byteLength-a);return In.call(this,Pm(-a,e+1,o)),In.call(this,n.subarray(a,a+f)),this}function xd(r){const{length:e,valueOffsets:n}=r;if(n){const{[0]:o,[e]:a}=n;return In.call(this,Pm(-o,e+1,n)),this.visit(r.children[0].slice(o,a-o))}return this.visit(r.children[0])}function Gc(r){return this.visitMany(r.type.children.map((e,n)=>r.children[n]).filter(Boolean))[0]}Xe.prototype.visitBool=AS;Xe.prototype.visitInt=or;Xe.prototype.visitFloat=or;Xe.prototype.visitUtf8=xl;Xe.prototype.visitLargeUtf8=xl;Xe.prototype.visitBinary=xl;Xe.prototype.visitLargeBinary=xl;Xe.prototype.visitFixedSizeBinary=or;Xe.prototype.visitDate=or;Xe.prototype.visitTimestamp=or;Xe.prototype.visitTime=or;Xe.prototype.visitDecimal=or;Xe.prototype.visitList=xd;Xe.prototype.visitStruct=Gc;Xe.prototype.visitUnion=TS;Xe.prototype.visitInterval=or;Xe.prototype.visitDuration=or;Xe.prototype.visitFixedSizeList=xd;Xe.prototype.visitMap=xd;class Bg extends Ng{static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,n){throw new Error('"throughDOM" not available in this environment')}constructor(e){super(),this._position=0,this._started=!1,this._sink=new Cc,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,Rr(e)||(e={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof e.autoDestroy=="boolean"?e.autoDestroy:!0,this._writeLegacyIpcFormat=typeof e.writeLegacyIpcFormat=="boolean"?e.writeLegacyIpcFormat:!1}toString(e=!1){return this._sink.toString(e)}toUint8Array(e=!1){return this._sink.toUint8Array(e)}writeAll(e){return _l(e)?e.then(n=>this.writeAll(n)):wl(e)?Od(this,e):Nd(this,e)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(e){return this._sink.toDOMStream(e)}toNodeStream(e){return this._sink.toNodeStream(e)}close(){return this.reset()._sink.close()}abort(e){return this.reset()._sink.abort(e)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(e=this._sink,n=null){return e===this._sink||e instanceof Cc?this._sink=e:(this._sink=new Cc,e&&v_(e)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&__(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!n||!Yc(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(e){let n=null;if(this._sink){if(e==null)return this.finish()&&void 0;if(e instanceof Rt&&!(n=e.schema))return this.finish()&&void 0;if(e instanceof Yt&&!(n=e.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!Yc(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}e instanceof Yt?e instanceof nS||this._writeRecordBatch(e):e instanceof Rt?this.writeAll(e.batches):ld(e)&&this.writeAll(e)}_writeMessage(e,n=8){const o=n-1,a=Ln.encode(e),u=a.byteLength,f=this._writeLegacyIpcFormat?4:8,h=u+f+o&~o,m=h-u-f;return e.headerType===ot.RecordBatch?this._recordBatchBlocks.push(new Lr(h,e.bodyLength,this._position)):e.headerType===ot.DictionaryBatch&&this._dictionaryBlocks.push(new Lr(h,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(h-f)),u>0&&this._write(a),this._writePadding(m)}_write(e){if(this._started){const n=Ne(e);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(e){return this._writeMessage(Ln.from(e))}_writeFooter(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(Id)}_writePadding(e){return e>0?this._write(new Uint8Array(e)):this}_writeRecordBatch(e){const{byteLength:n,nodes:o,bufferRegions:a,buffers:u}=Xe.assemble(e),f=new qt(e.numRows,o,a),h=Ln.from(f,n);return this._writeDictionaries(e)._writeMessage(h)._writeBodyBuffers(u)}_writeDictionaryBatch(e,n,o=!1){this._dictionaryDeltaOffsets.set(n,e.length+(this._dictionaryDeltaOffsets.get(n)||0));const{byteLength:a,nodes:u,bufferRegions:f,buffers:h}=Xe.assemble(new de([e])),m=new qt(e.length,u,f),y=new Rn(m,n,o),I=Ln.from(y,a);return this._writeMessage(I)._writeBodyBuffers(h)}_writeBodyBuffers(e){let n,o,a;for(let u=-1,f=e.length;++u<f;)(n=e[u])&&(o=n.byteLength)>0&&(this._write(n),(a=(o+7&-8)-o)>0&&this._writePadding(a));return this}_writeDictionaries(e){for(let[n,o]of e.dictionaries){let a=this._dictionaryDeltaOffsets.get(n)||0;if(a===0||(o=o==null?void 0:o.slice(a)).length>0)for(const u of o.data)this._writeDictionaryBatch(u,n,a>0),a+=u.length}return this}}class bd extends Bg{static writeAll(e,n){const o=new bd(n);return _l(e)?e.then(a=>o.writeAll(a)):wl(e)?Od(o,e):Nd(o,e)}}class kd extends Bg{static writeAll(e){const n=new kd;return _l(e)?e.then(o=>n.writeAll(o)):wl(e)?Od(n,e):Nd(n,e)}constructor(){super(),this._autoDestroy=!0}_writeSchema(e){return this._writeMagic()._writePadding(2)}_writeFooter(e){const n=Kc.encode(new Kc(e,ft.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function Nd(r,e){let n=e;e instanceof Rt&&(n=e.batches,r.reset(void 0,e.schema));for(const o of n)r.write(o);return r.finish()}function Od(r,e){return er(this,void 0,void 0,function*(){var n,o,a,u,f,h,m;try{for(n=!0,o=io(e);a=yield o.next(),u=a.done,!u;n=!0){m=a.value,n=!1;const y=m;r.write(y)}}catch(y){f={error:y}}finally{try{!n&&!u&&(h=o.return)&&(yield h.call(o))}finally{if(f)throw f.error}}return r.finish()})}function CS(r,e="stream"){return(e==="stream"?bd:kd).writeAll(r).toUint8Array(!0)}const ES=()=>{const[r,e]=tt.useState(null),[n,o]=tt.useState(!1),[a,u]=tt.useState(null),{keys:f,updateKeys:h}=ad(),m=tt.useCallback(async(y,I,O)=>{o(!0),u(null),console.log("Fetching OHLC data for:",y,"from",I,"to",O);try{if(!f.jquants_refresh)throw new Error("J-Quants Refresh Token is not configured. Please set up API keys first.");if(!f.jquants_id)throw new Error("J-Quants ID Token is not available. Please check your API configuration.");const j=y[0];if(!j)throw new Error("At least one stock code must be provided.");console.log(`Fetching data for ${j} from ${I} to ${O}`);const U=await h_(f.jquants_id,f.jquants_refresh,(we,_t)=>{h({jquants_id:we,..._t&&{jquants_refresh:_t}})},j,I,O);if(!U)throw new Error(`No data returned for ${j}`);const W=[];for(let we=0;we<U.index.length;we++){const _t=U.index[we],at=U.data[we];at&&at.length>=5&&W.push({date:_t,open:at[0]||0,high:at[1]||0,low:at[2]||0,close:at[3]||0,volume:at[4]||0})}console.log(`Successfully fetched ${W.length} data points for ${j}`),e(W);const he=W.map(we=>Date.parse(we.date)),oe=W.map(we=>we.open),E=W.map(we=>we.high),pe=W.map(we=>we.low),De=W.map(we=>we.close),_e=W.map(we=>we.volume),Ye=new Rt({date:ti({data:he,type:new F_}),open:ti({data:oe,type:new Wi}),high:ti({data:E,type:new Wi}),low:ti({data:pe,type:new Wi}),close:ti({data:De,type:new Wi}),volume:ti({data:_e,type:new si})}),Fe=CS(Ye,"file");o(!1);const Ue=new ArrayBuffer(Fe.byteLength);return new Uint8Array(Ue).set(Fe),Ue}catch(j){return console.error("Failed to fetch or process OHLC data:",j),u(j),e(null),o(!1),null}},[f,h]);return{ohlcData:r,isLoading:n,error:a,triggerRefetch:m}};function BS({isOpen:r,onClose:e}){const{keys:n,updateKeys:o}=ad(),[a,u]=tt.useState(n);if(tt.useEffect(()=>{u(n)},[n,r]),!r)return null;const f=()=>{o({gemini:a.gemini,openai:a.openai,jquants_refresh:a.jquants_refresh}),e()},h=(m,y)=>{u(I=>({...I,[y]:m.target.value}))};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50","data-testid":"api-key-modal-overlay",children:x.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-lg space-y-4","data-testid":"api-key-modal",children:[x.jsx("h2",{className:"text-xl font-semibold","data-testid":"api-key-modal-title",children:"APIキー設定"}),x.jsxs("div",{children:[x.jsx("label",{className:"block font-medium mb-1",children:"J-Quants Refresh Token"}),x.jsx("input",{type:"password",value:a.jquants_refresh,onChange:m=>h(m,"jquants_refresh"),className:"border p-2 w-full rounded",placeholder:"J-Quants Refresh Token","data-testid":"jquants-refresh-token-input"}),x.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"※必須。IDトークンの自動更新に利用されます。"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block font-medium mb-1",children:"J-Quants ID Token (自動取得)"}),x.jsx("input",{type:"text",value:a.jquants_id||"-",readOnly:!0,className:"border p-2 w-full rounded bg-gray-100 cursor-not-allowed",placeholder:"ID Token (自動更新されます)"}),x.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"※Refresh Token設定後、APIアクセス時に自動で取得・更新されます。"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block font-medium mb-1",children:"OpenAI API Key"}),x.jsx("input",{type:"password",value:a.openai,onChange:m=>h(m,"openai"),className:"border p-2 w-full rounded",placeholder:"OpenAI API Key (任意)"}),x.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"※ 環境変数 VITE_OPENAI_API_KEY でも設定可能"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block font-medium mb-1",children:"Gemini API Key"}),x.jsx("input",{type:"password",value:a.gemini,onChange:m=>h(m,"gemini"),className:"border p-2 w-full rounded",placeholder:"Gemini API Key (任意)"}),x.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"※ 環境変数 VITE_GEMINI_API_KEY でも設定可能"})]}),x.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[x.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border rounded text-gray-700 hover:bg-gray-100",children:"キャンセル"}),x.jsx("button",{onClick:f,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700","data-testid":"api-key-save-button",children:"保存して閉じる"})]})]})})}function LS({selectedCodes:r,onCodesChange:e}){const[n,o]=tt.useState(""),a=m=>/^\d{4}$/.test(m)?`${m}.T`:/^\d{4}\.T$/.test(m)?m:null,u=()=>{const m=n.trim().toUpperCase();if(!m)return;const y=a(m);if(!y){alert("銘柄コードは4桁の数字、または 4桁の数字+.T の形式で入力してください（例: 7203 または 7203.T）");return}if(r.includes(y)){alert("この銘柄は既に追加されています");return}e([...r,y]),o("")},f=m=>{e(r.filter(y=>y!==m))},h=m=>{m.key==="Enter"&&(m.preventDefault(),u())};return x.jsxs("div",{children:[x.jsx("h3",{className:"font-medium mb-2","data-testid":"stock-selection-title",children:"銘柄選択"}),x.jsxs("div",{className:"flex space-x-2",children:[x.jsx("input",{type:"text",value:n,onChange:m=>o(m.target.value),onKeyPress:h,placeholder:"銘柄コード（例: 7203.T）",className:"border p-2 flex-1 rounded","data-testid":"stock-code-input"}),x.jsx("button",{type:"button",onClick:u,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700","data-testid":"add-stock-button",children:"追加"})]}),r.length>0&&x.jsx("div",{className:"border rounded p-2 mt-2",children:x.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(m=>x.jsxs("span",{className:"inline-flex items-center bg-gray-100 px-2 py-1 rounded",children:[m,x.jsx("button",{type:"button",onClick:()=>f(m),className:"ml-2 text-gray-500 hover:text-red-500",children:"×"})]},m))})})]})}function jS({startDate:r,endDate:e,onStartDateChange:n,onEndDateChange:o}){return x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"startDate",className:"block font-medium mb-1",children:"開始日:"}),x.jsx("input",{type:"date",id:"startDate",value:r,onChange:a=>n(a.target.value),className:"border p-2 w-full rounded",required:!0,"data-testid":"start-date-input"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"endDate",className:"block font-medium mb-1",children:"終了日:"}),x.jsx("input",{type:"date",id:"endDate",value:e,onChange:a=>o(a.target.value),className:"border p-2 w-full rounded",required:!0,"data-testid":"end-date-input"})]})]})}function FS(){const r=new Date,e=new Date(r);e.setDate(r.getDate()-12*7);const n=e.toISOString().split("T")[0],o=new Date(e);return o.setFullYear(e.getFullYear()-2),{startDate:o.toISOString().split("T")[0],endDate:n}}function MS(r,e){return new Date(r)<new Date(e)}function PS({onSubmit:r,isLoading:e=!1}){const{startDate:n,endDate:o}=FS(),[a,u]=tt.useState(["7203.T"]),[f,h]=tt.useState(n),[m,y]=tt.useState(o),I=O=>{if(O.preventDefault(),a.length===0){alert("少なくとも1つの銘柄を選択してください。");return}if(!MS(f,m)){alert("開始日は終了日より前の日付を選択してください。");return}r(a,f,m)};return x.jsxs("form",{onSubmit:I,className:"space-y-4","data-testid":"stock-period-selector",children:[x.jsx(LS,{selectedCodes:a,onCodesChange:u}),x.jsx(jS,{startDate:f,endDate:m,onStartDateChange:h,onEndDateChange:y}),x.jsx("div",{className:"flex justify-end",children:x.jsx("button",{type:"submit",className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",disabled:a.length===0||e,"data-testid":"fetch-data-button",children:e?"データ取得中...":"データ取得開始"})})]})}const RS="modulepreload",US=function(r){return"/"+r},hm={},Lg=function(e,n,o){let a=Promise.resolve();if(n&&n.length>0){let f=function(y){return Promise.all(y.map(I=>Promise.resolve(I).then(O=>({status:"fulfilled",value:O}),O=>({status:"rejected",reason:O}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));a=f(n.map(y=>{if(y=US(y),y in hm)return;hm[y]=!0;const I=y.endsWith(".css"),O=I?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${O}`))return;const j=document.createElement("link");if(j.rel=I?"stylesheet":RS,I||(j.as="script"),j.crossOrigin="",j.href=y,m&&j.setAttribute("nonce",m),document.head.appendChild(j),I)return new Promise((U,W)=>{j.addEventListener("load",U),j.addEventListener("error",()=>W(new Error(`Unable to preload CSS for ${y}`)))})}))}function u(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return a.then(f=>{for(const h of f||[])h.status==="rejected"&&u(h.reason);return e().catch(u)})};var Oe;(function(r){r.assertEqual=a=>{};function e(a){}r.assertIs=e;function n(a){throw new Error}r.assertNever=n,r.arrayToEnum=a=>{const u={};for(const f of a)u[f]=f;return u},r.getValidEnumValues=a=>{const u=r.objectKeys(a).filter(h=>typeof a[a[h]]!="number"),f={};for(const h of u)f[h]=a[h];return r.objectValues(f)},r.objectValues=a=>r.objectKeys(a).map(function(u){return a[u]}),r.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const u=[];for(const f in a)Object.prototype.hasOwnProperty.call(a,f)&&u.push(f);return u},r.find=(a,u)=>{for(const f of a)if(u(f))return f},r.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function o(a,u=" | "){return a.map(f=>typeof f=="string"?`'${f}'`:f).join(u)}r.joinValues=o,r.jsonStringifyReplacer=(a,u)=>typeof u=="bigint"?u.toString():u})(Oe||(Oe={}));var pm;(function(r){r.mergeShapes=(e,n)=>({...e,...n})})(pm||(pm={}));const Z=Oe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ar=r=>{switch(typeof r){case"undefined":return Z.undefined;case"string":return Z.string;case"number":return Number.isNaN(r)?Z.nan:Z.number;case"boolean":return Z.boolean;case"function":return Z.function;case"bigint":return Z.bigint;case"symbol":return Z.symbol;case"object":return Array.isArray(r)?Z.array:r===null?Z.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?Z.promise:typeof Map<"u"&&r instanceof Map?Z.map:typeof Set<"u"&&r instanceof Set?Z.set:typeof Date<"u"&&r instanceof Date?Z.date:Z.object;default:return Z.unknown}},L=Oe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class rr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(u){return u.message},o={_errors:[]},a=u=>{for(const f of u.issues)if(f.code==="invalid_union")f.unionErrors.map(a);else if(f.code==="invalid_return_type")a(f.returnTypeError);else if(f.code==="invalid_arguments")a(f.argumentsError);else if(f.path.length===0)o._errors.push(n(f));else{let h=o,m=0;for(;m<f.path.length;){const y=f.path[m];m===f.path.length-1?(h[y]=h[y]||{_errors:[]},h[y]._errors.push(n(f))):h[y]=h[y]||{_errors:[]},h=h[y],m++}}};return a(this),o}static assert(e){if(!(e instanceof rr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Oe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},o=[];for(const a of this.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(e(a))):o.push(e(a));return{formErrors:o,fieldErrors:n}}get formErrors(){return this.flatten()}}rr.create=r=>new rr(r);const Xc=(r,e)=>{let n;switch(r.code){case L.invalid_type:r.received===Z.undefined?n="Required":n=`Expected ${r.expected}, received ${r.received}`;break;case L.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(r.expected,Oe.jsonStringifyReplacer)}`;break;case L.unrecognized_keys:n=`Unrecognized key(s) in object: ${Oe.joinValues(r.keys,", ")}`;break;case L.invalid_union:n="Invalid input";break;case L.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Oe.joinValues(r.options)}`;break;case L.invalid_enum_value:n=`Invalid enum value. Expected ${Oe.joinValues(r.options)}, received '${r.received}'`;break;case L.invalid_arguments:n="Invalid function arguments";break;case L.invalid_return_type:n="Invalid function return type";break;case L.invalid_date:n="Invalid date";break;case L.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(n=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?n=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?n=`Invalid input: must end with "${r.validation.endsWith}"`:Oe.assertNever(r.validation):r.validation!=="regex"?n=`Invalid ${r.validation}`:n="Invalid";break;case L.too_small:r.type==="array"?n=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?n=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?n=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?n=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:n="Invalid input";break;case L.too_big:r.type==="array"?n=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?n=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?n=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?n=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?n=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:n="Invalid input";break;case L.custom:n="Invalid input";break;case L.invalid_intersection_types:n="Intersection results could not be merged";break;case L.not_multiple_of:n=`Number must be a multiple of ${r.multipleOf}`;break;case L.not_finite:n="Number must be finite";break;default:n=e.defaultError,Oe.assertNever(r)}return{message:n}};let zS=Xc;function VS(){return zS}const $S=r=>{const{data:e,path:n,errorMaps:o,issueData:a}=r,u=[...n,...a.path||[]],f={...a,path:u};if(a.message!==void 0)return{...a,path:u,message:a.message};let h="";const m=o.filter(y=>!!y).slice().reverse();for(const y of m)h=y(f,{data:e,defaultError:h}).message;return{...a,path:u,message:h}};function R(r,e){const n=VS(),o=$S({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,n,n===Xc?void 0:Xc].filter(a=>!!a)});r.common.issues.push(o)}class Gt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const o=[];for(const a of n){if(a.status==="aborted")return fe;a.status==="dirty"&&e.dirty(),o.push(a.value)}return{status:e.value,value:o}}static async mergeObjectAsync(e,n){const o=[];for(const a of n){const u=await a.key,f=await a.value;o.push({key:u,value:f})}return Gt.mergeObjectSync(e,o)}static mergeObjectSync(e,n){const o={};for(const a of n){const{key:u,value:f}=a;if(u.status==="aborted"||f.status==="aborted")return fe;u.status==="dirty"&&e.dirty(),f.status==="dirty"&&e.dirty(),u.value!=="__proto__"&&(typeof f.value<"u"||a.alwaysSet)&&(o[u.value]=f.value)}return{status:e.value,value:o}}}const fe=Object.freeze({status:"aborted"}),ro=r=>({status:"dirty",value:r}),fn=r=>({status:"valid",value:r}),mm=r=>r.status==="aborted",ym=r=>r.status==="dirty",es=r=>r.status==="valid",dl=r=>typeof Promise<"u"&&r instanceof Promise;var Q;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Q||(Q={}));class Mr{constructor(e,n,o,a){this._cachedPath=[],this.parent=e,this.data=n,this._path=o,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const gm=(r,e)=>{if(es(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new rr(r.common.issues);return this._error=n,this._error}}};function ye(r){if(!r)return{};const{errorMap:e,invalid_type_error:n,required_error:o,description:a}=r;if(e&&(n||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(f,h)=>{const{message:m}=r;return f.code==="invalid_enum_value"?{message:m??h.defaultError}:typeof h.data>"u"?{message:m??o??h.defaultError}:f.code!=="invalid_type"?{message:h.defaultError}:{message:m??n??h.defaultError}},description:a}}class be{get description(){return this._def.description}_getType(e){return Ar(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ar(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Gt,ctx:{common:e.parent.common,data:e.data,parsedType:Ar(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(dl(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const o=this.safeParse(e,n);if(o.success)return o.data;throw o.error}safeParse(e,n){const o={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ar(e)},a=this._parseSync({data:e,path:o.path,parent:o});return gm(o,a)}"~validate"(e){var o,a;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ar(e)};if(!this["~standard"].async)try{const u=this._parseSync({data:e,path:[],parent:n});return es(u)?{value:u.value}:{issues:n.common.issues}}catch(u){(a=(o=u==null?void 0:u.message)==null?void 0:o.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(u=>es(u)?{value:u.value}:{issues:n.common.issues})}async parseAsync(e,n){const o=await this.safeParseAsync(e,n);if(o.success)return o.data;throw o.error}async safeParseAsync(e,n){const o={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ar(e)},a=this._parse({data:e,path:o.path,parent:o}),u=await(dl(a)?a:Promise.resolve(a));return gm(o,u)}refine(e,n){const o=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,u)=>{const f=e(a),h=()=>u.addIssue({code:L.custom,...o(a)});return typeof Promise<"u"&&f instanceof Promise?f.then(m=>m?!0:(h(),!1)):f?!0:(h(),!1)})}refinement(e,n){return this._refinement((o,a)=>e(o)?!0:(a.addIssue(typeof n=="function"?n(o,a):n),!1))}_refinement(e){return new rs({schema:this,typeName:F.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Er.create(this,this._def)}nullable(){return is.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Fn.create(this)}promise(){return ml.create(this,this._def)}or(e){return hl.create([this,e],this._def)}and(e){return pl.create(this,e,this._def)}transform(e){return new rs({...ye(this._def),schema:this,typeName:F.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new rd({...ye(this._def),innerType:this,defaultValue:n,typeName:F.ZodDefault})}brand(){return new f1({typeName:F.ZodBranded,type:this,...ye(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new id({...ye(this._def),innerType:this,catchValue:n,typeName:F.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Dd.create(this,e)}readonly(){return sd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ZS=/^c[^\s-]{8,}$/i,WS=/^[0-9a-z]+$/,HS=/^[0-9A-HJKMNP-TV-Z]{26}$/i,QS=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,JS=/^[a-z0-9_-]{21}$/i,KS=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,YS=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,qS=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,GS="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Lc;const XS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,e1=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,t1=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,n1=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,r1=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,i1=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,jg="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",s1=new RegExp(`^${jg}$`);function Fg(r){let e="[0-5]\\d";r.precision?e=`${e}\\.\\d{${r.precision}}`:r.precision==null&&(e=`${e}(\\.\\d+)?`);const n=r.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function o1(r){return new RegExp(`^${Fg(r)}$`)}function a1(r){let e=`${jg}T${Fg(r)}`;const n=[];return n.push(r.local?"Z?":"Z"),r.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function l1(r,e){return!!((e==="v4"||!e)&&XS.test(r)||(e==="v6"||!e)&&t1.test(r))}function u1(r,e){if(!KS.test(r))return!1;try{const[n]=r.split("."),o=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(o));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function c1(r,e){return!!((e==="v4"||!e)&&e1.test(r)||(e==="v6"||!e)&&n1.test(r))}class Cr extends be{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Z.string){const u=this._getOrReturnCtx(e);return R(u,{code:L.invalid_type,expected:Z.string,received:u.parsedType}),fe}const o=new Gt;let a;for(const u of this._def.checks)if(u.kind==="min")e.data.length<u.value&&(a=this._getOrReturnCtx(e,a),R(a,{code:L.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),o.dirty());else if(u.kind==="max")e.data.length>u.value&&(a=this._getOrReturnCtx(e,a),R(a,{code:L.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),o.dirty());else if(u.kind==="length"){const f=e.data.length>u.value,h=e.data.length<u.value;(f||h)&&(a=this._getOrReturnCtx(e,a),f?R(a,{code:L.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):h&&R(a,{code:L.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),o.dirty())}else if(u.kind==="email")qS.test(e.data)||(a=this._getOrReturnCtx(e,a),R(a,{validation:"email",code:L.invalid_string,message:u.message}),o.dirty());else if(u.kind==="emoji")Lc||(Lc=new RegExp(GS,"u")),Lc.test(e.data)||(a=this._getOrReturnCtx(e,a),R(a,{validation:"emoji",code:L.invalid_string,message:u.message}),o.dirty());else if(u.kind==="uuid")QS.test(e.data)||(a=this._getOrReturnCtx(e,a),R(a,{validation:"uuid",code:L.invalid_string,message:u.message}),o.dirty());else if(u.kind==="nanoid")JS.test(e.data)||(a=this._getOrReturnCtx(e,a),R(a,{validation:"nanoid",code:L.invalid_string,message:u.message}),o.dirty());else if(u.kind==="cuid")ZS.test(e.data)||(a=this._getOrReturnCtx(e,a),R(a,{validation:"cuid",code:L.invalid_string,message:u.message}),o.dirty());else if(u.kind==="cuid2")WS.test(e.data)||(a=this._getOrReturnCtx(e,a),R(a,{validation:"cuid2",code:L.invalid_string,message:u.message}),o.dirty());else if(u.kind==="ulid")HS.test(e.data)||(a=this._getOrReturnCtx(e,a),R(a,{validation:"ulid",code:L.invalid_string,message:u.message}),o.dirty());else if(u.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),R(a,{validation:"url",code:L.invalid_string,message:u.message}),o.dirty()}else u.kind==="regex"?(u.regex.lastIndex=0,u.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),R(a,{validation:"regex",code:L.invalid_string,message:u.message}),o.dirty())):u.kind==="trim"?e.data=e.data.trim():u.kind==="includes"?e.data.includes(u.value,u.position)||(a=this._getOrReturnCtx(e,a),R(a,{code:L.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),o.dirty()):u.kind==="toLowerCase"?e.data=e.data.toLowerCase():u.kind==="toUpperCase"?e.data=e.data.toUpperCase():u.kind==="startsWith"?e.data.startsWith(u.value)||(a=this._getOrReturnCtx(e,a),R(a,{code:L.invalid_string,validation:{startsWith:u.value},message:u.message}),o.dirty()):u.kind==="endsWith"?e.data.endsWith(u.value)||(a=this._getOrReturnCtx(e,a),R(a,{code:L.invalid_string,validation:{endsWith:u.value},message:u.message}),o.dirty()):u.kind==="datetime"?a1(u).test(e.data)||(a=this._getOrReturnCtx(e,a),R(a,{code:L.invalid_string,validation:"datetime",message:u.message}),o.dirty()):u.kind==="date"?s1.test(e.data)||(a=this._getOrReturnCtx(e,a),R(a,{code:L.invalid_string,validation:"date",message:u.message}),o.dirty()):u.kind==="time"?o1(u).test(e.data)||(a=this._getOrReturnCtx(e,a),R(a,{code:L.invalid_string,validation:"time",message:u.message}),o.dirty()):u.kind==="duration"?YS.test(e.data)||(a=this._getOrReturnCtx(e,a),R(a,{validation:"duration",code:L.invalid_string,message:u.message}),o.dirty()):u.kind==="ip"?l1(e.data,u.version)||(a=this._getOrReturnCtx(e,a),R(a,{validation:"ip",code:L.invalid_string,message:u.message}),o.dirty()):u.kind==="jwt"?u1(e.data,u.alg)||(a=this._getOrReturnCtx(e,a),R(a,{validation:"jwt",code:L.invalid_string,message:u.message}),o.dirty()):u.kind==="cidr"?c1(e.data,u.version)||(a=this._getOrReturnCtx(e,a),R(a,{validation:"cidr",code:L.invalid_string,message:u.message}),o.dirty()):u.kind==="base64"?r1.test(e.data)||(a=this._getOrReturnCtx(e,a),R(a,{validation:"base64",code:L.invalid_string,message:u.message}),o.dirty()):u.kind==="base64url"?i1.test(e.data)||(a=this._getOrReturnCtx(e,a),R(a,{validation:"base64url",code:L.invalid_string,message:u.message}),o.dirty()):Oe.assertNever(u);return{status:o.value,value:e.data}}_regex(e,n,o){return this.refinement(a=>e.test(a),{validation:n,code:L.invalid_string,...Q.errToObj(o)})}_addCheck(e){return new Cr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Q.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Q.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Q.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Q.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Q.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Q.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Q.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Q.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Q.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Q.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Q.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Q.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Q.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Q.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Q.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Q.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Q.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Q.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Q.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Q.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Q.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Q.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Q.errToObj(n)})}nonempty(e){return this.min(1,Q.errToObj(e))}trim(){return new Cr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Cr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Cr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Cr.create=r=>new Cr({checks:[],typeName:F.ZodString,coerce:(r==null?void 0:r.coerce)??!1,...ye(r)});function d1(r,e){const n=(r.toString().split(".")[1]||"").length,o=(e.toString().split(".")[1]||"").length,a=n>o?n:o,u=Number.parseInt(r.toFixed(a).replace(".","")),f=Number.parseInt(e.toFixed(a).replace(".",""));return u%f/10**a}class ts extends be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Z.number){const u=this._getOrReturnCtx(e);return R(u,{code:L.invalid_type,expected:Z.number,received:u.parsedType}),fe}let o;const a=new Gt;for(const u of this._def.checks)u.kind==="int"?Oe.isInteger(e.data)||(o=this._getOrReturnCtx(e,o),R(o,{code:L.invalid_type,expected:"integer",received:"float",message:u.message}),a.dirty()):u.kind==="min"?(u.inclusive?e.data<u.value:e.data<=u.value)&&(o=this._getOrReturnCtx(e,o),R(o,{code:L.too_small,minimum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),a.dirty()):u.kind==="max"?(u.inclusive?e.data>u.value:e.data>=u.value)&&(o=this._getOrReturnCtx(e,o),R(o,{code:L.too_big,maximum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),a.dirty()):u.kind==="multipleOf"?d1(e.data,u.value)!==0&&(o=this._getOrReturnCtx(e,o),R(o,{code:L.not_multiple_of,multipleOf:u.value,message:u.message}),a.dirty()):u.kind==="finite"?Number.isFinite(e.data)||(o=this._getOrReturnCtx(e,o),R(o,{code:L.not_finite,message:u.message}),a.dirty()):Oe.assertNever(u);return{status:a.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Q.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Q.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Q.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Q.toString(n))}setLimit(e,n,o,a){return new ts({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:o,message:Q.toString(a)}]})}_addCheck(e){return new ts({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Q.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Q.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Q.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Q.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Q.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Q.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Q.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Q.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Q.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Oe.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(n===null||o.value>n)&&(n=o.value):o.kind==="max"&&(e===null||o.value<e)&&(e=o.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ts.create=r=>new ts({checks:[],typeName:F.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...ye(r)});class fo extends be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Z.bigint)return this._getInvalidInput(e);let o;const a=new Gt;for(const u of this._def.checks)u.kind==="min"?(u.inclusive?e.data<u.value:e.data<=u.value)&&(o=this._getOrReturnCtx(e,o),R(o,{code:L.too_small,type:"bigint",minimum:u.value,inclusive:u.inclusive,message:u.message}),a.dirty()):u.kind==="max"?(u.inclusive?e.data>u.value:e.data>=u.value)&&(o=this._getOrReturnCtx(e,o),R(o,{code:L.too_big,type:"bigint",maximum:u.value,inclusive:u.inclusive,message:u.message}),a.dirty()):u.kind==="multipleOf"?e.data%u.value!==BigInt(0)&&(o=this._getOrReturnCtx(e,o),R(o,{code:L.not_multiple_of,multipleOf:u.value,message:u.message}),a.dirty()):Oe.assertNever(u);return{status:a.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return R(n,{code:L.invalid_type,expected:Z.bigint,received:n.parsedType}),fe}gte(e,n){return this.setLimit("min",e,!0,Q.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Q.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Q.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Q.toString(n))}setLimit(e,n,o,a){return new fo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:o,message:Q.toString(a)}]})}_addCheck(e){return new fo({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Q.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Q.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Q.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Q.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Q.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}fo.create=r=>new fo({checks:[],typeName:F.ZodBigInt,coerce:(r==null?void 0:r.coerce)??!1,...ye(r)});class vm extends be{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Z.boolean){const o=this._getOrReturnCtx(e);return R(o,{code:L.invalid_type,expected:Z.boolean,received:o.parsedType}),fe}return fn(e.data)}}vm.create=r=>new vm({typeName:F.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...ye(r)});class fl extends be{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Z.date){const u=this._getOrReturnCtx(e);return R(u,{code:L.invalid_type,expected:Z.date,received:u.parsedType}),fe}if(Number.isNaN(e.data.getTime())){const u=this._getOrReturnCtx(e);return R(u,{code:L.invalid_date}),fe}const o=new Gt;let a;for(const u of this._def.checks)u.kind==="min"?e.data.getTime()<u.value&&(a=this._getOrReturnCtx(e,a),R(a,{code:L.too_small,message:u.message,inclusive:!0,exact:!1,minimum:u.value,type:"date"}),o.dirty()):u.kind==="max"?e.data.getTime()>u.value&&(a=this._getOrReturnCtx(e,a),R(a,{code:L.too_big,message:u.message,inclusive:!0,exact:!1,maximum:u.value,type:"date"}),o.dirty()):Oe.assertNever(u);return{status:o.value,value:new Date(e.data.getTime())}}_addCheck(e){return new fl({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Q.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Q.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}fl.create=r=>new fl({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:F.ZodDate,...ye(r)});class _m extends be{_parse(e){if(this._getType(e)!==Z.symbol){const o=this._getOrReturnCtx(e);return R(o,{code:L.invalid_type,expected:Z.symbol,received:o.parsedType}),fe}return fn(e.data)}}_m.create=r=>new _m({typeName:F.ZodSymbol,...ye(r)});class wm extends be{_parse(e){if(this._getType(e)!==Z.undefined){const o=this._getOrReturnCtx(e);return R(o,{code:L.invalid_type,expected:Z.undefined,received:o.parsedType}),fe}return fn(e.data)}}wm.create=r=>new wm({typeName:F.ZodUndefined,...ye(r)});class Sm extends be{_parse(e){if(this._getType(e)!==Z.null){const o=this._getOrReturnCtx(e);return R(o,{code:L.invalid_type,expected:Z.null,received:o.parsedType}),fe}return fn(e.data)}}Sm.create=r=>new Sm({typeName:F.ZodNull,...ye(r)});class Im extends be{constructor(){super(...arguments),this._any=!0}_parse(e){return fn(e.data)}}Im.create=r=>new Im({typeName:F.ZodAny,...ye(r)});class xm extends be{constructor(){super(...arguments),this._unknown=!0}_parse(e){return fn(e.data)}}xm.create=r=>new xm({typeName:F.ZodUnknown,...ye(r)});class Pr extends be{_parse(e){const n=this._getOrReturnCtx(e);return R(n,{code:L.invalid_type,expected:Z.never,received:n.parsedType}),fe}}Pr.create=r=>new Pr({typeName:F.ZodNever,...ye(r)});class bm extends be{_parse(e){if(this._getType(e)!==Z.undefined){const o=this._getOrReturnCtx(e);return R(o,{code:L.invalid_type,expected:Z.void,received:o.parsedType}),fe}return fn(e.data)}}bm.create=r=>new bm({typeName:F.ZodVoid,...ye(r)});class Fn extends be{_parse(e){const{ctx:n,status:o}=this._processInputParams(e),a=this._def;if(n.parsedType!==Z.array)return R(n,{code:L.invalid_type,expected:Z.array,received:n.parsedType}),fe;if(a.exactLength!==null){const f=n.data.length>a.exactLength.value,h=n.data.length<a.exactLength.value;(f||h)&&(R(n,{code:f?L.too_big:L.too_small,minimum:h?a.exactLength.value:void 0,maximum:f?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),o.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(R(n,{code:L.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),o.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(R(n,{code:L.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),o.dirty()),n.common.async)return Promise.all([...n.data].map((f,h)=>a.type._parseAsync(new Mr(n,f,n.path,h)))).then(f=>Gt.mergeArray(o,f));const u=[...n.data].map((f,h)=>a.type._parseSync(new Mr(n,f,n.path,h)));return Gt.mergeArray(o,u)}get element(){return this._def.type}min(e,n){return new Fn({...this._def,minLength:{value:e,message:Q.toString(n)}})}max(e,n){return new Fn({...this._def,maxLength:{value:e,message:Q.toString(n)}})}length(e,n){return new Fn({...this._def,exactLength:{value:e,message:Q.toString(n)}})}nonempty(e){return this.min(1,e)}}Fn.create=(r,e)=>new Fn({type:r,minLength:null,maxLength:null,exactLength:null,typeName:F.ZodArray,...ye(e)});function Zi(r){if(r instanceof st){const e={};for(const n in r.shape){const o=r.shape[n];e[n]=Er.create(Zi(o))}return new st({...r._def,shape:()=>e})}else return r instanceof Fn?new Fn({...r._def,type:Zi(r.element)}):r instanceof Er?Er.create(Zi(r.unwrap())):r instanceof is?is.create(Zi(r.unwrap())):r instanceof oi?oi.create(r.items.map(e=>Zi(e))):r}class st extends be{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Oe.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Z.object){const y=this._getOrReturnCtx(e);return R(y,{code:L.invalid_type,expected:Z.object,received:y.parsedType}),fe}const{status:o,ctx:a}=this._processInputParams(e),{shape:u,keys:f}=this._getCached(),h=[];if(!(this._def.catchall instanceof Pr&&this._def.unknownKeys==="strip"))for(const y in a.data)f.includes(y)||h.push(y);const m=[];for(const y of f){const I=u[y],O=a.data[y];m.push({key:{status:"valid",value:y},value:I._parse(new Mr(a,O,a.path,y)),alwaysSet:y in a.data})}if(this._def.catchall instanceof Pr){const y=this._def.unknownKeys;if(y==="passthrough")for(const I of h)m.push({key:{status:"valid",value:I},value:{status:"valid",value:a.data[I]}});else if(y==="strict")h.length>0&&(R(a,{code:L.unrecognized_keys,keys:h}),o.dirty());else if(y!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const y=this._def.catchall;for(const I of h){const O=a.data[I];m.push({key:{status:"valid",value:I},value:y._parse(new Mr(a,O,a.path,I)),alwaysSet:I in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const y=[];for(const I of m){const O=await I.key,j=await I.value;y.push({key:O,value:j,alwaysSet:I.alwaysSet})}return y}).then(y=>Gt.mergeObjectSync(o,y)):Gt.mergeObjectSync(o,m)}get shape(){return this._def.shape()}strict(e){return Q.errToObj,new st({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,o)=>{var u,f;const a=((f=(u=this._def).errorMap)==null?void 0:f.call(u,n,o).message)??o.defaultError;return n.code==="unrecognized_keys"?{message:Q.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new st({...this._def,unknownKeys:"strip"})}passthrough(){return new st({...this._def,unknownKeys:"passthrough"})}extend(e){return new st({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new st({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:F.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new st({...this._def,catchall:e})}pick(e){const n={};for(const o of Oe.objectKeys(e))e[o]&&this.shape[o]&&(n[o]=this.shape[o]);return new st({...this._def,shape:()=>n})}omit(e){const n={};for(const o of Oe.objectKeys(this.shape))e[o]||(n[o]=this.shape[o]);return new st({...this._def,shape:()=>n})}deepPartial(){return Zi(this)}partial(e){const n={};for(const o of Oe.objectKeys(this.shape)){const a=this.shape[o];e&&!e[o]?n[o]=a:n[o]=a.optional()}return new st({...this._def,shape:()=>n})}required(e){const n={};for(const o of Oe.objectKeys(this.shape))if(e&&!e[o])n[o]=this.shape[o];else{let u=this.shape[o];for(;u instanceof Er;)u=u._def.innerType;n[o]=u}return new st({...this._def,shape:()=>n})}keyof(){return Mg(Oe.objectKeys(this.shape))}}st.create=(r,e)=>new st({shape:()=>r,unknownKeys:"strip",catchall:Pr.create(),typeName:F.ZodObject,...ye(e)});st.strictCreate=(r,e)=>new st({shape:()=>r,unknownKeys:"strict",catchall:Pr.create(),typeName:F.ZodObject,...ye(e)});st.lazycreate=(r,e)=>new st({shape:r,unknownKeys:"strip",catchall:Pr.create(),typeName:F.ZodObject,...ye(e)});class hl extends be{_parse(e){const{ctx:n}=this._processInputParams(e),o=this._def.options;function a(u){for(const h of u)if(h.result.status==="valid")return h.result;for(const h of u)if(h.result.status==="dirty")return n.common.issues.push(...h.ctx.common.issues),h.result;const f=u.map(h=>new rr(h.ctx.common.issues));return R(n,{code:L.invalid_union,unionErrors:f}),fe}if(n.common.async)return Promise.all(o.map(async u=>{const f={...n,common:{...n.common,issues:[]},parent:null};return{result:await u._parseAsync({data:n.data,path:n.path,parent:f}),ctx:f}})).then(a);{let u;const f=[];for(const m of o){const y={...n,common:{...n.common,issues:[]},parent:null},I=m._parseSync({data:n.data,path:n.path,parent:y});if(I.status==="valid")return I;I.status==="dirty"&&!u&&(u={result:I,ctx:y}),y.common.issues.length&&f.push(y.common.issues)}if(u)return n.common.issues.push(...u.ctx.common.issues),u.result;const h=f.map(m=>new rr(m));return R(n,{code:L.invalid_union,unionErrors:h}),fe}}get options(){return this._def.options}}hl.create=(r,e)=>new hl({options:r,typeName:F.ZodUnion,...ye(e)});function ed(r,e){const n=Ar(r),o=Ar(e);if(r===e)return{valid:!0,data:r};if(n===Z.object&&o===Z.object){const a=Oe.objectKeys(e),u=Oe.objectKeys(r).filter(h=>a.indexOf(h)!==-1),f={...r,...e};for(const h of u){const m=ed(r[h],e[h]);if(!m.valid)return{valid:!1};f[h]=m.data}return{valid:!0,data:f}}else if(n===Z.array&&o===Z.array){if(r.length!==e.length)return{valid:!1};const a=[];for(let u=0;u<r.length;u++){const f=r[u],h=e[u],m=ed(f,h);if(!m.valid)return{valid:!1};a.push(m.data)}return{valid:!0,data:a}}else return n===Z.date&&o===Z.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}class pl extends be{_parse(e){const{status:n,ctx:o}=this._processInputParams(e),a=(u,f)=>{if(mm(u)||mm(f))return fe;const h=ed(u.value,f.value);return h.valid?((ym(u)||ym(f))&&n.dirty(),{status:n.value,value:h.data}):(R(o,{code:L.invalid_intersection_types}),fe)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([u,f])=>a(u,f)):a(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}}pl.create=(r,e,n)=>new pl({left:r,right:e,typeName:F.ZodIntersection,...ye(n)});class oi extends be{_parse(e){const{status:n,ctx:o}=this._processInputParams(e);if(o.parsedType!==Z.array)return R(o,{code:L.invalid_type,expected:Z.array,received:o.parsedType}),fe;if(o.data.length<this._def.items.length)return R(o,{code:L.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),fe;!this._def.rest&&o.data.length>this._def.items.length&&(R(o,{code:L.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const u=[...o.data].map((f,h)=>{const m=this._def.items[h]||this._def.rest;return m?m._parse(new Mr(o,f,o.path,h)):null}).filter(f=>!!f);return o.common.async?Promise.all(u).then(f=>Gt.mergeArray(n,f)):Gt.mergeArray(n,u)}get items(){return this._def.items}rest(e){return new oi({...this._def,rest:e})}}oi.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new oi({items:r,typeName:F.ZodTuple,rest:null,...ye(e)})};class km extends be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:o}=this._processInputParams(e);if(o.parsedType!==Z.map)return R(o,{code:L.invalid_type,expected:Z.map,received:o.parsedType}),fe;const a=this._def.keyType,u=this._def.valueType,f=[...o.data.entries()].map(([h,m],y)=>({key:a._parse(new Mr(o,h,o.path,[y,"key"])),value:u._parse(new Mr(o,m,o.path,[y,"value"]))}));if(o.common.async){const h=new Map;return Promise.resolve().then(async()=>{for(const m of f){const y=await m.key,I=await m.value;if(y.status==="aborted"||I.status==="aborted")return fe;(y.status==="dirty"||I.status==="dirty")&&n.dirty(),h.set(y.value,I.value)}return{status:n.value,value:h}})}else{const h=new Map;for(const m of f){const y=m.key,I=m.value;if(y.status==="aborted"||I.status==="aborted")return fe;(y.status==="dirty"||I.status==="dirty")&&n.dirty(),h.set(y.value,I.value)}return{status:n.value,value:h}}}}km.create=(r,e,n)=>new km({valueType:e,keyType:r,typeName:F.ZodMap,...ye(n)});class ho extends be{_parse(e){const{status:n,ctx:o}=this._processInputParams(e);if(o.parsedType!==Z.set)return R(o,{code:L.invalid_type,expected:Z.set,received:o.parsedType}),fe;const a=this._def;a.minSize!==null&&o.data.size<a.minSize.value&&(R(o,{code:L.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&o.data.size>a.maxSize.value&&(R(o,{code:L.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const u=this._def.valueType;function f(m){const y=new Set;for(const I of m){if(I.status==="aborted")return fe;I.status==="dirty"&&n.dirty(),y.add(I.value)}return{status:n.value,value:y}}const h=[...o.data.values()].map((m,y)=>u._parse(new Mr(o,m,o.path,y)));return o.common.async?Promise.all(h).then(m=>f(m)):f(h)}min(e,n){return new ho({...this._def,minSize:{value:e,message:Q.toString(n)}})}max(e,n){return new ho({...this._def,maxSize:{value:e,message:Q.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ho.create=(r,e)=>new ho({valueType:r,minSize:null,maxSize:null,typeName:F.ZodSet,...ye(e)});class td extends be{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}td.create=(r,e)=>new td({getter:r,typeName:F.ZodLazy,...ye(e)});class nd extends be{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return R(n,{received:n.data,code:L.invalid_literal,expected:this._def.value}),fe}return{status:"valid",value:e.data}}get value(){return this._def.value}}nd.create=(r,e)=>new nd({value:r,typeName:F.ZodLiteral,...ye(e)});function Mg(r,e){return new ns({values:r,typeName:F.ZodEnum,...ye(e)})}class ns extends be{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),o=this._def.values;return R(n,{expected:Oe.joinValues(o),received:n.parsedType,code:L.invalid_type}),fe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),o=this._def.values;return R(n,{received:n.data,code:L.invalid_enum_value,options:o}),fe}return fn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return ns.create(e,{...this._def,...n})}exclude(e,n=this._def){return ns.create(this.options.filter(o=>!e.includes(o)),{...this._def,...n})}}ns.create=Mg;class Nm extends be{_parse(e){const n=Oe.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(e);if(o.parsedType!==Z.string&&o.parsedType!==Z.number){const a=Oe.objectValues(n);return R(o,{expected:Oe.joinValues(a),received:o.parsedType,code:L.invalid_type}),fe}if(this._cache||(this._cache=new Set(Oe.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const a=Oe.objectValues(n);return R(o,{received:o.data,code:L.invalid_enum_value,options:a}),fe}return fn(e.data)}get enum(){return this._def.values}}Nm.create=(r,e)=>new Nm({values:r,typeName:F.ZodNativeEnum,...ye(e)});class ml extends be{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Z.promise&&n.common.async===!1)return R(n,{code:L.invalid_type,expected:Z.promise,received:n.parsedType}),fe;const o=n.parsedType===Z.promise?n.data:Promise.resolve(n.data);return fn(o.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}ml.create=(r,e)=>new ml({type:r,typeName:F.ZodPromise,...ye(e)});class rs extends be{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===F.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:o}=this._processInputParams(e),a=this._def.effect||null,u={addIssue:f=>{R(o,f),f.fatal?n.abort():n.dirty()},get path(){return o.path}};if(u.addIssue=u.addIssue.bind(u),a.type==="preprocess"){const f=a.transform(o.data,u);if(o.common.async)return Promise.resolve(f).then(async h=>{if(n.value==="aborted")return fe;const m=await this._def.schema._parseAsync({data:h,path:o.path,parent:o});return m.status==="aborted"?fe:m.status==="dirty"||n.value==="dirty"?ro(m.value):m});{if(n.value==="aborted")return fe;const h=this._def.schema._parseSync({data:f,path:o.path,parent:o});return h.status==="aborted"?fe:h.status==="dirty"||n.value==="dirty"?ro(h.value):h}}if(a.type==="refinement"){const f=h=>{const m=a.refinement(h,u);if(o.common.async)return Promise.resolve(m);if(m instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return h};if(o.common.async===!1){const h=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return h.status==="aborted"?fe:(h.status==="dirty"&&n.dirty(),f(h.value),{status:n.value,value:h.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(h=>h.status==="aborted"?fe:(h.status==="dirty"&&n.dirty(),f(h.value).then(()=>({status:n.value,value:h.value}))))}if(a.type==="transform")if(o.common.async===!1){const f=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!es(f))return fe;const h=a.transform(f.value,u);if(h instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:h}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(f=>es(f)?Promise.resolve(a.transform(f.value,u)).then(h=>({status:n.value,value:h})):fe);Oe.assertNever(a)}}rs.create=(r,e,n)=>new rs({schema:r,typeName:F.ZodEffects,effect:e,...ye(n)});rs.createWithPreprocess=(r,e,n)=>new rs({schema:e,effect:{type:"preprocess",transform:r},typeName:F.ZodEffects,...ye(n)});class Er extends be{_parse(e){return this._getType(e)===Z.undefined?fn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Er.create=(r,e)=>new Er({innerType:r,typeName:F.ZodOptional,...ye(e)});class is extends be{_parse(e){return this._getType(e)===Z.null?fn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}is.create=(r,e)=>new is({innerType:r,typeName:F.ZodNullable,...ye(e)});class rd extends be{_parse(e){const{ctx:n}=this._processInputParams(e);let o=n.data;return n.parsedType===Z.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}rd.create=(r,e)=>new rd({innerType:r,typeName:F.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ye(e)});class id extends be{_parse(e){const{ctx:n}=this._processInputParams(e),o={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return dl(a)?a.then(u=>({status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new rr(o.common.issues)},input:o.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new rr(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}}id.create=(r,e)=>new id({innerType:r,typeName:F.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ye(e)});class Om extends be{_parse(e){if(this._getType(e)!==Z.nan){const o=this._getOrReturnCtx(e);return R(o,{code:L.invalid_type,expected:Z.nan,received:o.parsedType}),fe}return{status:"valid",value:e.data}}}Om.create=r=>new Om({typeName:F.ZodNaN,...ye(r)});class f1 extends be{_parse(e){const{ctx:n}=this._processInputParams(e),o=n.data;return this._def.type._parse({data:o,path:n.path,parent:n})}unwrap(){return this._def.type}}class Dd extends be{_parse(e){const{status:n,ctx:o}=this._processInputParams(e);if(o.common.async)return(async()=>{const u=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return u.status==="aborted"?fe:u.status==="dirty"?(n.dirty(),ro(u.value)):this._def.out._parseAsync({data:u.value,path:o.path,parent:o})})();{const a=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return a.status==="aborted"?fe:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:o.path,parent:o})}}static create(e,n){return new Dd({in:e,out:n,typeName:F.ZodPipeline})}}class sd extends be{_parse(e){const n=this._def.innerType._parse(e),o=a=>(es(a)&&(a.value=Object.freeze(a.value)),a);return dl(n)?n.then(a=>o(a)):o(n)}unwrap(){return this._def.innerType}}sd.create=(r,e)=>new sd({innerType:r,typeName:F.ZodReadonly,...ye(e)});var F;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(F||(F={}));const Pg=Cr.create,yl=ts.create;Pr.create;const Rg=Fn.create,Td=st.create,Ad=hl.create;pl.create;oi.create;const po=td.create,bl=nd.create,os=ns.create;ml.create;Er.create;is.create;const kl=Td({type:Pg()}),h1=os(["IDENT","NUMBER"]),p1=os(["price","entry_price","high","low","close","volume"]),m1=os(["ma","rsi","atr"]),y1=os([">","<",">=","<=","==","!="]),g1=os(["AND","OR"]),v1=os(["next_open","close","current_close"]),Ug=kl.extend({type:bl("Value"),kind:h1,value:Ad([p1,yl()])}),_1=kl.extend({type:bl("Logical"),op:g1,left:po(()=>mo),right:po(()=>mo)}),w1=kl.extend({type:bl("Binary"),op:y1,left:po(()=>mo),right:po(()=>mo)}),S1=kl.extend({type:bl("Func"),name:m1,args:Rg(Ad([yl(),Ug])).min(1).max(2)}),mo=po(()=>Ad([_1,w1,S1,Ug])),Dm=Td({ast:mo,timing:v1}),oo=Td({entry:Dm.refine(r=>r.timing==="next_open"||r.timing==="close",{message:"Entry timing must be 'next_open' or 'close'"}),exit:Dm.refine(r=>r.timing==="current_close",{message:"Exit timing must be 'current_close'"}),universe:Rg(Pg().regex(/^[0-9]{4}\.T$/)).min(1),cash:yl().int().optional().default(1e6),slippage_bp:yl().optional().default(3)});function zg(r,e,n,o){o!=null&&o.errorMessages&&n&&(r.errorMessage={...r.errorMessage,[e]:n})}function Me(r,e,n,o,a){r[e]=n,zg(r,e,o,a)}const Tm={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"string",mapStrategy:"entries",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",emailStrategy:"format:email"},I1=r=>typeof r=="string"?{...Tm,name:r}:{...Tm,...r};function x1(){return{}}function b1(r,e){var o,a;const n={type:"array"};return((a=(o=r.type)==null?void 0:o._def)==null?void 0:a.typeName)!==F.ZodAny&&(n.items=Ce(r.type._def,{...e,currentPath:[...e.currentPath,"items"]})),r.minLength&&Me(n,"minItems",r.minLength.value,r.minLength.message,e),r.maxLength&&Me(n,"maxItems",r.maxLength.value,r.maxLength.message,e),r.exactLength&&(Me(n,"minItems",r.exactLength.value,r.exactLength.message,e),Me(n,"maxItems",r.exactLength.value,r.exactLength.message,e)),n}function k1(r,e){const n={type:"integer",format:"int64"};if(!r.checks)return n;for(const o of r.checks)switch(o.kind){case"min":e.target==="jsonSchema7"?o.inclusive?Me(n,"minimum",o.value,o.message,e):Me(n,"exclusiveMinimum",o.value,o.message,e):(o.inclusive||(n.exclusiveMinimum=!0),Me(n,"minimum",o.value,o.message,e));break;case"max":e.target==="jsonSchema7"?o.inclusive?Me(n,"maximum",o.value,o.message,e):Me(n,"exclusiveMaximum",o.value,o.message,e):(o.inclusive||(n.exclusiveMaximum=!0),Me(n,"maximum",o.value,o.message,e));break;case"multipleOf":Me(n,"multipleOf",o.value,o.message,e);break}return n}function N1(){return{type:"boolean"}}function O1(r,e){return Ce(r.type._def,e)}const D1=(r,e)=>Ce(r.innerType._def,e);function T1(r,e){return e.dateStrategy=="integer"?A1(r,e):{type:"string",format:"date-time"}}const A1=(r,e)=>{const n={type:"integer",format:"unix-time"};for(const o of r.checks)switch(o.kind){case"min":e.target==="jsonSchema7"&&Me(n,"minimum",o.value,o.message,e);break;case"max":e.target==="jsonSchema7"&&Me(n,"maximum",o.value,o.message,e);break}return n};function C1(r,e){return{...Ce(r.innerType._def,e),default:r.defaultValue()}}function E1(r,e){return e.effectStrategy==="input"?Ce(r.schema._def,e):{}}function B1(r){return{type:"string",enum:r.values}}const L1=r=>"type"in r&&r.type==="string"?!1:"allOf"in r;function j1(r,e){const n=[Ce(r.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),Ce(r.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(u=>!!u);let o=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const a=[];return n.forEach(u=>{if(L1(u))a.push(...u.allOf),u.unevaluatedProperties===void 0&&(o=void 0);else{let f=u;if("additionalProperties"in u&&u.additionalProperties===!1){const{additionalProperties:h,...m}=u;f=m}else o=void 0;a.push(f)}}),a.length?{allOf:a,...o}:void 0}function F1(r,e){const n=typeof r.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(r.value)?"array":"object"}:e.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[r.value]}:{type:n==="bigint"?"integer":n,const:r.value}}const Js={cuid:"^[cC][^\\s-]{8,}$",cuid2:"^[a-z][a-z0-9]*$",ulid:"^[0-9A-HJKMNP-TV-Z]{26}$",email:"^(?!\\.)(?!.*\\.\\.)([a-zA-Z0-9_+-\\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\\-]*\\.)+[a-zA-Z]{2,}$",emoji:"^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$"};function Vg(r,e){const n={type:"string"};function o(a){return e.patternStrategy==="escape"?M1(a):a}if(r.checks)for(const a of r.checks)switch(a.kind){case"min":Me(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,a.value):a.value,a.message,e);break;case"max":Me(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,a.value):a.value,a.message,e);break;case"email":switch(e.emailStrategy){case"format:email":ei(n,"email",a.message,e);break;case"format:idn-email":ei(n,"idn-email",a.message,e);break;case"pattern:zod":Kn(n,Js.email,a.message,e);break}break;case"url":ei(n,"uri",a.message,e);break;case"uuid":ei(n,"uuid",a.message,e);break;case"regex":Kn(n,a.regex.source,a.message,e);break;case"cuid":Kn(n,Js.cuid,a.message,e);break;case"cuid2":Kn(n,Js.cuid2,a.message,e);break;case"startsWith":Kn(n,"^"+o(a.value),a.message,e);break;case"endsWith":Kn(n,o(a.value)+"$",a.message,e);break;case"datetime":ei(n,"date-time",a.message,e);break;case"length":Me(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,a.value):a.value,a.message,e),Me(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,a.value):a.value,a.message,e);break;case"includes":{Kn(n,o(a.value),a.message,e);break}case"ip":{a.version!=="v6"&&ei(n,"ipv4",a.message,e),a.version!=="v4"&&ei(n,"ipv6",a.message,e);break}case"emoji":Kn(n,Js.emoji,a.message,e);break;case"ulid":{Kn(n,Js.ulid,a.message,e);break}}return n}const M1=r=>Array.from(r).map(e=>/[a-zA-Z0-9]/.test(e)?e:`\\${e}`).join(""),ei=(r,e,n,o)=>{var a;r.format||(a=r.anyOf)!=null&&a.some(u=>u.format)?(r.anyOf||(r.anyOf=[]),r.format&&(r.anyOf.push({format:r.format,...r.errorMessage&&o.errorMessages&&{errorMessage:{format:r.errorMessage.format}}}),delete r.format,r.errorMessage&&(delete r.errorMessage.format,Object.keys(r.errorMessage).length===0&&delete r.errorMessage)),r.anyOf.push({format:e,...n&&o.errorMessages&&{errorMessage:{format:n}}})):Me(r,"format",e,n,o)},Kn=(r,e,n,o)=>{var a;r.pattern||(a=r.allOf)!=null&&a.some(u=>u.pattern)?(r.allOf||(r.allOf=[]),r.pattern&&(r.allOf.push({pattern:r.pattern,...r.errorMessage&&o.errorMessages&&{errorMessage:{pattern:r.errorMessage.pattern}}}),delete r.pattern,r.errorMessage&&(delete r.errorMessage.pattern,Object.keys(r.errorMessage).length===0&&delete r.errorMessage)),r.allOf.push({pattern:e,...n&&o.errorMessages&&{errorMessage:{pattern:n}}})):Me(r,"pattern",e,n,o)};function $g(r,e){var o,a,u,f;if(e.target==="openApi3"&&((o=r.keyType)==null?void 0:o._def.typeName)===F.ZodEnum)return{type:"object",required:r.keyType._def.values,properties:r.keyType._def.values.reduce((h,m)=>({...h,[m]:Ce(r.valueType._def,{...e,currentPath:[...e.currentPath,"properties",m]})??{}}),{}),additionalProperties:!1};const n={type:"object",additionalProperties:Ce(r.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??{}};if(e.target==="openApi3")return n;if(((a=r.keyType)==null?void 0:a._def.typeName)===F.ZodString&&((u=r.keyType._def.checks)!=null&&u.length)){const h=Object.entries(Vg(r.keyType._def,e)).reduce((m,[y,I])=>y==="type"?m:{...m,[y]:I},{});return{...n,propertyNames:h}}else if(((f=r.keyType)==null?void 0:f._def.typeName)===F.ZodEnum)return{...n,propertyNames:{enum:r.keyType._def.values}};return n}function P1(r,e){if(e.mapStrategy==="record")return $g(r,e);const n=Ce(r.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},o=Ce(r.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[n,o],minItems:2,maxItems:2}}}function R1(r){const e=r.values,o=Object.keys(r.values).filter(u=>typeof e[e[u]]!="number").map(u=>e[u]),a=Array.from(new Set(o.map(u=>typeof u)));return{type:a.length===1?a[0]==="string"?"string":"number":["string","number"],enum:o}}function U1(){return{not:{}}}function z1(r){return r.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const gl={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function V1(r,e){if(e.target==="openApi3")return Am(r,e);const n=r.options instanceof Map?Array.from(r.options.values()):r.options;if(n.every(o=>o._def.typeName in gl&&(!o._def.checks||!o._def.checks.length))){const o=n.reduce((a,u)=>{const f=gl[u._def.typeName];return f&&!a.includes(f)?[...a,f]:a},[]);return{type:o.length>1?o:o[0]}}else if(n.every(o=>o._def.typeName==="ZodLiteral"&&!o.description)){const o=n.reduce((a,u)=>{const f=typeof u._def.value;switch(f){case"string":case"number":case"boolean":return[...a,f];case"bigint":return[...a,"integer"];case"object":if(u._def.value===null)return[...a,"null"];case"symbol":case"undefined":case"function":default:return a}},[]);if(o.length===n.length){const a=o.filter((u,f,h)=>h.indexOf(u)===f);return{type:a.length>1?a:a[0],enum:n.reduce((u,f)=>u.includes(f._def.value)?u:[...u,f._def.value],[])}}}else if(n.every(o=>o._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((o,a)=>[...o,...a._def.values.filter(u=>!o.includes(u))],[])};return Am(r,e)}const Am=(r,e)=>{const n=(r.options instanceof Map?Array.from(r.options.values()):r.options).map((o,a)=>Ce(o._def,{...e,currentPath:[...e.currentPath,"anyOf",`${a}`]})).filter(o=>!!o&&(!e.strictUnions||typeof o=="object"&&Object.keys(o).length>0));return n.length?{anyOf:n}:void 0};function $1(r,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(r.innerType._def.typeName)&&(!r.innerType._def.checks||!r.innerType._def.checks.length))return e.target==="openApi3"?{type:gl[r.innerType._def.typeName],nullable:!0}:{type:[gl[r.innerType._def.typeName],"null"]};if(e.target==="openApi3"){const o=Ce(r.innerType._def,{...e,currentPath:[...e.currentPath]});return o&&"$ref"in o?{allOf:[o],nullable:!0}:o&&{...o,nullable:!0}}const n=Ce(r.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function Z1(r,e){const n={type:"number"};if(!r.checks)return n;for(const o of r.checks)switch(o.kind){case"int":n.type="integer",zg(n,"type",o.message,e);break;case"min":e.target==="jsonSchema7"?o.inclusive?Me(n,"minimum",o.value,o.message,e):Me(n,"exclusiveMinimum",o.value,o.message,e):(o.inclusive||(n.exclusiveMinimum=!0),Me(n,"minimum",o.value,o.message,e));break;case"max":e.target==="jsonSchema7"?o.inclusive?Me(n,"maximum",o.value,o.message,e):Me(n,"exclusiveMaximum",o.value,o.message,e):(o.inclusive||(n.exclusiveMaximum=!0),Me(n,"maximum",o.value,o.message,e));break;case"multipleOf":Me(n,"multipleOf",o.value,o.message,e);break}return n}function W1(r,e){const n={type:"object",...Object.entries(r.shape()).reduce((o,[a,u])=>{if(u===void 0||u._def===void 0)return o;const f=Ce(u._def,{...e,currentPath:[...e.currentPath,"properties",a],propertyPath:[...e.currentPath,"properties",a]});return f===void 0?o:{properties:{...o.properties,[a]:f},required:u.isOptional()?o.required:[...o.required,a]}},{properties:{},required:[]}),additionalProperties:r.catchall._def.typeName==="ZodNever"?r.unknownKeys==="passthrough":Ce(r.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0};return n.required.length||delete n.required,n}const H1=(r,e)=>{var o;if(e.currentPath.toString()===((o=e.propertyPath)==null?void 0:o.toString()))return Ce(r.innerType._def,e);const n=Ce(r.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return n?{anyOf:[{not:{}},n]}:{}},Q1=(r,e)=>{if(e.pipeStrategy==="input")return Ce(r.in._def,e);if(e.pipeStrategy==="output")return Ce(r.out._def,e);const n=Ce(r.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),o=Ce(r.out._def,{...e,currentPath:[...e.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,o].filter(a=>a!==void 0)}};function J1(r,e){return Ce(r.type._def,e)}function K1(r,e){const o={type:"array",uniqueItems:!0,items:Ce(r.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return r.minSize&&Me(o,"minItems",r.minSize.value,r.minSize.message,e),r.maxSize&&Me(o,"maxItems",r.maxSize.value,r.maxSize.message,e),o}function Y1(r,e){return r.rest?{type:"array",minItems:r.items.length,items:r.items.map((n,o)=>Ce(n._def,{...e,currentPath:[...e.currentPath,"items",`${o}`]})).reduce((n,o)=>o===void 0?n:[...n,o],[]),additionalItems:Ce(r.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:r.items.length,maxItems:r.items.length,items:r.items.map((n,o)=>Ce(n._def,{...e,currentPath:[...e.currentPath,"items",`${o}`]})).reduce((n,o)=>o===void 0?n:[...n,o],[])}}function q1(){return{not:{}}}function G1(){return{}}const X1=(r,e)=>Ce(r.innerType._def,e);function Ce(r,e,n=!1){const o=e.seen.get(r);if(o&&!n){const f=eI(o,e);if(f!==void 0)return f}const a={def:r,path:e.currentPath,jsonSchema:void 0};e.seen.set(r,a);const u=nI(r,r.typeName,e);return u&&rI(r,e,u),a.jsonSchema=u,u}const eI=(r,e)=>{switch(e.$refStrategy){case"root":return{$ref:r.path.join("/")};case"relative":return{$ref:tI(e.currentPath,r.path)};case"none":case"seen":return r.path.length<e.currentPath.length&&r.path.every((n,o)=>e.currentPath[o]===n)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},tI=(r,e)=>{let n=0;for(;n<r.length&&n<e.length&&r[n]===e[n];n++);return[(r.length-n).toString(),...e.slice(n)].join("/")},nI=(r,e,n)=>{switch(e){case F.ZodString:return Vg(r,n);case F.ZodNumber:return Z1(r,n);case F.ZodObject:return W1(r,n);case F.ZodBigInt:return k1(r,n);case F.ZodBoolean:return N1();case F.ZodDate:return T1(r,n);case F.ZodUndefined:return q1();case F.ZodNull:return z1(n);case F.ZodArray:return b1(r,n);case F.ZodUnion:case F.ZodDiscriminatedUnion:return V1(r,n);case F.ZodIntersection:return j1(r,n);case F.ZodTuple:return Y1(r,n);case F.ZodRecord:return $g(r,n);case F.ZodLiteral:return F1(r,n);case F.ZodEnum:return B1(r);case F.ZodNativeEnum:return R1(r);case F.ZodNullable:return $1(r,n);case F.ZodOptional:return H1(r,n);case F.ZodMap:return P1(r,n);case F.ZodSet:return K1(r,n);case F.ZodLazy:return Ce(r.getter()._def,n);case F.ZodPromise:return J1(r,n);case F.ZodNaN:case F.ZodNever:return U1();case F.ZodEffects:return E1(r,n);case F.ZodAny:return x1();case F.ZodUnknown:return G1();case F.ZodDefault:return C1(r,n);case F.ZodBranded:return O1(r,n);case F.ZodReadonly:return X1(r,n);case F.ZodCatch:return D1(r,n);case F.ZodPipeline:return Q1(r,n);case F.ZodFunction:case F.ZodVoid:case F.ZodSymbol:return;default:return(o=>{})()}},rI=(r,e,n)=>(r.description&&(n.description=r.description,e.markdownDescription&&(n.markdownDescription=r.description)),n),iI=r=>{const e=I1(r),n=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([o,a])=>[a._def,{def:a._def,path:[...e.basePath,e.definitionPath,o],jsonSchema:void 0}]))}},Zg=(r,e)=>{const n=iI(e),o=typeof e=="object"&&e.definitions?Object.entries(e.definitions).reduce((h,[m,y])=>({...h,[m]:Ce(y._def,{...n,currentPath:[...n.basePath,n.definitionPath,m]},!0)??{}}),{}):void 0,a=typeof e=="string"?e:e==null?void 0:e.name,u=Ce(r._def,a===void 0?n:{...n,currentPath:[...n.basePath,n.definitionPath,a]},!1)??{},f=a===void 0?o?{...u,[n.definitionPath]:o}:u:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,a].join("/"),[n.definitionPath]:{...o,[a]:u}};return n.target==="jsonSchema7"?f.$schema="http://json-schema.org/draft-07/schema#":n.target==="jsonSchema2019-09"&&(f.$schema="https://json-schema.org/draft/2019-09/schema#"),f};async function sI(r,e){var n,o,a,u;try{if(!e)return{ok:!1,error:"OpenAI APIキーが設定されていません。UIのAPIキー設定から設定してください。"};const f=await Lg(()=>import("https://esm.sh/openai@4.7.0?bundle"),[]),h=f.default??f,m=new h({apiKey:e,dangerouslyAllowBrowser:!0}),y=[{role:"system",content:`あなたは戦略コンパイラです。ユーザーが日本語で記述した戦略を、指定されたJSON-AST-DSLスキーマに厳密に従ってJSON形式に変換してください。必須キーを省略したり、スキーマにない新しいキーを追加したりしないでください。

JSON-AST-DSLスキーマの概要:
- ルートオブジェクトは entry, exit, universe を必須プロパティとして持ちます。
- entry と exit は ast (戦略のロジックを表す抽象構文木) と timing (実行タイミング) を持ちます。
- ast は Logical (AND/OR), Binary (>, <, == など), Func (ma, rsi, atr), Value (数値や価格など) のノードで構成されます。
- universe は対象銘柄コードの配列です (例: ["7203.T"])。
- cash (初期資金) と slippage_bp (スリッページ) はオプショナルです。`},{role:"user",content:r}],I=Zg(oo),j=(a=(o=(n=(await m.chat.completions.create({model:"gpt-4o",messages:y,tools:[{type:"function",function:{name:"build_json_ast_dsl_strategy",description:"ユーザーの自然言語戦略をJSON-AST-DSL形式に変換します。",parameters:I}}],tool_choice:{type:"function",function_name:"build_json_ast_dsl_strategy"}})).choices[0])==null?void 0:n.message)==null?void 0:o.tool_calls)==null?void 0:a[0];if(!j||!((u=j.function)!=null&&u.arguments))return{ok:!1,error:"LLMが関数呼び出しを返しませんでした。"};let U;try{U=JSON.parse(j.function.arguments)}catch(he){return{ok:!1,error:`LLMが返したJSONのパースに失敗しました: ${he.message}`}}const W=oo.safeParse(U);return W.success?{ok:!0,strategy:W.data}:{ok:!1,error:`E1001 (スキーマ検証エラー): ${W.error.errors.map(oe=>`${oe.path.join(".")} (${oe.code}): ${oe.message}`).join("; ")}`}}catch(f){return console.error("OpenAI API呼び出し失敗:",f),{ok:!1,error:`OpenAI API呼び出しエラー: ${f.message||String(f)}`}}}async function oI(r,e){try{if(!e)return{ok:!1,error:"Gemini APIキーが設定されていません。UIのAPIキー設定から設定してください。"};const n=r,a=(await Lg(()=>import("https://esm.sh/@google/generative-ai@latest?bundle"),[])).GoogleGenerativeAI;if(!a||typeof a!="function")return{ok:!1,error:"GoogleGenerativeAIのインポートまたは初期化に失敗しました。"};const u=new a(e);let f=Zg(oo,"strategyASTSchema");const y=[{functionDeclarations:[{name:"build_json_ast_dsl_strategy",description:"ユーザーの自然言語戦略をJSON-AST-DSL形式に変換します。",parameters:(oe=>({type:"object",required:["entry","exit","universe"],properties:{entry:{type:"object",required:["ast","timing"],properties:{ast:{type:"object",description:"戦略のエントリー条件を表すAST構造。typeフィールドが必須で、Value/Binary/Logical/Funcのいずれか",required:["type"],properties:{type:{type:"string",enum:["Value","Binary","Logical","Func"],description:"ノードのタイプ"}}},timing:{type:"string",enum:["next_open","close"],description:"エントリーのタイミング"}}},exit:{type:"object",required:["ast","timing"],properties:{ast:{type:"object",description:"戦略のエグジット条件を表すAST構造。typeフィールドが必須で、Value/Binary/Logical/Funcのいずれか",required:["type"],properties:{type:{type:"string",enum:["Value","Binary","Logical","Func"],description:"ノードのタイプ"}}},timing:{type:"string",enum:["current_close"],description:"エグジットのタイミング"}}},universe:{type:"array",items:{type:"string",pattern:"^[0-9]{4}\\.T$",description:'日本株の銘柄コード（4桁数字 + ".T"、例: "7203.T"）'},minItems:1,description:'対象銘柄コードの配列。必ず「4桁数字.T」形式で指定（例: ["7203.T", "6758.T"]）。企業名やシンボル名は使用禁止。'},cash:{type:"integer",description:"初期資金（デフォルト: 1000000）"},slippage_bp:{type:"number",description:"スリッページ（ベーシスポイント、デフォルト: 3）"}}}))(f)}]}],W=(await u.getGenerativeModel({model:"gemini-2.5-flash-preview-05-20",tools:y}).startChat({history:[{role:"user",parts:[{text:`あなたは戦略コンパイラです。ユーザーが日本語で記述した戦略を、指定されたJSON-AST-DSLスキーマに厳密に従ってJSON形式に変換し、build_json_ast_dsl_strategy関数を呼び出して結果を返してください。

JSON-AST-DSLスキーマの詳細構造:

1. ルートオブジェクト構造:
{
  "entry": { "ast": <ASTNode>, "timing": "next_open" | "close" },
  "exit": { "ast": <ASTNode>, "timing": "current_close" },
  "universe": ["7203.T", "6758.T"], // 必須: 4桁数字 + ".T" 形式の銘柄コード
  "cash": 1000000, // オプショナル
  "slippage_bp": 3 // オプショナル
}

2. ASTノード構造（astフィールドの値）:

Value ノード（数値や識別子）:
{
  "type": "Value",
  "kind": "NUMBER" | "IDENT",
  "value": 数値 | "price" | "close" | "high" | "low" | "volume" | "entry_price"
}

Binary ノード（比較演算）:
{
  "type": "Binary",
  "op": ">" | "<" | ">=" | "<=" | "==" | "!=",
  "left": <ASTNode>,
  "right": <ASTNode>
}

Logical ノード（論理演算）:
{
  "type": "Logical",
  "op": "AND" | "OR",
  "left": <ASTNode>,
  "right": <ASTNode>
}

Func ノード（関数呼び出し）:
{
  "type": "Func",
  "name": "ma" | "rsi" | "atr",
  "args": [期間数値, Valueノード] // 例: [20, {"type":"Value","kind":"IDENT","value":"close"}]
}

3. 重要な制約:
- universe は必ず「4桁の数字 + ".T"」形式で指定してください（例: "7203.T", "6758.T", "9984.T"）
- 「トヨタ」や「ソニー」などの企業名は使用禁止です
- 銘柄コードの例:
  * トヨタ自動車: "7203.T"
  * ソニーグループ: "6758.T" 
  * ソフトバンクグループ: "9984.T"
  * 三菱UFJ: "8306.T"
  * NTT: "9432.T"

4. 戦略例:
- 「RSI30以下で買い、RSI70以上で売り」 → RSI関数とBinaryノードの組み合わせ
- 「移動平均を価格が上抜けで買い」 → 価格 > MA(n, close) のBinaryノード

ユーザーが具体的な銘柄を指定しない場合は["7203.T"]（トヨタ自動車）をデフォルトで使用してください。`}]}],generationConfig:{}}).sendMessage(n)).response,he=W.functionCalls();if(he&&he.length>0){const oe=he[0];if(oe.name==="build_json_ast_dsl_strategy"){const E=oe.args;console.log("Geminiから返されたデータ:",JSON.stringify(E,null,2));const pe=oo.safeParse(E);return pe.success?{ok:!0,strategy:pe.data}:(console.error("スキーマ検証エラー詳細:",pe.error.errors),pe.error.errors.forEach((_e,Ye)=>{console.error(`エラー ${Ye+1}:`,{path:_e.path,code:_e.code,message:_e.message,..._e})}),{ok:!1,error:`E1001 (スキーマ検証エラー): ${pe.error.errors.map(_e=>`${_e.path.join(".")} (${_e.code}): ${_e.message}`).join("; ")}`})}else return{ok:!1,error:`予期しない関数呼び出しを受け取りました: ${oe.name}`}}else{let oe=W.text();if(oe){console.warn("GeminiがFunction Callではなくテキスト応答を返しました。内容:",oe);try{const E=oe.match(/\{[\s\S]*\}/);if(E){const pe=JSON.parse(E[0]),De=oo.safeParse(pe);if(De.success)return console.warn("テキスト応答からのJSONパースに成功しましたが、Function Callingの使用を推奨します。"),{ok:!0,strategy:De.data}}}catch{}return{ok:!1,error:"LLMが期待する関数呼び出しを行いませんでした。テキスト応答: "+oe.substring(0,200)}}else return{ok:!1,error:"LLMが関数呼び出しもテキスト応答も返しませんでした。"}}}catch(n){console.error("Gemini API呼び出し失敗:",n);let o="Gemini API呼び出しエラー";return n.message&&(o+=`: ${n.message}`),n.details&&(o+=` (Details: ${n.details})`),n.httpErrorCode&&(o+=` (HTTP Status: ${n.httpErrorCode})`),{ok:!1,error:o}}}function aI({onStrategySubmit:r,apiKeys:e}){const[n,o]=tt.useState(""),[a,u]=tt.useState(null),[f,h]=tt.useState(!1),[m,y]=tt.useState(()=>sessionStorage.getItem("llm_provider")??"openai"),I=async()=>{if(!n.trim()){u("戦略を入力してください。");return}if(m==="openai"&&!e.openai){u("OpenAI APIキーが設定されていません。UIのAPIキー設定から設定してください。");return}if(m==="gemini"&&!e.gemini){u("Gemini APIキーが設定されていません。UIのAPIキー設定から設定してください。");return}h(!0),u(null),sessionStorage.setItem("llm_provider",m);try{const O=m==="gemini"?await oI(n,e.gemini):await sI(n,e.openai);O.ok&&O.strategy?r(O.strategy):O.ok||u(O.error||"戦略の生成に失敗しました。")}catch(O){u(O.message||String(O))}finally{h(!1)}};return x.jsxs("div",{className:"bg-white shadow sm:rounded-lg p-6","data-testid":"strategy-editor",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4","data-testid":"llm-provider-section",children:[x.jsx("label",{htmlFor:"llm-provider",className:"block text-sm font-medium text-gray-700",children:"LLMプロバイダー選択:"}),x.jsxs("select",{id:"llm-provider",value:m,onChange:O=>y(O.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md","data-testid":"llm-provider-select",children:[x.jsx("option",{value:"openai",children:"OpenAI (GPT-4 etc.)"}),x.jsx("option",{value:"gemini",children:"Google Gemini"})]})]}),x.jsx("textarea",{value:n,onChange:O=>o(O.target.value),rows:6,"data-testid":"strategy-input",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md p-3",placeholder:"例: 14日RSIが30未満で買い、70より大きい場合に売り。対象銘柄は7203.T。初期資金100万円、スリッページ3bp。"}),x.jsx("div",{className:"text-xs text-gray-500 mt-1 mb-3",children:"ヒント: 銘柄コード (例: 7203.T)、初期資金、スリッページなども含めるとより正確な戦略が生成されます。"}),a&&x.jsx("p",{className:"text-sm text-red-600 my-2","data-testid":"strategy-error",children:a}),x.jsx("div",{className:"flex justify-end mt-4",children:x.jsx("button",{type:"button",onClick:I,disabled:f||!n.trim(),"data-testid":"strategy-submit",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-gray-400",children:f?"戦略を生成・検証中...":"戦略を生成・検証"})})]})}function lI(){const[r,e]=tt.useState(1),[n,o]=tt.useState(!1),{keys:a}=ad(),{ohlcData:u,isLoading:f,error:h,triggerRefetch:m}=ES(),[y,I]=tt.useState(null),[O,j]=tt.useState(null),U=E=>{var pe,De,_e,Ye,Fe,Ue,we,_t;switch(E.type){case"Binary":const at=U(E.left),Un=U(E.right),Xt={">":"より大きい","<":"より小さい",">=":"以上","<=":"以下","==":"等しい","!=":"等しくない"};return E.op==="=="&&((pe=E.left)==null?void 0:pe.type)==="Value"&&((De=E.left)==null?void 0:De.value)==="close"&&((_e=E.right)==null?void 0:_e.type)==="Value"&&((Ye=E.right)==null?void 0:Ye.value)==="high"?"ストップ高判定（終値=高値）":E.op==="=="&&((Fe=E.left)==null?void 0:Fe.type)==="Value"&&((Ue=E.left)==null?void 0:Ue.value)===1&&((we=E.right)==null?void 0:we.type)==="Value"&&((_t=E.right)==null?void 0:_t.value)===1?"常に成立する条件（要改善）":`${at}が${Un}${Xt[E.op]||E.op}`;case"Logical":const bt=U(E.left),$t=U(E.right);return`(${bt}) ${{AND:"かつ",OR:"または"}[E.op]} (${$t})`;case"Func":const ze={ma:"移動平均",rsi:"RSI",atr:"ATR",lag:"前日の",shift:"日前の",stop_high:"ストップ高判定",stop_low:"ストップ安判定"}[E.name]||E.name;if(E.name==="ma"&&E.args.length>=2){const M=typeof E.args[1]=="object"?E.args[1].value:E.args[1],K=(typeof E.args[0]=="number",E.args[0]);return`${M}の${K}日${ze}`}else{if(E.name==="rsi"||E.name==="atr")return`${typeof E.args[0]=="number",E.args[0]}日${ze}`;if(E.name==="lag"&&E.args.length>=1){const M=typeof E.args[0]=="object"?U(E.args[0]):E.args[0];return`${E.args[1]||1}日前の${M}`}else{if(E.name==="stop_high")return"ストップ高判定";if(E.name==="stop_low")return"ストップ安判定"}}return`${ze}(${E.args.join(", ")})`;case"Value":return E.kind==="NUMBER"?E.value.toString():{close:"終値",open:"始値",high:"高値",low:"安値",volume:"出来高",price:"価格",entry_price:"エントリー価格"}[E.value]||E.value.toString();default:return"不明な条件"}},W=E=>{const pe=U(E.entry.ast),De=U(E.exit.ast);let _e="一般的な戦略",Ye=[],Fe=[],Ue="";De.includes("ストップ高判定")&&(_e="ストップ高戦略",Ue="ストップ高になった銘柄を空売りし、翌日買い戻す戦略",pe.includes("常に成立する条件")&&(Ye.push("エントリー条件が「常にtrue」になっています。ストップ高検出ロジックが正しく設定されていない可能性があります。"),Fe.push("前日ストップ高判定: lag(close == high, 1)"),Fe.push("ショートポジション方向の明示"),Fe.push("ストップ高率による絞り込み条件"))),(pe.includes("移動平均")||De.includes("移動平均"))&&(_e="移動平均戦略",Ue="移動平均を基準としたトレンドフォロー戦略",(!pe.includes("移動平均")||!De.includes("移動平均"))&&Fe.push("エントリーとエグジットの両方で移動平均を使用することを検討")),(pe.includes("RSI")||De.includes("RSI"))&&(_e="RSI逆張り戦略",Ue="RSIを基準とした過買い・過売りを狙う戦略",pe.includes("RSI")&&De.includes("RSI")||Fe.push("RSI戦略では過買い(>70)と過売り(<30)の両方向を活用することを推奨")),E.cash&&E.cash<1e5&&Ye.push("初期資金が少なすぎます。最低100,000円以上を推奨します。"),E.slippage_bp&&E.slippage_bp>10&&Ye.push("スリッページが高すぎます。通常は3-5bp程度が適切です。");const we=Ue||`${pe}の時にエントリー、${De}の時にエグジット`;return{entryCondition:pe,exitCondition:De,summary:we,strategyType:_e,interpretation:Ue,warnings:Ye,improvements:Fe}},he=async(E,pe,De)=>{I({codes:E,startDate:pe,endDate:De}),console.log("Starting data download..."),await m(E,pe,De)?(console.log("Data download successful, proceeding to next step"),e(2)):console.log("Data download failed, staying on current step")},oe=E=>{j(E),console.log("Strategy submitted:",E),e(3)};return x.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[x.jsxs("header",{className:"flex justify-between items-center py-2 border-b mb-4",children:[x.jsx("h1",{className:"text-2xl font-bold",children:"日本株クライアントサイド・バックテスト"}),x.jsx("button",{onClick:()=>o(!0),className:"px-3 py-2 border rounded text-sm hover:bg-gray-100",children:"APIキー設定"})]}),x.jsx(BS,{isOpen:n,onClose:()=>o(!1)}),x.jsxs("div",{className:"mb-4 p-3 bg-green-100 text-green-800 rounded",children:["✓ アプリケーションが正常に起動しました - ステップ ",r,"/3",a.jquants_refresh&&x.jsx("span",{className:"ml-2 text-green-600",children:"(J-Quants APIキー設定済み)"}),u&&x.jsxs("span",{className:"ml-2 text-blue-600",children:["(",u.length,"件のデータを取得済み)"]}),O&&x.jsx("span",{className:"ml-2 text-purple-600",children:"(戦略定義済み)"})]}),!a.jquants_refresh&&x.jsx("div",{className:"p-4 bg-yellow-100 text-yellow-800 rounded",children:"J-Quants Refresh Tokenが設定されていません。右上の「APIキー設定」からキーを登録してください。"}),h&&x.jsxs("div",{className:"p-4 bg-red-100 text-red-800 rounded",children:[x.jsx("p",{className:"font-semibold",children:"エラーが発生しました:"}),x.jsx("p",{children:h.message})]}),f&&x.jsx("div",{className:"p-4 bg-blue-100 text-blue-800 rounded",children:x.jsx("p",{children:"データをダウンロード中..."})}),x.jsxs("section",{className:"space-y-4",children:[x.jsx("h2",{className:"text-xl font-semibold",children:"1. 銘柄・期間の選択"}),y?x.jsxs("div",{className:"p-4 border rounded bg-gray-50",children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-medium",children:"選択済み:"}),x.jsxs("p",{children:["銘柄: ",y.codes.join(", ")]}),x.jsxs("p",{children:["期間: ",y.startDate," 〜 ",y.endDate]}),u&&x.jsxs("p",{className:"text-green-600 mt-2",children:["✓ ",u.length,"件のデータを取得しました"]})]}),x.jsx("button",{onClick:()=>{I(null),e(1)},className:"text-blue-600 hover:text-blue-800",disabled:f,children:"変更"})]}),x.jsxs("div",{className:"mt-4",children:[x.jsx("button",{onClick:()=>e(2),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-gray-400",disabled:!a.jquants_refresh||!u||f,children:"次のステップへ"}),!a.jquants_refresh&&x.jsx("p",{className:"text-red-500 text-sm mt-2",children:"APIキーを設定してください"}),!u&&a.jquants_refresh&&!f&&x.jsx("p",{className:"text-orange-500 text-sm mt-2",children:"データのダウンロードが必要です"})]})]}):x.jsx(PS,{onSubmit:he,isLoading:f})]}),x.jsxs("section",{className:"space-y-4",children:[x.jsx("h2",{className:"text-xl font-semibold",children:"2. 戦略の定義"}),r>=2?x.jsxs("div",{className:"space-y-4",children:[x.jsx(aI,{onStrategySubmit:oe,apiKeys:a}),x.jsxs("div",{className:"p-4 border rounded bg-amber-50 border-amber-200",children:[x.jsx("h3",{className:"font-medium text-amber-800 mb-2",children:"🔍 戦略分析について"}),x.jsxs("div",{className:"text-sm text-amber-700 space-y-2",children:[x.jsxs("p",{children:[x.jsx("strong",{children:"現在の実装状況"}),"：基本的な戦略パターン（移動平均、RSI、ストップ高）の検出と分析に対応。 複雑な戦略は段階的に改善予定です。"]}),x.jsxs("details",{className:"mt-2",children:[x.jsx("summary",{className:"cursor-pointer font-medium hover:text-amber-800",children:"✅ 実装済み機能 / 🚧 改善予定"}),x.jsxs("div",{className:"mt-2 ml-4 space-y-3 text-xs",children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-medium text-green-700",children:"✅ 実装済み機能:"}),x.jsxs("ul",{className:"list-disc ml-4 space-y-1",children:[x.jsx("li",{children:"基本的なAST→テキスト変換"}),x.jsx("li",{children:"戦略タイプの自動検出"}),x.jsx("li",{children:"警告メッセージと改善提案"}),x.jsx("li",{children:"ストップ高パターンの部分的検出"}),x.jsx("li",{children:"移動平均・RSI戦略の解析"})]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"font-medium text-blue-700",children:"🚧 短期改善予定 (1-2週間):"}),x.jsxs("ul",{className:"list-disc ml-4 space-y-1",children:[x.jsx("li",{children:"前日データ参照 (lag関数) の実装"}),x.jsx("li",{children:"ショートポジション対応"}),x.jsx("li",{children:"Gemini APIプロンプトの精度向上"}),x.jsx("li",{children:"戦略修正支援機能"})]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"font-medium text-purple-700",children:"🚧 中期改善予定 (1-2ヶ月):"}),x.jsxs("ul",{className:"list-disc ml-4 space-y-1",children:[x.jsx("li",{children:"専用ストップ高関数 (stop_high) の完全実装"}),x.jsx("li",{children:"高度なタイミング制御"}),x.jsx("li",{children:"マルチ銘柄対応"}),x.jsx("li",{children:"独自DSL開発の検討"})]})]})]})]})]})]}),O&&x.jsxs("div",{className:"p-4 border rounded bg-blue-50",children:[x.jsxs("div",{className:"flex justify-between items-start mb-3",children:[x.jsx("h3",{className:"font-medium text-lg",children:"現在設定されている戦略"}),x.jsx("button",{onClick:()=>j(null),className:"text-red-600 hover:text-red-800 text-sm",children:"戦略をクリア"})]}),x.jsxs("div",{className:"space-y-2 text-sm",children:[x.jsxs("div",{className:"mb-4 p-3 bg-gray-100 rounded",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("span",{className:"font-medium text-gray-700",children:"戦略タイプ: "}),x.jsx("span",{className:"text-blue-600 font-semibold",children:W(O).strategyType})]}),x.jsx("span",{className:"text-green-600 font-medium",children:"✓ 設定完了"})]}),W(O).interpretation&&x.jsx("p",{className:"text-gray-600 mt-2 italic",children:W(O).interpretation})]}),W(O).warnings.length>0&&x.jsxs("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded",children:[x.jsx("p",{className:"font-medium text-yellow-800 mb-2",children:"⚠️ 戦略分析の警告:"}),W(O).warnings.map((E,pe)=>x.jsxs("p",{className:"text-yellow-700 text-sm mb-1",children:["• ",E]},pe))]}),W(O).improvements.length>0&&x.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded",children:[x.jsx("p",{className:"font-medium text-blue-800 mb-2",children:"💡 改善提案:"}),W(O).improvements.map((E,pe)=>x.jsxs("p",{className:"text-blue-700 text-sm mb-1",children:["• ",E]},pe))]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-medium text-gray-700",children:"エントリー条件:"}),x.jsx("p",{className:"text-gray-900 bg-white p-2 rounded border",children:W(O).entryCondition}),x.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["タイミング:"," ",O.entry.timing==="next_open"?"翌営業日の始値":"当日終値"]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"font-medium text-gray-700",children:"エグジット条件:"}),x.jsx("p",{className:"text-gray-900 bg-white p-2 rounded border",children:W(O).exitCondition}),x.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["タイミング:"," ",O.exit.timing==="current_close"?"当日終値":O.exit.timing]})]})]}),x.jsxs("div",{className:"mt-4 pt-3 border-t border-blue-200",children:[x.jsx("p",{className:"font-medium text-gray-700 mb-2",children:"戦略サマリー:"}),x.jsx("p",{className:"text-gray-900 bg-white p-3 rounded border italic",children:W(O).summary})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4 pt-3 border-t border-blue-200",children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-medium text-gray-700",children:"対象銘柄:"}),x.jsx("p",{className:"text-gray-900",children:O.universe.join(", ")})]}),x.jsxs("div",{children:[x.jsx("p",{className:"font-medium text-gray-700",children:"初期資金:"}),x.jsx("p",{className:"text-gray-900",children:O.cash?`${O.cash.toLocaleString()}円`:"1,000,000円(デフォルト)"})]}),x.jsxs("div",{children:[x.jsx("p",{className:"font-medium text-gray-700",children:"スリッページ:"}),x.jsx("p",{className:"text-gray-900",children:O.slippage_bp?`${O.slippage_bp}bp`:"3bp(デフォルト)"})]})]})]}),x.jsx("div",{className:"mt-4 pt-3 border-t border-blue-200",children:x.jsx("button",{onClick:()=>e(3),className:"px-6 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"この戦略でバックテストを実行"})})]})]}):x.jsx("p",{className:"text-gray-500",children:"前のステップを完了してください"})]}),x.jsxs("section",{className:"space-y-4",children:[x.jsx("h2",{className:"text-xl font-semibold",children:"3. バックテスト結果"}),r>=3?x.jsxs("div",{className:"p-4 border rounded bg-green-50",children:[x.jsx("p",{className:"font-semibold mb-2",children:"✓ バックテスト準備完了"}),x.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"データと戦略の準備が完了しました。次はバックテストエンジンの統合を行います。"}),x.jsxs("div",{className:"space-x-2",children:[x.jsx("button",{onClick:()=>{e(1),I(null),j(null)},className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"リセット"}),x.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",disabled:!0,children:"バックテスト実行 (実装予定)"})]})]}):x.jsx("p",{className:"text-gray-500",children:"前のステップを完了してください"})]})]})}G0.createRoot(document.getElementById("root")).render(x.jsx(W0.StrictMode,{children:x.jsx(lI,{})}));

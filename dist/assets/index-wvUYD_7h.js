(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();function By(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ic={exports:{}},Ys={},kc={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp;function W0(){if(Dp)return Ie;Dp=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),O=Symbol.iterator;function E(v){return v===null||typeof v!="object"?null:(v=O&&v[O]||v["@@iterator"],typeof v=="function"?v:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,ye={};function de(v,N,K){this.props=v,this.context=N,this.refs=ye,this.updater=K||V}de.prototype.isReactComponent={},de.prototype.setState=function(v,N){if(typeof v!="object"&&typeof v!="function"&&v!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,v,N,"setState")},de.prototype.forceUpdate=function(v){this.updater.enqueueForceUpdate(this,v,"forceUpdate")};function Pe(){}Pe.prototype=de.prototype;function ne(v,N,K){this.props=v,this.context=N,this.refs=ye,this.updater=K||V}var Ke=ne.prototype=new Pe;Ke.constructor=ne,Z(Ke,de.prototype),Ke.isPureReactComponent=!0;var fe=Array.isArray,ht=Object.prototype.hasOwnProperty,it={current:null},et={key:!0,ref:!0,__self:!0,__source:!0};function pt(v,N,K){var we,he={},Ae=null,be=null;if(N!=null)for(we in N.ref!==void 0&&(be=N.ref),N.key!==void 0&&(Ae=""+N.key),N)ht.call(N,we)&&!et.hasOwnProperty(we)&&(he[we]=N[we]);var Ue=arguments.length-2;if(Ue===1)he.children=K;else if(1<Ue){for(var Be=Array(Ue),Pt=0;Pt<Ue;Pt++)Be[Pt]=arguments[Pt+2];he.children=Be}if(v&&v.defaultProps)for(we in Ue=v.defaultProps,Ue)he[we]===void 0&&(he[we]=Ue[we]);return{$$typeof:r,type:v,key:Ae,ref:be,props:he,_owner:it.current}}function kt(v,N){return{$$typeof:r,type:v.type,key:N,ref:v.ref,props:v.props,_owner:v._owner}}function tt(v){return typeof v=="object"&&v!==null&&v.$$typeof===r}function Ne(v){var N={"=":"=0",":":"=2"};return"$"+v.replace(/[=:]/g,function(K){return N[K]})}var Mt=/\/+/g;function _t(v,N){return typeof v=="object"&&v!==null&&v.key!=null?Ne(""+v.key):N.toString(36)}function xt(v,N,K,we,he){var Ae=typeof v;(Ae==="undefined"||Ae==="boolean")&&(v=null);var be=!1;if(v===null)be=!0;else switch(Ae){case"string":case"number":be=!0;break;case"object":switch(v.$$typeof){case r:case e:be=!0}}if(be)return be=v,he=he(be),v=we===""?"."+_t(be,0):we,fe(he)?(K="",v!=null&&(K=v.replace(Mt,"$&/")+"/"),xt(he,N,K,"",function(Pt){return Pt})):he!=null&&(tt(he)&&(he=kt(he,K+(!he.key||be&&be.key===he.key?"":(""+he.key).replace(Mt,"$&/")+"/")+v)),N.push(he)),1;if(be=0,we=we===""?".":we+":",fe(v))for(var Ue=0;Ue<v.length;Ue++){Ae=v[Ue];var Be=we+_t(Ae,Ue);be+=xt(Ae,N,K,Be,he)}else if(Be=E(v),typeof Be=="function")for(v=Be.call(v),Ue=0;!(Ae=v.next()).done;)Ae=Ae.value,Be=we+_t(Ae,Ue++),be+=xt(Ae,N,K,Be,he);else if(Ae==="object")throw N=String(v),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.");return be}function Tt(v,N,K){if(v==null)return v;var we=[],he=0;return xt(v,we,"","",function(Ae){return N.call(K,Ae,he++)}),we}function ve(v){if(v._status===-1){var N=v._result;N=N(),N.then(function(K){(v._status===0||v._status===-1)&&(v._status=1,v._result=K)},function(K){(v._status===0||v._status===-1)&&(v._status=2,v._result=K)}),v._status===-1&&(v._status=0,v._result=N)}if(v._status===1)return v._result.default;throw v._result}var Q={current:null},F={transition:null},Y={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:F,ReactCurrentOwner:it};return Ie.Children={map:Tt,forEach:function(v,N,K){Tt(v,function(){N.apply(this,arguments)},K)},count:function(v){var N=0;return Tt(v,function(){N++}),N},toArray:function(v){return Tt(v,function(N){return N})||[]},only:function(v){if(!tt(v))throw Error("React.Children.only expected to receive a single React element child.");return v}},Ie.Component=de,Ie.Fragment=n,Ie.Profiler=a,Ie.PureComponent=ne,Ie.StrictMode=s,Ie.Suspense=y,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Ie.cloneElement=function(v,N,K){if(v==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+v+".");var we=Z({},v.props),he=v.key,Ae=v.ref,be=v._owner;if(N!=null){if(N.ref!==void 0&&(Ae=N.ref,be=it.current),N.key!==void 0&&(he=""+N.key),v.type&&v.type.defaultProps)var Ue=v.type.defaultProps;for(Be in N)ht.call(N,Be)&&!et.hasOwnProperty(Be)&&(we[Be]=N[Be]===void 0&&Ue!==void 0?Ue[Be]:N[Be])}var Be=arguments.length-2;if(Be===1)we.children=K;else if(1<Be){Ue=Array(Be);for(var Pt=0;Pt<Be;Pt++)Ue[Pt]=arguments[Pt+2];we.children=Ue}return{$$typeof:r,type:v.type,key:he,ref:Ae,props:we,_owner:be}},Ie.createContext=function(v){return v={$$typeof:f,_currentValue:v,_currentValue2:v,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},v.Provider={$$typeof:u,_context:v},v.Consumer=v},Ie.createElement=pt,Ie.createFactory=function(v){var N=pt.bind(null,v);return N.type=v,N},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(v){return{$$typeof:h,render:v}},Ie.isValidElement=tt,Ie.lazy=function(v){return{$$typeof:_,_payload:{_status:-1,_result:v},_init:ve}},Ie.memo=function(v,N){return{$$typeof:m,type:v,compare:N===void 0?null:N}},Ie.startTransition=function(v){var N=F.transition;F.transition={};try{v()}finally{F.transition=N}},Ie.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Ie.useCallback=function(v,N){return Q.current.useCallback(v,N)},Ie.useContext=function(v){return Q.current.useContext(v)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(v){return Q.current.useDeferredValue(v)},Ie.useEffect=function(v,N){return Q.current.useEffect(v,N)},Ie.useId=function(){return Q.current.useId()},Ie.useImperativeHandle=function(v,N,K){return Q.current.useImperativeHandle(v,N,K)},Ie.useInsertionEffect=function(v,N){return Q.current.useInsertionEffect(v,N)},Ie.useLayoutEffect=function(v,N){return Q.current.useLayoutEffect(v,N)},Ie.useMemo=function(v,N){return Q.current.useMemo(v,N)},Ie.useReducer=function(v,N,K){return Q.current.useReducer(v,N,K)},Ie.useRef=function(v){return Q.current.useRef(v)},Ie.useState=function(v){return Q.current.useState(v)},Ie.useSyncExternalStore=function(v,N,K){return Q.current.useSyncExternalStore(v,N,K)},Ie.useTransition=function(){return Q.current.useTransition()},Ie.version="18.3.0",Ie}var Tp;function dd(){return Tp||(Tp=1,kc.exports=W0()),kc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function H0(){if(Cp)return Ys;Cp=1;var r=dd(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function f(h,y,m){var _,O={},E=null,V=null;m!==void 0&&(E=""+m),y.key!==void 0&&(E=""+y.key),y.ref!==void 0&&(V=y.ref);for(_ in y)s.call(y,_)&&!u.hasOwnProperty(_)&&(O[_]=y[_]);if(h&&h.defaultProps)for(_ in y=h.defaultProps,y)O[_]===void 0&&(O[_]=y[_]);return{$$typeof:e,type:h,key:E,ref:V,props:O,_owner:a.current}}return Ys.Fragment=n,Ys.jsx=f,Ys.jsxs=f,Ys}var Ap;function K0(){return Ap||(Ap=1,Ic.exports=H0()),Ic.exports}var C=K0(),ge=dd();const Y0=By(ge);var Aa={},xc={exports:{}},$t={},bc={exports:{}},Oc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep;function Q0(){return Ep||(Ep=1,function(r){function e(F,Y){var v=F.length;F.push(Y);e:for(;0<v;){var N=v-1>>>1,K=F[N];if(0<a(K,Y))F[N]=Y,F[v]=K,v=N;else break e}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var Y=F[0],v=F.pop();if(v!==Y){F[0]=v;e:for(var N=0,K=F.length,we=K>>>1;N<we;){var he=2*(N+1)-1,Ae=F[he],be=he+1,Ue=F[be];if(0>a(Ae,v))be<K&&0>a(Ue,Ae)?(F[N]=Ue,F[be]=v,N=be):(F[N]=Ae,F[he]=v,N=he);else if(be<K&&0>a(Ue,v))F[N]=Ue,F[be]=v,N=be;else break e}}return Y}function a(F,Y){var v=F.sortIndex-Y.sortIndex;return v!==0?v:F.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();r.unstable_now=function(){return f.now()-h}}var y=[],m=[],_=1,O=null,E=3,V=!1,Z=!1,ye=!1,de=typeof setTimeout=="function"?setTimeout:null,Pe=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ke(F){for(var Y=n(m);Y!==null;){if(Y.callback===null)s(m);else if(Y.startTime<=F)s(m),Y.sortIndex=Y.expirationTime,e(y,Y);else break;Y=n(m)}}function fe(F){if(ye=!1,Ke(F),!Z)if(n(y)!==null)Z=!0,ve(ht);else{var Y=n(m);Y!==null&&Q(fe,Y.startTime-F)}}function ht(F,Y){Z=!1,ye&&(ye=!1,Pe(pt),pt=-1),V=!0;var v=E;try{for(Ke(Y),O=n(y);O!==null&&(!(O.expirationTime>Y)||F&&!Ne());){var N=O.callback;if(typeof N=="function"){O.callback=null,E=O.priorityLevel;var K=N(O.expirationTime<=Y);Y=r.unstable_now(),typeof K=="function"?O.callback=K:O===n(y)&&s(y),Ke(Y)}else s(y);O=n(y)}if(O!==null)var we=!0;else{var he=n(m);he!==null&&Q(fe,he.startTime-Y),we=!1}return we}finally{O=null,E=v,V=!1}}var it=!1,et=null,pt=-1,kt=5,tt=-1;function Ne(){return!(r.unstable_now()-tt<kt)}function Mt(){if(et!==null){var F=r.unstable_now();tt=F;var Y=!0;try{Y=et(!0,F)}finally{Y?_t():(it=!1,et=null)}}else it=!1}var _t;if(typeof ne=="function")_t=function(){ne(Mt)};else if(typeof MessageChannel<"u"){var xt=new MessageChannel,Tt=xt.port2;xt.port1.onmessage=Mt,_t=function(){Tt.postMessage(null)}}else _t=function(){de(Mt,0)};function ve(F){et=F,it||(it=!0,_t())}function Q(F,Y){pt=de(function(){F(r.unstable_now())},Y)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_continueExecution=function(){Z||V||(Z=!0,ve(ht))},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):kt=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return E},r.unstable_getFirstCallbackNode=function(){return n(y)},r.unstable_next=function(F){switch(E){case 1:case 2:case 3:var Y=3;break;default:Y=E}var v=E;E=Y;try{return F()}finally{E=v}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(F,Y){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var v=E;E=F;try{return Y()}finally{E=v}},r.unstable_scheduleCallback=function(F,Y,v){var N=r.unstable_now();switch(typeof v=="object"&&v!==null?(v=v.delay,v=typeof v=="number"&&0<v?N+v:N):v=N,F){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=v+K,F={id:_++,callback:Y,priorityLevel:F,startTime:v,expirationTime:K,sortIndex:-1},v>N?(F.sortIndex=v,e(m,F),n(y)===null&&F===n(m)&&(ye?(Pe(pt),pt=-1):ye=!0,Q(fe,v-N))):(F.sortIndex=K,e(y,F),Z||V||(Z=!0,ve(ht))),F},r.unstable_shouldYield=Ne,r.unstable_wrapCallback=function(F){var Y=E;return function(){var v=E;E=Y;try{return F.apply(this,arguments)}finally{E=v}}}}(Oc)),Oc}var Bp;function J0(){return Bp||(Bp=1,bc.exports=Q0()),bc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function q0(){if(Lp)return $t;Lp=1;var r=dd(),e=J0();function n(t){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function u(t,i){f(t,i),f(t+"Capture",i)}function f(t,i){for(a[t]=i,t=0;t<i.length;t++)s.add(i[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},O={};function E(t){return y.call(O,t)?!0:y.call(_,t)?!1:m.test(t)?O[t]=!0:(_[t]=!0,!1)}function V(t,i,o,l){if(o!==null&&o.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return l?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Z(t,i,o,l){if(i===null||typeof i>"u"||V(t,i,o,l))return!0;if(l)return!1;if(o!==null)switch(o.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function ye(t,i,o,l,c,d,p){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=l,this.attributeNamespace=c,this.mustUseProperty=o,this.propertyName=t,this.type=i,this.sanitizeURL=d,this.removeEmptyString=p}var de={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){de[t]=new ye(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var i=t[0];de[i]=new ye(i,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){de[t]=new ye(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){de[t]=new ye(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){de[t]=new ye(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){de[t]=new ye(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){de[t]=new ye(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){de[t]=new ye(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){de[t]=new ye(t,5,!1,t.toLowerCase(),null,!1,!1)});var Pe=/[\-:]([a-z])/g;function ne(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var i=t.replace(Pe,ne);de[i]=new ye(i,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var i=t.replace(Pe,ne);de[i]=new ye(i,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var i=t.replace(Pe,ne);de[i]=new ye(i,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){de[t]=new ye(t,1,!1,t.toLowerCase(),null,!1,!1)}),de.xlinkHref=new ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){de[t]=new ye(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ke(t,i,o,l){var c=de.hasOwnProperty(i)?de[i]:null;(c!==null?c.type!==0:l||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(Z(i,o,c,l)&&(o=null),l||c===null?E(i)&&(o===null?t.removeAttribute(i):t.setAttribute(i,""+o)):c.mustUseProperty?t[c.propertyName]=o===null?c.type===3?!1:"":o:(i=c.attributeName,l=c.attributeNamespace,o===null?t.removeAttribute(i):(c=c.type,o=c===3||c===4&&o===!0?"":""+o,l?t.setAttributeNS(l,i,o):t.setAttribute(i,o))))}var fe=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ht=Symbol.for("react.element"),it=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),pt=Symbol.for("react.strict_mode"),kt=Symbol.for("react.profiler"),tt=Symbol.for("react.provider"),Ne=Symbol.for("react.context"),Mt=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),Tt=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),F=Symbol.iterator;function Y(t){return t===null||typeof t!="object"?null:(t=F&&t[F]||t["@@iterator"],typeof t=="function"?t:null)}var v=Object.assign,N;function K(t){if(N===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);N=i&&i[1]||""}return`
`+N+t}var we=!1;function he(t,i){if(!t||we)return"";we=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(b){var l=b}Reflect.construct(t,[],i)}else{try{i.call()}catch(b){l=b}t.call(i.prototype)}else{try{throw Error()}catch(b){l=b}t()}}catch(b){if(b&&l&&typeof b.stack=="string"){for(var c=b.stack.split(`
`),d=l.stack.split(`
`),p=c.length-1,g=d.length-1;1<=p&&0<=g&&c[p]!==d[g];)g--;for(;1<=p&&0<=g;p--,g--)if(c[p]!==d[g]){if(p!==1||g!==1)do if(p--,g--,0>g||c[p]!==d[g]){var w=`
`+c[p].replace(" at new "," at ");return t.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",t.displayName)),w}while(1<=p&&0<=g);break}}}finally{we=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?K(t):""}function Ae(t){switch(t.tag){case 5:return K(t.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return t=he(t.type,!1),t;case 11:return t=he(t.type.render,!1),t;case 1:return t=he(t.type,!0),t;default:return""}}function be(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case et:return"Fragment";case it:return"Portal";case kt:return"Profiler";case pt:return"StrictMode";case _t:return"Suspense";case xt:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ne:return(t.displayName||"Context")+".Consumer";case tt:return(t._context.displayName||"Context")+".Provider";case Mt:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Tt:return i=t.displayName||null,i!==null?i:be(t.type)||"Memo";case ve:i=t._payload,t=t._init;try{return be(t(i))}catch{}}return null}function Ue(t){var i=t.type;switch(t.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=i.render,t=t.displayName||t.name||"",i.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(i);case 8:return i===pt?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Be(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pt(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Yg(t){var i=Pt(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,d=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return c.call(this)},set:function(p){l=""+p,d.call(this,p)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return l},setValue:function(p){l=""+p},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function So(t){t._valueTracker||(t._valueTracker=Yg(t))}function Bd(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var o=i.getValue(),l="";return t&&(l=Pt(t)?t.checked?"true":"false":t.value),t=l,t!==o?(i.setValue(t),!0):!1}function Io(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Tl(t,i){var o=i.checked;return v({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Ld(t,i){var o=i.defaultValue==null?"":i.defaultValue,l=i.checked!=null?i.checked:i.defaultChecked;o=Be(i.value!=null?i.value:o),t._wrapperState={initialChecked:l,initialValue:o,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Fd(t,i){i=i.checked,i!=null&&Ke(t,"checked",i,!1)}function Cl(t,i){Fd(t,i);var o=Be(i.value),l=i.type;if(o!=null)l==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(l==="submit"||l==="reset"){t.removeAttribute("value");return}i.hasOwnProperty("value")?Al(t,i.type,o):i.hasOwnProperty("defaultValue")&&Al(t,i.type,Be(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(t.defaultChecked=!!i.defaultChecked)}function Md(t,i,o){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var l=i.type;if(!(l!=="submit"&&l!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+t._wrapperState.initialValue,o||i===t.value||(t.value=i),t.defaultValue=i}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Al(t,i,o){(i!=="number"||Io(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var us=Array.isArray;function di(t,i,o,l){if(t=t.options,i){i={};for(var c=0;c<o.length;c++)i["$"+o[c]]=!0;for(o=0;o<t.length;o++)c=i.hasOwnProperty("$"+t[o].value),t[o].selected!==c&&(t[o].selected=c),c&&l&&(t[o].defaultSelected=!0)}else{for(o=""+Be(o),i=null,c=0;c<t.length;c++){if(t[c].value===o){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}i!==null||t[c].disabled||(i=t[c])}i!==null&&(i.selected=!0)}}function El(t,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return v({},i,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Pd(t,i){var o=i.value;if(o==null){if(o=i.children,i=i.defaultValue,o!=null){if(i!=null)throw Error(n(92));if(us(o)){if(1<o.length)throw Error(n(93));o=o[0]}i=o}i==null&&(i=""),o=i}t._wrapperState={initialValue:Be(o)}}function jd(t,i){var o=Be(i.value),l=Be(i.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),i.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),l!=null&&(t.defaultValue=""+l)}function Rd(t){var i=t.textContent;i===t._wrapperState.initialValue&&i!==""&&i!==null&&(t.value=i)}function Ud(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bl(t,i){return t==null||t==="http://www.w3.org/1999/xhtml"?Ud(i):t==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ko,zd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,o,l,c){MSApp.execUnsafeLocalFunction(function(){return t(i,o,l,c)})}:t}(function(t,i){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=i;else{for(ko=ko||document.createElement("div"),ko.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=ko.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;i.firstChild;)t.appendChild(i.firstChild)}});function cs(t,i){if(i){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=i;return}}t.textContent=i}var ds={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qg=["Webkit","ms","Moz","O"];Object.keys(ds).forEach(function(t){Qg.forEach(function(i){i=i+t.charAt(0).toUpperCase()+t.substring(1),ds[i]=ds[t]})});function Vd(t,i,o){return i==null||typeof i=="boolean"||i===""?"":o||typeof i!="number"||i===0||ds.hasOwnProperty(t)&&ds[t]?(""+i).trim():i+"px"}function $d(t,i){t=t.style;for(var o in i)if(i.hasOwnProperty(o)){var l=o.indexOf("--")===0,c=Vd(o,i[o],l);o==="float"&&(o="cssFloat"),l?t.setProperty(o,c):t[o]=c}}var Jg=v({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ll(t,i){if(i){if(Jg[t]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Fl(t,i){if(t.indexOf("-")===-1)return typeof i.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ml=null;function Pl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jl=null,fi=null,hi=null;function Zd(t){if(t=Bs(t)){if(typeof jl!="function")throw Error(n(280));var i=t.stateNode;i&&(i=Ho(i),jl(t.stateNode,t.type,i))}}function Wd(t){fi?hi?hi.push(t):hi=[t]:fi=t}function Hd(){if(fi){var t=fi,i=hi;if(hi=fi=null,Zd(t),i)for(t=0;t<i.length;t++)Zd(i[t])}}function Kd(t,i){return t(i)}function Yd(){}var Rl=!1;function Qd(t,i,o){if(Rl)return t(i,o);Rl=!0;try{return Kd(t,i,o)}finally{Rl=!1,(fi!==null||hi!==null)&&(Yd(),Hd())}}function fs(t,i){var o=t.stateNode;if(o===null)return null;var l=Ho(o);if(l===null)return null;o=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,i,typeof o));return o}var Ul=!1;if(h)try{var hs={};Object.defineProperty(hs,"passive",{get:function(){Ul=!0}}),window.addEventListener("test",hs,hs),window.removeEventListener("test",hs,hs)}catch{Ul=!1}function qg(t,i,o,l,c,d,p,g,w){var b=Array.prototype.slice.call(arguments,3);try{i.apply(o,b)}catch(T){this.onError(T)}}var ps=!1,xo=null,bo=!1,zl=null,Gg={onError:function(t){ps=!0,xo=t}};function Xg(t,i,o,l,c,d,p,g,w){ps=!1,xo=null,qg.apply(Gg,arguments)}function ev(t,i,o,l,c,d,p,g,w){if(Xg.apply(this,arguments),ps){if(ps){var b=xo;ps=!1,xo=null}else throw Error(n(198));bo||(bo=!0,zl=b)}}function Hr(t){var i=t,o=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(o=i.return),t=i.return;while(t)}return i.tag===3?o:null}function Jd(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function qd(t){if(Hr(t)!==t)throw Error(n(188))}function tv(t){var i=t.alternate;if(!i){if(i=Hr(t),i===null)throw Error(n(188));return i!==t?null:t}for(var o=t,l=i;;){var c=o.return;if(c===null)break;var d=c.alternate;if(d===null){if(l=c.return,l!==null){o=l;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===o)return qd(c),t;if(d===l)return qd(c),i;d=d.sibling}throw Error(n(188))}if(o.return!==l.return)o=c,l=d;else{for(var p=!1,g=c.child;g;){if(g===o){p=!0,o=c,l=d;break}if(g===l){p=!0,l=c,o=d;break}g=g.sibling}if(!p){for(g=d.child;g;){if(g===o){p=!0,o=d,l=c;break}if(g===l){p=!0,l=d,o=c;break}g=g.sibling}if(!p)throw Error(n(189))}}if(o.alternate!==l)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:i}function Gd(t){return t=tv(t),t!==null?Xd(t):null}function Xd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var i=Xd(t);if(i!==null)return i;t=t.sibling}return null}var ef=e.unstable_scheduleCallback,tf=e.unstable_cancelCallback,nv=e.unstable_shouldYield,rv=e.unstable_requestPaint,nt=e.unstable_now,iv=e.unstable_getCurrentPriorityLevel,Vl=e.unstable_ImmediatePriority,nf=e.unstable_UserBlockingPriority,Oo=e.unstable_NormalPriority,sv=e.unstable_LowPriority,rf=e.unstable_IdlePriority,No=null,Dn=null;function ov(t){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(No,t,void 0,(t.current.flags&128)===128)}catch{}}var vn=Math.clz32?Math.clz32:uv,av=Math.log,lv=Math.LN2;function uv(t){return t>>>=0,t===0?32:31-(av(t)/lv|0)|0}var Do=64,To=4194304;function ys(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Co(t,i){var o=t.pendingLanes;if(o===0)return 0;var l=0,c=t.suspendedLanes,d=t.pingedLanes,p=o&268435455;if(p!==0){var g=p&~c;g!==0?l=ys(g):(d&=p,d!==0&&(l=ys(d)))}else p=o&~c,p!==0?l=ys(p):d!==0&&(l=ys(d));if(l===0)return 0;if(i!==0&&i!==l&&(i&c)===0&&(c=l&-l,d=i&-i,c>=d||c===16&&(d&4194240)!==0))return i;if((l&4)!==0&&(l|=o&16),i=t.entangledLanes,i!==0)for(t=t.entanglements,i&=l;0<i;)o=31-vn(i),c=1<<o,l|=t[o],i&=~c;return l}function cv(t,i){switch(t){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dv(t,i){for(var o=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,d=t.pendingLanes;0<d;){var p=31-vn(d),g=1<<p,w=c[p];w===-1?((g&o)===0||(g&l)!==0)&&(c[p]=cv(g,i)):w<=i&&(t.expiredLanes|=g),d&=~g}}function $l(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function sf(){var t=Do;return Do<<=1,(Do&4194240)===0&&(Do=64),t}function Zl(t){for(var i=[],o=0;31>o;o++)i.push(t);return i}function ms(t,i,o){t.pendingLanes|=i,i!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,i=31-vn(i),t[i]=o}function fv(t,i){var o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;var l=t.eventTimes;for(t=t.expirationTimes;0<o;){var c=31-vn(o),d=1<<c;i[c]=0,l[c]=-1,t[c]=-1,o&=~d}}function Wl(t,i){var o=t.entangledLanes|=i;for(t=t.entanglements;o;){var l=31-vn(o),c=1<<l;c&i|t[l]&i&&(t[l]|=i),o&=~c}}var je=0;function of(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var af,Hl,lf,uf,cf,Kl=!1,Ao=[],hr=null,pr=null,yr=null,gs=new Map,vs=new Map,mr=[],hv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function df(t,i){switch(t){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":gs.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":vs.delete(i.pointerId)}}function _s(t,i,o,l,c,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:o,eventSystemFlags:l,nativeEvent:d,targetContainers:[c]},i!==null&&(i=Bs(i),i!==null&&Hl(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,c!==null&&i.indexOf(c)===-1&&i.push(c),t)}function pv(t,i,o,l,c){switch(i){case"focusin":return hr=_s(hr,t,i,o,l,c),!0;case"dragenter":return pr=_s(pr,t,i,o,l,c),!0;case"mouseover":return yr=_s(yr,t,i,o,l,c),!0;case"pointerover":var d=c.pointerId;return gs.set(d,_s(gs.get(d)||null,t,i,o,l,c)),!0;case"gotpointercapture":return d=c.pointerId,vs.set(d,_s(vs.get(d)||null,t,i,o,l,c)),!0}return!1}function ff(t){var i=Kr(t.target);if(i!==null){var o=Hr(i);if(o!==null){if(i=o.tag,i===13){if(i=Jd(o),i!==null){t.blockedOn=i,cf(t.priority,function(){lf(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Eo(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var o=Ql(t.domEventName,t.eventSystemFlags,i[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var l=new o.constructor(o.type,o);Ml=l,o.target.dispatchEvent(l),Ml=null}else return i=Bs(o),i!==null&&Hl(i),t.blockedOn=o,!1;i.shift()}return!0}function hf(t,i,o){Eo(t)&&o.delete(i)}function yv(){Kl=!1,hr!==null&&Eo(hr)&&(hr=null),pr!==null&&Eo(pr)&&(pr=null),yr!==null&&Eo(yr)&&(yr=null),gs.forEach(hf),vs.forEach(hf)}function ws(t,i){t.blockedOn===i&&(t.blockedOn=null,Kl||(Kl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,yv)))}function Ss(t){function i(c){return ws(c,t)}if(0<Ao.length){ws(Ao[0],t);for(var o=1;o<Ao.length;o++){var l=Ao[o];l.blockedOn===t&&(l.blockedOn=null)}}for(hr!==null&&ws(hr,t),pr!==null&&ws(pr,t),yr!==null&&ws(yr,t),gs.forEach(i),vs.forEach(i),o=0;o<mr.length;o++)l=mr[o],l.blockedOn===t&&(l.blockedOn=null);for(;0<mr.length&&(o=mr[0],o.blockedOn===null);)ff(o),o.blockedOn===null&&mr.shift()}var pi=fe.ReactCurrentBatchConfig,Bo=!0;function mv(t,i,o,l){var c=je,d=pi.transition;pi.transition=null;try{je=1,Yl(t,i,o,l)}finally{je=c,pi.transition=d}}function gv(t,i,o,l){var c=je,d=pi.transition;pi.transition=null;try{je=4,Yl(t,i,o,l)}finally{je=c,pi.transition=d}}function Yl(t,i,o,l){if(Bo){var c=Ql(t,i,o,l);if(c===null)fu(t,i,l,Lo,o),df(t,l);else if(pv(c,t,i,o,l))l.stopPropagation();else if(df(t,l),i&4&&-1<hv.indexOf(t)){for(;c!==null;){var d=Bs(c);if(d!==null&&af(d),d=Ql(t,i,o,l),d===null&&fu(t,i,l,Lo,o),d===c)break;c=d}c!==null&&l.stopPropagation()}else fu(t,i,l,null,o)}}var Lo=null;function Ql(t,i,o,l){if(Lo=null,t=Pl(l),t=Kr(t),t!==null)if(i=Hr(t),i===null)t=null;else if(o=i.tag,o===13){if(t=Jd(i),t!==null)return t;t=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null);return Lo=t,null}function pf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iv()){case Vl:return 1;case nf:return 4;case Oo:case sv:return 16;case rf:return 536870912;default:return 16}default:return 16}}var gr=null,Jl=null,Fo=null;function yf(){if(Fo)return Fo;var t,i=Jl,o=i.length,l,c="value"in gr?gr.value:gr.textContent,d=c.length;for(t=0;t<o&&i[t]===c[t];t++);var p=o-t;for(l=1;l<=p&&i[o-l]===c[d-l];l++);return Fo=c.slice(t,1<l?1-l:void 0)}function Mo(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Po(){return!0}function mf(){return!1}function Qt(t){function i(o,l,c,d,p){this._reactName=o,this._targetInst=c,this.type=l,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var g in t)t.hasOwnProperty(g)&&(o=t[g],this[g]=o?o(d):d[g]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Po:mf,this.isPropagationStopped=mf,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Po)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Po)},persist:function(){},isPersistent:Po}),i}var yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ql=Qt(yi),Is=v({},yi,{view:0,detail:0}),vv=Qt(Is),Gl,Xl,ks,jo=v({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ks&&(ks&&t.type==="mousemove"?(Gl=t.screenX-ks.screenX,Xl=t.screenY-ks.screenY):Xl=Gl=0,ks=t),Gl)},movementY:function(t){return"movementY"in t?t.movementY:Xl}}),gf=Qt(jo),_v=v({},jo,{dataTransfer:0}),wv=Qt(_v),Sv=v({},Is,{relatedTarget:0}),eu=Qt(Sv),Iv=v({},yi,{animationName:0,elapsedTime:0,pseudoElement:0}),kv=Qt(Iv),xv=v({},yi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bv=Qt(xv),Ov=v({},yi,{data:0}),vf=Qt(Ov),Nv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cv(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Tv[t])?!!i[t]:!1}function tu(){return Cv}var Av=v({},Is,{key:function(t){if(t.key){var i=Nv[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Mo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Dv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tu,charCode:function(t){return t.type==="keypress"?Mo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ev=Qt(Av),Bv=v({},jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_f=Qt(Bv),Lv=v({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tu}),Fv=Qt(Lv),Mv=v({},yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pv=Qt(Mv),jv=v({},jo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Rv=Qt(jv),Uv=[9,13,27,32],nu=h&&"CompositionEvent"in window,xs=null;h&&"documentMode"in document&&(xs=document.documentMode);var zv=h&&"TextEvent"in window&&!xs,wf=h&&(!nu||xs&&8<xs&&11>=xs),Sf=" ",If=!1;function kf(t,i){switch(t){case"keyup":return Uv.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mi=!1;function Vv(t,i){switch(t){case"compositionend":return xf(i);case"keypress":return i.which!==32?null:(If=!0,Sf);case"textInput":return t=i.data,t===Sf&&If?null:t;default:return null}}function $v(t,i){if(mi)return t==="compositionend"||!nu&&kf(t,i)?(t=yf(),Fo=Jl=gr=null,mi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return wf&&i.locale!=="ko"?null:i.data;default:return null}}var Zv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Zv[t.type]:i==="textarea"}function Of(t,i,o,l){Wd(l),i=$o(i,"onChange"),0<i.length&&(o=new ql("onChange","change",null,o,l),t.push({event:o,listeners:i}))}var bs=null,Os=null;function Wv(t){Zf(t,0)}function Ro(t){var i=Si(t);if(Bd(i))return t}function Hv(t,i){if(t==="change")return i}var Nf=!1;if(h){var ru;if(h){var iu="oninput"in document;if(!iu){var Df=document.createElement("div");Df.setAttribute("oninput","return;"),iu=typeof Df.oninput=="function"}ru=iu}else ru=!1;Nf=ru&&(!document.documentMode||9<document.documentMode)}function Tf(){bs&&(bs.detachEvent("onpropertychange",Cf),Os=bs=null)}function Cf(t){if(t.propertyName==="value"&&Ro(Os)){var i=[];Of(i,Os,t,Pl(t)),Qd(Wv,i)}}function Kv(t,i,o){t==="focusin"?(Tf(),bs=i,Os=o,bs.attachEvent("onpropertychange",Cf)):t==="focusout"&&Tf()}function Yv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ro(Os)}function Qv(t,i){if(t==="click")return Ro(i)}function Jv(t,i){if(t==="input"||t==="change")return Ro(i)}function qv(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _n=typeof Object.is=="function"?Object.is:qv;function Ns(t,i){if(_n(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var o=Object.keys(t),l=Object.keys(i);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var c=o[l];if(!y.call(i,c)||!_n(t[c],i[c]))return!1}return!0}function Af(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ef(t,i){var o=Af(t);t=0;for(var l;o;){if(o.nodeType===3){if(l=t+o.textContent.length,t<=i&&l>=i)return{node:o,offset:i-t};t=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Af(o)}}function Bf(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Bf(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Lf(){for(var t=window,i=Io();i instanceof t.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)t=i.contentWindow;else break;i=Io(t.document)}return i}function su(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function Gv(t){var i=Lf(),o=t.focusedElem,l=t.selectionRange;if(i!==o&&o&&o.ownerDocument&&Bf(o.ownerDocument.documentElement,o)){if(l!==null&&su(o)){if(i=l.start,t=l.end,t===void 0&&(t=i),"selectionStart"in o)o.selectionStart=i,o.selectionEnd=Math.min(t,o.value.length);else if(t=(i=o.ownerDocument||document)&&i.defaultView||window,t.getSelection){t=t.getSelection();var c=o.textContent.length,d=Math.min(l.start,c);l=l.end===void 0?d:Math.min(l.end,c),!t.extend&&d>l&&(c=l,l=d,d=c),c=Ef(o,d);var p=Ef(o,l);c&&p&&(t.rangeCount!==1||t.anchorNode!==c.node||t.anchorOffset!==c.offset||t.focusNode!==p.node||t.focusOffset!==p.offset)&&(i=i.createRange(),i.setStart(c.node,c.offset),t.removeAllRanges(),d>l?(t.addRange(i),t.extend(p.node,p.offset)):(i.setEnd(p.node,p.offset),t.addRange(i)))}}for(i=[],t=o;t=t.parentNode;)t.nodeType===1&&i.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<i.length;o++)t=i[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Xv=h&&"documentMode"in document&&11>=document.documentMode,gi=null,ou=null,Ds=null,au=!1;function Ff(t,i,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;au||gi==null||gi!==Io(l)||(l=gi,"selectionStart"in l&&su(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ds&&Ns(Ds,l)||(Ds=l,l=$o(ou,"onSelect"),0<l.length&&(i=new ql("onSelect","select",null,i,o),t.push({event:i,listeners:l}),i.target=gi)))}function Uo(t,i){var o={};return o[t.toLowerCase()]=i.toLowerCase(),o["Webkit"+t]="webkit"+i,o["Moz"+t]="moz"+i,o}var vi={animationend:Uo("Animation","AnimationEnd"),animationiteration:Uo("Animation","AnimationIteration"),animationstart:Uo("Animation","AnimationStart"),transitionend:Uo("Transition","TransitionEnd")},lu={},Mf={};h&&(Mf=document.createElement("div").style,"AnimationEvent"in window||(delete vi.animationend.animation,delete vi.animationiteration.animation,delete vi.animationstart.animation),"TransitionEvent"in window||delete vi.transitionend.transition);function zo(t){if(lu[t])return lu[t];if(!vi[t])return t;var i=vi[t],o;for(o in i)if(i.hasOwnProperty(o)&&o in Mf)return lu[t]=i[o];return t}var Pf=zo("animationend"),jf=zo("animationiteration"),Rf=zo("animationstart"),Uf=zo("transitionend"),zf=new Map,Vf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vr(t,i){zf.set(t,i),u(i,[t])}for(var uu=0;uu<Vf.length;uu++){var cu=Vf[uu],e0=cu.toLowerCase(),t0=cu[0].toUpperCase()+cu.slice(1);vr(e0,"on"+t0)}vr(Pf,"onAnimationEnd"),vr(jf,"onAnimationIteration"),vr(Rf,"onAnimationStart"),vr("dblclick","onDoubleClick"),vr("focusin","onFocus"),vr("focusout","onBlur"),vr(Uf,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ts));function $f(t,i,o){var l=t.type||"unknown-event";t.currentTarget=o,ev(l,i,void 0,t),t.currentTarget=null}function Zf(t,i){i=(i&4)!==0;for(var o=0;o<t.length;o++){var l=t[o],c=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var p=l.length-1;0<=p;p--){var g=l[p],w=g.instance,b=g.currentTarget;if(g=g.listener,w!==d&&c.isPropagationStopped())break e;$f(c,g,b),d=w}else for(p=0;p<l.length;p++){if(g=l[p],w=g.instance,b=g.currentTarget,g=g.listener,w!==d&&c.isPropagationStopped())break e;$f(c,g,b),d=w}}}if(bo)throw t=zl,bo=!1,zl=null,t}function We(t,i){var o=i[vu];o===void 0&&(o=i[vu]=new Set);var l=t+"__bubble";o.has(l)||(Wf(i,t,2,!1),o.add(l))}function du(t,i,o){var l=0;i&&(l|=4),Wf(o,t,l,i)}var Vo="_reactListening"+Math.random().toString(36).slice(2);function Cs(t){if(!t[Vo]){t[Vo]=!0,s.forEach(function(o){o!=="selectionchange"&&(n0.has(o)||du(o,!1,t),du(o,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Vo]||(i[Vo]=!0,du("selectionchange",!1,i))}}function Wf(t,i,o,l){switch(pf(i)){case 1:var c=mv;break;case 4:c=gv;break;default:c=Yl}o=c.bind(null,i,o,t),c=void 0,!Ul||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(i,o,{capture:!0,passive:c}):t.addEventListener(i,o,!0):c!==void 0?t.addEventListener(i,o,{passive:c}):t.addEventListener(i,o,!1)}function fu(t,i,o,l,c){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var g=l.stateNode.containerInfo;if(g===c||g.nodeType===8&&g.parentNode===c)break;if(p===4)for(p=l.return;p!==null;){var w=p.tag;if((w===3||w===4)&&(w=p.stateNode.containerInfo,w===c||w.nodeType===8&&w.parentNode===c))return;p=p.return}for(;g!==null;){if(p=Kr(g),p===null)return;if(w=p.tag,w===5||w===6){l=d=p;continue e}g=g.parentNode}}l=l.return}Qd(function(){var b=d,T=Pl(o),A=[];e:{var D=zf.get(t);if(D!==void 0){var j=ql,U=t;switch(t){case"keypress":if(Mo(o)===0)break e;case"keydown":case"keyup":j=Ev;break;case"focusin":U="focus",j=eu;break;case"focusout":U="blur",j=eu;break;case"beforeblur":case"afterblur":j=eu;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=gf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=wv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Fv;break;case Pf:case jf:case Rf:j=kv;break;case Uf:j=Pv;break;case"scroll":j=vv;break;case"wheel":j=Rv;break;case"copy":case"cut":case"paste":j=bv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=_f}var $=(i&4)!==0,rt=!$&&t==="scroll",k=$?D!==null?D+"Capture":null:D;$=[];for(var S=b,x;S!==null;){x=S;var B=x.stateNode;if(x.tag===5&&B!==null&&(x=B,k!==null&&(B=fs(S,k),B!=null&&$.push(As(S,B,x)))),rt)break;S=S.return}0<$.length&&(D=new j(D,U,null,o,T),A.push({event:D,listeners:$}))}}if((i&7)===0){e:{if(D=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",D&&o!==Ml&&(U=o.relatedTarget||o.fromElement)&&(Kr(U)||U[Hn]))break e;if((j||D)&&(D=T.window===T?T:(D=T.ownerDocument)?D.defaultView||D.parentWindow:window,j?(U=o.relatedTarget||o.toElement,j=b,U=U?Kr(U):null,U!==null&&(rt=Hr(U),U!==rt||U.tag!==5&&U.tag!==6)&&(U=null)):(j=null,U=b),j!==U)){if($=gf,B="onMouseLeave",k="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&($=_f,B="onPointerLeave",k="onPointerEnter",S="pointer"),rt=j==null?D:Si(j),x=U==null?D:Si(U),D=new $(B,S+"leave",j,o,T),D.target=rt,D.relatedTarget=x,B=null,Kr(T)===b&&($=new $(k,S+"enter",U,o,T),$.target=x,$.relatedTarget=rt,B=$),rt=B,j&&U)t:{for($=j,k=U,S=0,x=$;x;x=_i(x))S++;for(x=0,B=k;B;B=_i(B))x++;for(;0<S-x;)$=_i($),S--;for(;0<x-S;)k=_i(k),x--;for(;S--;){if($===k||k!==null&&$===k.alternate)break t;$=_i($),k=_i(k)}$=null}else $=null;j!==null&&Hf(A,D,j,$,!1),U!==null&&rt!==null&&Hf(A,rt,U,$,!0)}}e:{if(D=b?Si(b):window,j=D.nodeName&&D.nodeName.toLowerCase(),j==="select"||j==="input"&&D.type==="file")var W=Hv;else if(bf(D))if(Nf)W=Jv;else{W=Yv;var J=Kv}else(j=D.nodeName)&&j.toLowerCase()==="input"&&(D.type==="checkbox"||D.type==="radio")&&(W=Qv);if(W&&(W=W(t,b))){Of(A,W,o,T);break e}J&&J(t,D,b),t==="focusout"&&(J=D._wrapperState)&&J.controlled&&D.type==="number"&&Al(D,"number",D.value)}switch(J=b?Si(b):window,t){case"focusin":(bf(J)||J.contentEditable==="true")&&(gi=J,ou=b,Ds=null);break;case"focusout":Ds=ou=gi=null;break;case"mousedown":au=!0;break;case"contextmenu":case"mouseup":case"dragend":au=!1,Ff(A,o,T);break;case"selectionchange":if(Xv)break;case"keydown":case"keyup":Ff(A,o,T)}var q;if(nu)e:{switch(t){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else mi?kf(t,o)&&(ue="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(ue="onCompositionStart");ue&&(wf&&o.locale!=="ko"&&(mi||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&mi&&(q=yf()):(gr=T,Jl="value"in gr?gr.value:gr.textContent,mi=!0)),J=$o(b,ue),0<J.length&&(ue=new vf(ue,t,null,o,T),A.push({event:ue,listeners:J}),q?ue.data=q:(q=xf(o),q!==null&&(ue.data=q)))),(q=zv?Vv(t,o):$v(t,o))&&(b=$o(b,"onBeforeInput"),0<b.length&&(T=new vf("onBeforeInput","beforeinput",null,o,T),A.push({event:T,listeners:b}),T.data=q))}Zf(A,i)})}function As(t,i,o){return{instance:t,listener:i,currentTarget:o}}function $o(t,i){for(var o=i+"Capture",l=[];t!==null;){var c=t,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=fs(t,o),d!=null&&l.unshift(As(t,d,c)),d=fs(t,i),d!=null&&l.push(As(t,d,c))),t=t.return}return l}function _i(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hf(t,i,o,l,c){for(var d=i._reactName,p=[];o!==null&&o!==l;){var g=o,w=g.alternate,b=g.stateNode;if(w!==null&&w===l)break;g.tag===5&&b!==null&&(g=b,c?(w=fs(o,d),w!=null&&p.unshift(As(o,w,g))):c||(w=fs(o,d),w!=null&&p.push(As(o,w,g)))),o=o.return}p.length!==0&&t.push({event:i,listeners:p})}var r0=/\r\n?/g,i0=/\u0000|\uFFFD/g;function Kf(t){return(typeof t=="string"?t:""+t).replace(r0,`
`).replace(i0,"")}function Zo(t,i,o){if(i=Kf(i),Kf(t)!==i&&o)throw Error(n(425))}function Wo(){}var hu=null,pu=null;function yu(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var mu=typeof setTimeout=="function"?setTimeout:void 0,s0=typeof clearTimeout=="function"?clearTimeout:void 0,Yf=typeof Promise=="function"?Promise:void 0,o0=typeof queueMicrotask=="function"?queueMicrotask:typeof Yf<"u"?function(t){return Yf.resolve(null).then(t).catch(a0)}:mu;function a0(t){setTimeout(function(){throw t})}function gu(t,i){var o=i,l=0;do{var c=o.nextSibling;if(t.removeChild(o),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(l===0){t.removeChild(c),Ss(i);return}l--}else o!=="$"&&o!=="$?"&&o!=="$!"||l++;o=c}while(o);Ss(i)}function _r(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return t}function Qf(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return t;i--}else o==="/$"&&i++}t=t.previousSibling}return null}var wi=Math.random().toString(36).slice(2),Tn="__reactFiber$"+wi,Es="__reactProps$"+wi,Hn="__reactContainer$"+wi,vu="__reactEvents$"+wi,l0="__reactListeners$"+wi,u0="__reactHandles$"+wi;function Kr(t){var i=t[Tn];if(i)return i;for(var o=t.parentNode;o;){if(i=o[Hn]||o[Tn]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(t=Qf(t);t!==null;){if(o=t[Tn])return o;t=Qf(t)}return i}t=o,o=t.parentNode}return null}function Bs(t){return t=t[Tn]||t[Hn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Si(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function Ho(t){return t[Es]||null}var _u=[],Ii=-1;function wr(t){return{current:t}}function He(t){0>Ii||(t.current=_u[Ii],_u[Ii]=null,Ii--)}function Ve(t,i){Ii++,_u[Ii]=t.current,t.current=i}var Sr={},bt=wr(Sr),jt=wr(!1),Yr=Sr;function ki(t,i){var o=t.type.contextTypes;if(!o)return Sr;var l=t.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===i)return l.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in o)c[d]=i[d];return l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=c),c}function Rt(t){return t=t.childContextTypes,t!=null}function Ko(){He(jt),He(bt)}function Jf(t,i,o){if(bt.current!==Sr)throw Error(n(168));Ve(bt,i),Ve(jt,o)}function qf(t,i,o){var l=t.stateNode;if(i=i.childContextTypes,typeof l.getChildContext!="function")return o;l=l.getChildContext();for(var c in l)if(!(c in i))throw Error(n(108,Ue(t)||"Unknown",c));return v({},o,l)}function Yo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Sr,Yr=bt.current,Ve(bt,t),Ve(jt,jt.current),!0}function Gf(t,i,o){var l=t.stateNode;if(!l)throw Error(n(169));o?(t=qf(t,i,Yr),l.__reactInternalMemoizedMergedChildContext=t,He(jt),He(bt),Ve(bt,t)):He(jt),Ve(jt,o)}var Kn=null,Qo=!1,wu=!1;function Xf(t){Kn===null?Kn=[t]:Kn.push(t)}function c0(t){Qo=!0,Xf(t)}function Ir(){if(!wu&&Kn!==null){wu=!0;var t=0,i=je;try{var o=Kn;for(je=1;t<o.length;t++){var l=o[t];do l=l(!0);while(l!==null)}Kn=null,Qo=!1}catch(c){throw Kn!==null&&(Kn=Kn.slice(t+1)),ef(Vl,Ir),c}finally{je=i,wu=!1}}return null}var xi=[],bi=0,Jo=null,qo=0,sn=[],on=0,Qr=null,Yn=1,Qn="";function Jr(t,i){xi[bi++]=qo,xi[bi++]=Jo,Jo=t,qo=i}function eh(t,i,o){sn[on++]=Yn,sn[on++]=Qn,sn[on++]=Qr,Qr=t;var l=Yn;t=Qn;var c=32-vn(l)-1;l&=~(1<<c),o+=1;var d=32-vn(i)+c;if(30<d){var p=c-c%5;d=(l&(1<<p)-1).toString(32),l>>=p,c-=p,Yn=1<<32-vn(i)+c|o<<c|l,Qn=d+t}else Yn=1<<d|o<<c|l,Qn=t}function Su(t){t.return!==null&&(Jr(t,1),eh(t,1,0))}function Iu(t){for(;t===Jo;)Jo=xi[--bi],xi[bi]=null,qo=xi[--bi],xi[bi]=null;for(;t===Qr;)Qr=sn[--on],sn[on]=null,Qn=sn[--on],sn[on]=null,Yn=sn[--on],sn[on]=null}var Jt=null,qt=null,Ye=!1,wn=null;function th(t,i){var o=cn(5,null,null,0);o.elementType="DELETED",o.stateNode=i,o.return=t,i=t.deletions,i===null?(t.deletions=[o],t.flags|=16):i.push(o)}function nh(t,i){switch(t.tag){case 5:var o=t.type;return i=i.nodeType!==1||o.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(t.stateNode=i,Jt=t,qt=_r(i.firstChild),!0):!1;case 6:return i=t.pendingProps===""||i.nodeType!==3?null:i,i!==null?(t.stateNode=i,Jt=t,qt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(o=Qr!==null?{id:Yn,overflow:Qn}:null,t.memoizedState={dehydrated:i,treeContext:o,retryLane:1073741824},o=cn(18,null,null,0),o.stateNode=i,o.return=t,t.child=o,Jt=t,qt=null,!0):!1;default:return!1}}function ku(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xu(t){if(Ye){var i=qt;if(i){var o=i;if(!nh(t,i)){if(ku(t))throw Error(n(418));i=_r(o.nextSibling);var l=Jt;i&&nh(t,i)?th(l,o):(t.flags=t.flags&-4097|2,Ye=!1,Jt=t)}}else{if(ku(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ye=!1,Jt=t}}}function rh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Jt=t}function Go(t){if(t!==Jt)return!1;if(!Ye)return rh(t),Ye=!0,!1;var i;if((i=t.tag!==3)&&!(i=t.tag!==5)&&(i=t.type,i=i!=="head"&&i!=="body"&&!yu(t.type,t.memoizedProps)),i&&(i=qt)){if(ku(t))throw ih(),Error(n(418));for(;i;)th(t,i),i=_r(i.nextSibling)}if(rh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(i===0){qt=_r(t.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++}t=t.nextSibling}qt=null}}else qt=Jt?_r(t.stateNode.nextSibling):null;return!0}function ih(){for(var t=qt;t;)t=_r(t.nextSibling)}function Oi(){qt=Jt=null,Ye=!1}function bu(t){wn===null?wn=[t]:wn.push(t)}var d0=fe.ReactCurrentBatchConfig;function Ls(t,i,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var l=o.stateNode}if(!l)throw Error(n(147,t));var c=l,d=""+t;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===d?i.ref:(i=function(p){var g=c.refs;p===null?delete g[d]:g[d]=p},i._stringRef=d,i)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function Xo(t,i){throw t=Object.prototype.toString.call(i),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t))}function sh(t){var i=t._init;return i(t._payload)}function oh(t){function i(k,S){if(t){var x=k.deletions;x===null?(k.deletions=[S],k.flags|=16):x.push(S)}}function o(k,S){if(!t)return null;for(;S!==null;)i(k,S),S=S.sibling;return null}function l(k,S){for(k=new Map;S!==null;)S.key!==null?k.set(S.key,S):k.set(S.index,S),S=S.sibling;return k}function c(k,S){return k=Cr(k,S),k.index=0,k.sibling=null,k}function d(k,S,x){return k.index=x,t?(x=k.alternate,x!==null?(x=x.index,x<S?(k.flags|=2,S):x):(k.flags|=2,S)):(k.flags|=1048576,S)}function p(k){return t&&k.alternate===null&&(k.flags|=2),k}function g(k,S,x,B){return S===null||S.tag!==6?(S=mc(x,k.mode,B),S.return=k,S):(S=c(S,x),S.return=k,S)}function w(k,S,x,B){var W=x.type;return W===et?T(k,S,x.props.children,B,x.key):S!==null&&(S.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===ve&&sh(W)===S.type)?(B=c(S,x.props),B.ref=Ls(k,S,x),B.return=k,B):(B=ka(x.type,x.key,x.props,null,k.mode,B),B.ref=Ls(k,S,x),B.return=k,B)}function b(k,S,x,B){return S===null||S.tag!==4||S.stateNode.containerInfo!==x.containerInfo||S.stateNode.implementation!==x.implementation?(S=gc(x,k.mode,B),S.return=k,S):(S=c(S,x.children||[]),S.return=k,S)}function T(k,S,x,B,W){return S===null||S.tag!==7?(S=ii(x,k.mode,B,W),S.return=k,S):(S=c(S,x),S.return=k,S)}function A(k,S,x){if(typeof S=="string"&&S!==""||typeof S=="number")return S=mc(""+S,k.mode,x),S.return=k,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ht:return x=ka(S.type,S.key,S.props,null,k.mode,x),x.ref=Ls(k,null,S),x.return=k,x;case it:return S=gc(S,k.mode,x),S.return=k,S;case ve:var B=S._init;return A(k,B(S._payload),x)}if(us(S)||Y(S))return S=ii(S,k.mode,x,null),S.return=k,S;Xo(k,S)}return null}function D(k,S,x,B){var W=S!==null?S.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return W!==null?null:g(k,S,""+x,B);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ht:return x.key===W?w(k,S,x,B):null;case it:return x.key===W?b(k,S,x,B):null;case ve:return W=x._init,D(k,S,W(x._payload),B)}if(us(x)||Y(x))return W!==null?null:T(k,S,x,B,null);Xo(k,x)}return null}function j(k,S,x,B,W){if(typeof B=="string"&&B!==""||typeof B=="number")return k=k.get(x)||null,g(S,k,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case ht:return k=k.get(B.key===null?x:B.key)||null,w(S,k,B,W);case it:return k=k.get(B.key===null?x:B.key)||null,b(S,k,B,W);case ve:var J=B._init;return j(k,S,x,J(B._payload),W)}if(us(B)||Y(B))return k=k.get(x)||null,T(S,k,B,W,null);Xo(S,B)}return null}function U(k,S,x,B){for(var W=null,J=null,q=S,ue=S=0,gt=null;q!==null&&ue<x.length;ue++){q.index>ue?(gt=q,q=null):gt=q.sibling;var De=D(k,q,x[ue],B);if(De===null){q===null&&(q=gt);break}t&&q&&De.alternate===null&&i(k,q),S=d(De,S,ue),J===null?W=De:J.sibling=De,J=De,q=gt}if(ue===x.length)return o(k,q),Ye&&Jr(k,ue),W;if(q===null){for(;ue<x.length;ue++)q=A(k,x[ue],B),q!==null&&(S=d(q,S,ue),J===null?W=q:J.sibling=q,J=q);return Ye&&Jr(k,ue),W}for(q=l(k,q);ue<x.length;ue++)gt=j(q,k,ue,x[ue],B),gt!==null&&(t&&gt.alternate!==null&&q.delete(gt.key===null?ue:gt.key),S=d(gt,S,ue),J===null?W=gt:J.sibling=gt,J=gt);return t&&q.forEach(function(Ar){return i(k,Ar)}),Ye&&Jr(k,ue),W}function $(k,S,x,B){var W=Y(x);if(typeof W!="function")throw Error(n(150));if(x=W.call(x),x==null)throw Error(n(151));for(var J=W=null,q=S,ue=S=0,gt=null,De=x.next();q!==null&&!De.done;ue++,De=x.next()){q.index>ue?(gt=q,q=null):gt=q.sibling;var Ar=D(k,q,De.value,B);if(Ar===null){q===null&&(q=gt);break}t&&q&&Ar.alternate===null&&i(k,q),S=d(Ar,S,ue),J===null?W=Ar:J.sibling=Ar,J=Ar,q=gt}if(De.done)return o(k,q),Ye&&Jr(k,ue),W;if(q===null){for(;!De.done;ue++,De=x.next())De=A(k,De.value,B),De!==null&&(S=d(De,S,ue),J===null?W=De:J.sibling=De,J=De);return Ye&&Jr(k,ue),W}for(q=l(k,q);!De.done;ue++,De=x.next())De=j(q,k,ue,De.value,B),De!==null&&(t&&De.alternate!==null&&q.delete(De.key===null?ue:De.key),S=d(De,S,ue),J===null?W=De:J.sibling=De,J=De);return t&&q.forEach(function(Z0){return i(k,Z0)}),Ye&&Jr(k,ue),W}function rt(k,S,x,B){if(typeof x=="object"&&x!==null&&x.type===et&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ht:e:{for(var W=x.key,J=S;J!==null;){if(J.key===W){if(W=x.type,W===et){if(J.tag===7){o(k,J.sibling),S=c(J,x.props.children),S.return=k,k=S;break e}}else if(J.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===ve&&sh(W)===J.type){o(k,J.sibling),S=c(J,x.props),S.ref=Ls(k,J,x),S.return=k,k=S;break e}o(k,J);break}else i(k,J);J=J.sibling}x.type===et?(S=ii(x.props.children,k.mode,B,x.key),S.return=k,k=S):(B=ka(x.type,x.key,x.props,null,k.mode,B),B.ref=Ls(k,S,x),B.return=k,k=B)}return p(k);case it:e:{for(J=x.key;S!==null;){if(S.key===J)if(S.tag===4&&S.stateNode.containerInfo===x.containerInfo&&S.stateNode.implementation===x.implementation){o(k,S.sibling),S=c(S,x.children||[]),S.return=k,k=S;break e}else{o(k,S);break}else i(k,S);S=S.sibling}S=gc(x,k.mode,B),S.return=k,k=S}return p(k);case ve:return J=x._init,rt(k,S,J(x._payload),B)}if(us(x))return U(k,S,x,B);if(Y(x))return $(k,S,x,B);Xo(k,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,S!==null&&S.tag===6?(o(k,S.sibling),S=c(S,x),S.return=k,k=S):(o(k,S),S=mc(x,k.mode,B),S.return=k,k=S),p(k)):o(k,S)}return rt}var Ni=oh(!0),ah=oh(!1),ea=wr(null),ta=null,Di=null,Ou=null;function Nu(){Ou=Di=ta=null}function Du(t){var i=ea.current;He(ea),t._currentValue=i}function Tu(t,i,o){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===o)break;t=t.return}}function Ti(t,i){ta=t,Ou=Di=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&i)!==0&&(Ut=!0),t.firstContext=null)}function an(t){var i=t._currentValue;if(Ou!==t)if(t={context:t,memoizedValue:i,next:null},Di===null){if(ta===null)throw Error(n(308));Di=t,ta.dependencies={lanes:0,firstContext:t}}else Di=Di.next=t;return i}var qr=null;function Cu(t){qr===null?qr=[t]:qr.push(t)}function lh(t,i,o,l){var c=i.interleaved;return c===null?(o.next=o,Cu(i)):(o.next=c.next,c.next=o),i.interleaved=o,Jn(t,l)}function Jn(t,i){t.lanes|=i;var o=t.alternate;for(o!==null&&(o.lanes|=i),o=t,t=t.return;t!==null;)t.childLanes|=i,o=t.alternate,o!==null&&(o.childLanes|=i),o=t,t=t.return;return o.tag===3?o.stateNode:null}var kr=!1;function Au(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uh(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qn(t,i){return{eventTime:t,lane:i,tag:0,payload:null,callback:null,next:null}}function xr(t,i,o){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Oe&2)!==0){var c=l.pending;return c===null?i.next=i:(i.next=c.next,c.next=i),l.pending=i,Jn(t,o)}return c=l.interleaved,c===null?(i.next=i,Cu(l)):(i.next=c.next,c.next=i),l.interleaved=i,Jn(t,o)}function na(t,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194240)!==0)){var l=i.lanes;l&=t.pendingLanes,o|=l,i.lanes=o,Wl(t,o)}}function ch(t,i){var o=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var c=null,d=null;if(o=o.firstBaseUpdate,o!==null){do{var p={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};d===null?c=d=p:d=d.next=p,o=o.next}while(o!==null);d===null?c=d=i:d=d.next=i}else c=d=i;o={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:l.shared,effects:l.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=i:t.next=i,o.lastBaseUpdate=i}function ra(t,i,o,l){var c=t.updateQueue;kr=!1;var d=c.firstBaseUpdate,p=c.lastBaseUpdate,g=c.shared.pending;if(g!==null){c.shared.pending=null;var w=g,b=w.next;w.next=null,p===null?d=b:p.next=b,p=w;var T=t.alternate;T!==null&&(T=T.updateQueue,g=T.lastBaseUpdate,g!==p&&(g===null?T.firstBaseUpdate=b:g.next=b,T.lastBaseUpdate=w))}if(d!==null){var A=c.baseState;p=0,T=b=w=null,g=d;do{var D=g.lane,j=g.eventTime;if((l&D)===D){T!==null&&(T=T.next={eventTime:j,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var U=t,$=g;switch(D=i,j=o,$.tag){case 1:if(U=$.payload,typeof U=="function"){A=U.call(j,A,D);break e}A=U;break e;case 3:U.flags=U.flags&-65537|128;case 0:if(U=$.payload,D=typeof U=="function"?U.call(j,A,D):U,D==null)break e;A=v({},A,D);break e;case 2:kr=!0}}g.callback!==null&&g.lane!==0&&(t.flags|=64,D=c.effects,D===null?c.effects=[g]:D.push(g))}else j={eventTime:j,lane:D,tag:g.tag,payload:g.payload,callback:g.callback,next:null},T===null?(b=T=j,w=A):T=T.next=j,p|=D;if(g=g.next,g===null){if(g=c.shared.pending,g===null)break;D=g,g=D.next,D.next=null,c.lastBaseUpdate=D,c.shared.pending=null}}while(!0);if(T===null&&(w=A),c.baseState=w,c.firstBaseUpdate=b,c.lastBaseUpdate=T,i=c.shared.interleaved,i!==null){c=i;do p|=c.lane,c=c.next;while(c!==i)}else d===null&&(c.shared.lanes=0);ei|=p,t.lanes=p,t.memoizedState=A}}function dh(t,i,o){if(t=i.effects,i.effects=null,t!==null)for(i=0;i<t.length;i++){var l=t[i],c=l.callback;if(c!==null){if(l.callback=null,l=o,typeof c!="function")throw Error(n(191,c));c.call(l)}}}var Fs={},Cn=wr(Fs),Ms=wr(Fs),Ps=wr(Fs);function Gr(t){if(t===Fs)throw Error(n(174));return t}function Eu(t,i){switch(Ve(Ps,i),Ve(Ms,t),Ve(Cn,Fs),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Bl(null,"");break;default:t=t===8?i.parentNode:i,i=t.namespaceURI||null,t=t.tagName,i=Bl(i,t)}He(Cn),Ve(Cn,i)}function Ci(){He(Cn),He(Ms),He(Ps)}function fh(t){Gr(Ps.current);var i=Gr(Cn.current),o=Bl(i,t.type);i!==o&&(Ve(Ms,t),Ve(Cn,o))}function Bu(t){Ms.current===t&&(He(Cn),He(Ms))}var Je=wr(0);function ia(t){for(var i=t;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Lu=[];function Fu(){for(var t=0;t<Lu.length;t++)Lu[t]._workInProgressVersionPrimary=null;Lu.length=0}var sa=fe.ReactCurrentDispatcher,Mu=fe.ReactCurrentBatchConfig,Xr=0,qe=null,lt=null,yt=null,oa=!1,js=!1,Rs=0,f0=0;function Ot(){throw Error(n(321))}function Pu(t,i){if(i===null)return!1;for(var o=0;o<i.length&&o<t.length;o++)if(!_n(t[o],i[o]))return!1;return!0}function ju(t,i,o,l,c,d){if(Xr=d,qe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,sa.current=t===null||t.memoizedState===null?m0:g0,t=o(l,c),js){d=0;do{if(js=!1,Rs=0,25<=d)throw Error(n(301));d+=1,yt=lt=null,i.updateQueue=null,sa.current=v0,t=o(l,c)}while(js)}if(sa.current=ua,i=lt!==null&&lt.next!==null,Xr=0,yt=lt=qe=null,oa=!1,i)throw Error(n(300));return t}function Ru(){var t=Rs!==0;return Rs=0,t}function An(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?qe.memoizedState=yt=t:yt=yt.next=t,yt}function ln(){if(lt===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var i=yt===null?qe.memoizedState:yt.next;if(i!==null)yt=i,lt=t;else{if(t===null)throw Error(n(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},yt===null?qe.memoizedState=yt=t:yt=yt.next=t}return yt}function Us(t,i){return typeof i=="function"?i(t):i}function Uu(t){var i=ln(),o=i.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var l=lt,c=l.baseQueue,d=o.pending;if(d!==null){if(c!==null){var p=c.next;c.next=d.next,d.next=p}l.baseQueue=c=d,o.pending=null}if(c!==null){d=c.next,l=l.baseState;var g=p=null,w=null,b=d;do{var T=b.lane;if((Xr&T)===T)w!==null&&(w=w.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),l=b.hasEagerState?b.eagerState:t(l,b.action);else{var A={lane:T,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};w===null?(g=w=A,p=l):w=w.next=A,qe.lanes|=T,ei|=T}b=b.next}while(b!==null&&b!==d);w===null?p=l:w.next=g,_n(l,i.memoizedState)||(Ut=!0),i.memoizedState=l,i.baseState=p,i.baseQueue=w,o.lastRenderedState=l}if(t=o.interleaved,t!==null){c=t;do d=c.lane,qe.lanes|=d,ei|=d,c=c.next;while(c!==t)}else c===null&&(o.lanes=0);return[i.memoizedState,o.dispatch]}function zu(t){var i=ln(),o=i.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var l=o.dispatch,c=o.pending,d=i.memoizedState;if(c!==null){o.pending=null;var p=c=c.next;do d=t(d,p.action),p=p.next;while(p!==c);_n(d,i.memoizedState)||(Ut=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),o.lastRenderedState=d}return[d,l]}function hh(){}function ph(t,i){var o=qe,l=ln(),c=i(),d=!_n(l.memoizedState,c);if(d&&(l.memoizedState=c,Ut=!0),l=l.queue,Vu(gh.bind(null,o,l,t),[t]),l.getSnapshot!==i||d||yt!==null&&yt.memoizedState.tag&1){if(o.flags|=2048,zs(9,mh.bind(null,o,l,c,i),void 0,null),mt===null)throw Error(n(349));(Xr&30)!==0||yh(o,i,c)}return c}function yh(t,i,o){t.flags|=16384,t={getSnapshot:i,value:o},i=qe.updateQueue,i===null?(i={lastEffect:null,stores:null},qe.updateQueue=i,i.stores=[t]):(o=i.stores,o===null?i.stores=[t]:o.push(t))}function mh(t,i,o,l){i.value=o,i.getSnapshot=l,vh(i)&&_h(t)}function gh(t,i,o){return o(function(){vh(i)&&_h(t)})}function vh(t){var i=t.getSnapshot;t=t.value;try{var o=i();return!_n(t,o)}catch{return!0}}function _h(t){var i=Jn(t,1);i!==null&&xn(i,t,1,-1)}function wh(t){var i=An();return typeof t=="function"&&(t=t()),i.memoizedState=i.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:t},i.queue=t,t=t.dispatch=y0.bind(null,qe,t),[i.memoizedState,t]}function zs(t,i,o,l){return t={tag:t,create:i,destroy:o,deps:l,next:null},i=qe.updateQueue,i===null?(i={lastEffect:null,stores:null},qe.updateQueue=i,i.lastEffect=t.next=t):(o=i.lastEffect,o===null?i.lastEffect=t.next=t:(l=o.next,o.next=t,t.next=l,i.lastEffect=t)),t}function Sh(){return ln().memoizedState}function aa(t,i,o,l){var c=An();qe.flags|=t,c.memoizedState=zs(1|i,o,void 0,l===void 0?null:l)}function la(t,i,o,l){var c=ln();l=l===void 0?null:l;var d=void 0;if(lt!==null){var p=lt.memoizedState;if(d=p.destroy,l!==null&&Pu(l,p.deps)){c.memoizedState=zs(i,o,d,l);return}}qe.flags|=t,c.memoizedState=zs(1|i,o,d,l)}function Ih(t,i){return aa(8390656,8,t,i)}function Vu(t,i){return la(2048,8,t,i)}function kh(t,i){return la(4,2,t,i)}function xh(t,i){return la(4,4,t,i)}function bh(t,i){if(typeof i=="function")return t=t(),i(t),function(){i(null)};if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Oh(t,i,o){return o=o!=null?o.concat([t]):null,la(4,4,bh.bind(null,i,t),o)}function $u(){}function Nh(t,i){var o=ln();i=i===void 0?null:i;var l=o.memoizedState;return l!==null&&i!==null&&Pu(i,l[1])?l[0]:(o.memoizedState=[t,i],t)}function Dh(t,i){var o=ln();i=i===void 0?null:i;var l=o.memoizedState;return l!==null&&i!==null&&Pu(i,l[1])?l[0]:(t=t(),o.memoizedState=[t,i],t)}function Th(t,i,o){return(Xr&21)===0?(t.baseState&&(t.baseState=!1,Ut=!0),t.memoizedState=o):(_n(o,i)||(o=sf(),qe.lanes|=o,ei|=o,t.baseState=!0),i)}function h0(t,i){var o=je;je=o!==0&&4>o?o:4,t(!0);var l=Mu.transition;Mu.transition={};try{t(!1),i()}finally{je=o,Mu.transition=l}}function Ch(){return ln().memoizedState}function p0(t,i,o){var l=Dr(t);if(o={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null},Ah(t))Eh(i,o);else if(o=lh(t,i,o,l),o!==null){var c=At();xn(o,t,l,c),Bh(o,i,l)}}function y0(t,i,o){var l=Dr(t),c={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ah(t))Eh(i,c);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var p=i.lastRenderedState,g=d(p,o);if(c.hasEagerState=!0,c.eagerState=g,_n(g,p)){var w=i.interleaved;w===null?(c.next=c,Cu(i)):(c.next=w.next,w.next=c),i.interleaved=c;return}}catch{}finally{}o=lh(t,i,c,l),o!==null&&(c=At(),xn(o,t,l,c),Bh(o,i,l))}}function Ah(t){var i=t.alternate;return t===qe||i!==null&&i===qe}function Eh(t,i){js=oa=!0;var o=t.pending;o===null?i.next=i:(i.next=o.next,o.next=i),t.pending=i}function Bh(t,i,o){if((o&4194240)!==0){var l=i.lanes;l&=t.pendingLanes,o|=l,i.lanes=o,Wl(t,o)}}var ua={readContext:an,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},m0={readContext:an,useCallback:function(t,i){return An().memoizedState=[t,i===void 0?null:i],t},useContext:an,useEffect:Ih,useImperativeHandle:function(t,i,o){return o=o!=null?o.concat([t]):null,aa(4194308,4,bh.bind(null,i,t),o)},useLayoutEffect:function(t,i){return aa(4194308,4,t,i)},useInsertionEffect:function(t,i){return aa(4,2,t,i)},useMemo:function(t,i){var o=An();return i=i===void 0?null:i,t=t(),o.memoizedState=[t,i],t},useReducer:function(t,i,o){var l=An();return i=o!==void 0?o(i):i,l.memoizedState=l.baseState=i,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},l.queue=t,t=t.dispatch=p0.bind(null,qe,t),[l.memoizedState,t]},useRef:function(t){var i=An();return t={current:t},i.memoizedState=t},useState:wh,useDebugValue:$u,useDeferredValue:function(t){return An().memoizedState=t},useTransition:function(){var t=wh(!1),i=t[0];return t=h0.bind(null,t[1]),An().memoizedState=t,[i,t]},useMutableSource:function(){},useSyncExternalStore:function(t,i,o){var l=qe,c=An();if(Ye){if(o===void 0)throw Error(n(407));o=o()}else{if(o=i(),mt===null)throw Error(n(349));(Xr&30)!==0||yh(l,i,o)}c.memoizedState=o;var d={value:o,getSnapshot:i};return c.queue=d,Ih(gh.bind(null,l,d,t),[t]),l.flags|=2048,zs(9,mh.bind(null,l,d,o,i),void 0,null),o},useId:function(){var t=An(),i=mt.identifierPrefix;if(Ye){var o=Qn,l=Yn;o=(l&~(1<<32-vn(l)-1)).toString(32)+o,i=":"+i+"R"+o,o=Rs++,0<o&&(i+="H"+o.toString(32)),i+=":"}else o=f0++,i=":"+i+"r"+o.toString(32)+":";return t.memoizedState=i},unstable_isNewReconciler:!1},g0={readContext:an,useCallback:Nh,useContext:an,useEffect:Vu,useImperativeHandle:Oh,useInsertionEffect:kh,useLayoutEffect:xh,useMemo:Dh,useReducer:Uu,useRef:Sh,useState:function(){return Uu(Us)},useDebugValue:$u,useDeferredValue:function(t){var i=ln();return Th(i,lt.memoizedState,t)},useTransition:function(){var t=Uu(Us)[0],i=ln().memoizedState;return[t,i]},useMutableSource:hh,useSyncExternalStore:ph,useId:Ch,unstable_isNewReconciler:!1},v0={readContext:an,useCallback:Nh,useContext:an,useEffect:Vu,useImperativeHandle:Oh,useInsertionEffect:kh,useLayoutEffect:xh,useMemo:Dh,useReducer:zu,useRef:Sh,useState:function(){return zu(Us)},useDebugValue:$u,useDeferredValue:function(t){var i=ln();return lt===null?i.memoizedState=t:Th(i,lt.memoizedState,t)},useTransition:function(){var t=zu(Us)[0],i=ln().memoizedState;return[t,i]},useMutableSource:hh,useSyncExternalStore:ph,useId:Ch,unstable_isNewReconciler:!1};function Sn(t,i){if(t&&t.defaultProps){i=v({},i),t=t.defaultProps;for(var o in t)i[o]===void 0&&(i[o]=t[o]);return i}return i}function Zu(t,i,o,l){i=t.memoizedState,o=o(l,i),o=o==null?i:v({},i,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var ca={isMounted:function(t){return(t=t._reactInternals)?Hr(t)===t:!1},enqueueSetState:function(t,i,o){t=t._reactInternals;var l=At(),c=Dr(t),d=qn(l,c);d.payload=i,o!=null&&(d.callback=o),i=xr(t,d,c),i!==null&&(xn(i,t,c,l),na(i,t,c))},enqueueReplaceState:function(t,i,o){t=t._reactInternals;var l=At(),c=Dr(t),d=qn(l,c);d.tag=1,d.payload=i,o!=null&&(d.callback=o),i=xr(t,d,c),i!==null&&(xn(i,t,c,l),na(i,t,c))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var o=At(),l=Dr(t),c=qn(o,l);c.tag=2,i!=null&&(c.callback=i),i=xr(t,c,l),i!==null&&(xn(i,t,l,o),na(i,t,l))}};function Lh(t,i,o,l,c,d,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,p):i.prototype&&i.prototype.isPureReactComponent?!Ns(o,l)||!Ns(c,d):!0}function Fh(t,i,o){var l=!1,c=Sr,d=i.contextType;return typeof d=="object"&&d!==null?d=an(d):(c=Rt(i)?Yr:bt.current,l=i.contextTypes,d=(l=l!=null)?ki(t,c):Sr),i=new i(o,d),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=ca,t.stateNode=i,i._reactInternals=t,l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=c,t.__reactInternalMemoizedMaskedChildContext=d),i}function Mh(t,i,o,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,l),i.state!==t&&ca.enqueueReplaceState(i,i.state,null)}function Wu(t,i,o,l){var c=t.stateNode;c.props=o,c.state=t.memoizedState,c.refs={},Au(t);var d=i.contextType;typeof d=="object"&&d!==null?c.context=an(d):(d=Rt(i)?Yr:bt.current,c.context=ki(t,d)),c.state=t.memoizedState,d=i.getDerivedStateFromProps,typeof d=="function"&&(Zu(t,i,d,o),c.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(i=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),i!==c.state&&ca.enqueueReplaceState(c,c.state,null),ra(t,o,c,l),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308)}function Ai(t,i){try{var o="",l=i;do o+=Ae(l),l=l.return;while(l);var c=o}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:t,source:i,stack:c,digest:null}}function Hu(t,i,o){return{value:t,source:null,stack:o??null,digest:i??null}}function Ku(t,i){try{console.error(i.value)}catch(o){setTimeout(function(){throw o})}}var _0=typeof WeakMap=="function"?WeakMap:Map;function Ph(t,i,o){o=qn(-1,o),o.tag=3,o.payload={element:null};var l=i.value;return o.callback=function(){ga||(ga=!0,lc=l),Ku(t,i)},o}function jh(t,i,o){o=qn(-1,o),o.tag=3;var l=t.type.getDerivedStateFromError;if(typeof l=="function"){var c=i.value;o.payload=function(){return l(c)},o.callback=function(){Ku(t,i)}}var d=t.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(o.callback=function(){Ku(t,i),typeof l!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var p=i.stack;this.componentDidCatch(i.value,{componentStack:p!==null?p:""})}),o}function Rh(t,i,o){var l=t.pingCache;if(l===null){l=t.pingCache=new _0;var c=new Set;l.set(i,c)}else c=l.get(i),c===void 0&&(c=new Set,l.set(i,c));c.has(o)||(c.add(o),t=B0.bind(null,t,i,o),i.then(t,t))}function Uh(t){do{var i;if((i=t.tag===13)&&(i=t.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return t;t=t.return}while(t!==null);return null}function zh(t,i,o,l,c){return(t.mode&1)===0?(t===i?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(i=qn(-1,1),i.tag=2,xr(o,i,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=c,t)}var w0=fe.ReactCurrentOwner,Ut=!1;function Ct(t,i,o,l){i.child=t===null?ah(i,null,o,l):Ni(i,t.child,o,l)}function Vh(t,i,o,l,c){o=o.render;var d=i.ref;return Ti(i,c),l=ju(t,i,o,l,d,c),o=Ru(),t!==null&&!Ut?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~c,Gn(t,i,c)):(Ye&&o&&Su(i),i.flags|=1,Ct(t,i,l,c),i.child)}function $h(t,i,o,l,c){if(t===null){var d=o.type;return typeof d=="function"&&!yc(d)&&d.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(i.tag=15,i.type=d,Zh(t,i,d,l,c)):(t=ka(o.type,null,l,i,i.mode,c),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,(t.lanes&c)===0){var p=d.memoizedProps;if(o=o.compare,o=o!==null?o:Ns,o(p,l)&&t.ref===i.ref)return Gn(t,i,c)}return i.flags|=1,t=Cr(d,l),t.ref=i.ref,t.return=i,i.child=t}function Zh(t,i,o,l,c){if(t!==null){var d=t.memoizedProps;if(Ns(d,l)&&t.ref===i.ref)if(Ut=!1,i.pendingProps=l=d,(t.lanes&c)!==0)(t.flags&131072)!==0&&(Ut=!0);else return i.lanes=t.lanes,Gn(t,i,c)}return Yu(t,i,o,l,c)}function Wh(t,i,o){var l=i.pendingProps,c=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(Bi,Gt),Gt|=o;else{if((o&1073741824)===0)return t=d!==null?d.baseLanes|o:o,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:t,cachePool:null,transitions:null},i.updateQueue=null,Ve(Bi,Gt),Gt|=t,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=d!==null?d.baseLanes:o,Ve(Bi,Gt),Gt|=l}else d!==null?(l=d.baseLanes|o,i.memoizedState=null):l=o,Ve(Bi,Gt),Gt|=l;return Ct(t,i,c,o),i.child}function Hh(t,i){var o=i.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(i.flags|=512,i.flags|=2097152)}function Yu(t,i,o,l,c){var d=Rt(o)?Yr:bt.current;return d=ki(i,d),Ti(i,c),o=ju(t,i,o,l,d,c),l=Ru(),t!==null&&!Ut?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~c,Gn(t,i,c)):(Ye&&l&&Su(i),i.flags|=1,Ct(t,i,o,c),i.child)}function Kh(t,i,o,l,c){if(Rt(o)){var d=!0;Yo(i)}else d=!1;if(Ti(i,c),i.stateNode===null)fa(t,i),Fh(i,o,l),Wu(i,o,l,c),l=!0;else if(t===null){var p=i.stateNode,g=i.memoizedProps;p.props=g;var w=p.context,b=o.contextType;typeof b=="object"&&b!==null?b=an(b):(b=Rt(o)?Yr:bt.current,b=ki(i,b));var T=o.getDerivedStateFromProps,A=typeof T=="function"||typeof p.getSnapshotBeforeUpdate=="function";A||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(g!==l||w!==b)&&Mh(i,p,l,b),kr=!1;var D=i.memoizedState;p.state=D,ra(i,l,p,c),w=i.memoizedState,g!==l||D!==w||jt.current||kr?(typeof T=="function"&&(Zu(i,o,T,l),w=i.memoizedState),(g=kr||Lh(i,o,g,l,D,w,b))?(A||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=w),p.props=l,p.state=w,p.context=b,l=g):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{p=i.stateNode,uh(t,i),g=i.memoizedProps,b=i.type===i.elementType?g:Sn(i.type,g),p.props=b,A=i.pendingProps,D=p.context,w=o.contextType,typeof w=="object"&&w!==null?w=an(w):(w=Rt(o)?Yr:bt.current,w=ki(i,w));var j=o.getDerivedStateFromProps;(T=typeof j=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(g!==A||D!==w)&&Mh(i,p,l,w),kr=!1,D=i.memoizedState,p.state=D,ra(i,l,p,c);var U=i.memoizedState;g!==A||D!==U||jt.current||kr?(typeof j=="function"&&(Zu(i,o,j,l),U=i.memoizedState),(b=kr||Lh(i,o,b,l,D,U,w)||!1)?(T||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,U,w),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,U,w)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||g===t.memoizedProps&&D===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&D===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=U),p.props=l,p.state=U,p.context=w,l=b):(typeof p.componentDidUpdate!="function"||g===t.memoizedProps&&D===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&D===t.memoizedState||(i.flags|=1024),l=!1)}return Qu(t,i,o,l,d,c)}function Qu(t,i,o,l,c,d){Hh(t,i);var p=(i.flags&128)!==0;if(!l&&!p)return c&&Gf(i,o,!1),Gn(t,i,d);l=i.stateNode,w0.current=i;var g=p&&typeof o.getDerivedStateFromError!="function"?null:l.render();return i.flags|=1,t!==null&&p?(i.child=Ni(i,t.child,null,d),i.child=Ni(i,null,g,d)):Ct(t,i,g,d),i.memoizedState=l.state,c&&Gf(i,o,!0),i.child}function Yh(t){var i=t.stateNode;i.pendingContext?Jf(t,i.pendingContext,i.pendingContext!==i.context):i.context&&Jf(t,i.context,!1),Eu(t,i.containerInfo)}function Qh(t,i,o,l,c){return Oi(),bu(c),i.flags|=256,Ct(t,i,o,l),i.child}var Ju={dehydrated:null,treeContext:null,retryLane:0};function qu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Jh(t,i,o){var l=i.pendingProps,c=Je.current,d=!1,p=(i.flags&128)!==0,g;if((g=p)||(g=t!==null&&t.memoizedState===null?!1:(c&2)!==0),g?(d=!0,i.flags&=-129):(t===null||t.memoizedState!==null)&&(c|=1),Ve(Je,c&1),t===null)return xu(i),t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((i.mode&1)===0?i.lanes=1:t.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(p=l.children,t=l.fallback,d?(l=i.mode,d=i.child,p={mode:"hidden",children:p},(l&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=p):d=xa(p,l,0,null),t=ii(t,l,o,null),d.return=i,t.return=i,d.sibling=t,i.child=d,i.child.memoizedState=qu(o),i.memoizedState=Ju,t):Gu(i,p));if(c=t.memoizedState,c!==null&&(g=c.dehydrated,g!==null))return S0(t,i,p,l,g,c,o);if(d){d=l.fallback,p=i.mode,c=t.child,g=c.sibling;var w={mode:"hidden",children:l.children};return(p&1)===0&&i.child!==c?(l=i.child,l.childLanes=0,l.pendingProps=w,i.deletions=null):(l=Cr(c,w),l.subtreeFlags=c.subtreeFlags&14680064),g!==null?d=Cr(g,d):(d=ii(d,p,o,null),d.flags|=2),d.return=i,l.return=i,l.sibling=d,i.child=l,l=d,d=i.child,p=t.child.memoizedState,p=p===null?qu(o):{baseLanes:p.baseLanes|o,cachePool:null,transitions:p.transitions},d.memoizedState=p,d.childLanes=t.childLanes&~o,i.memoizedState=Ju,l}return d=t.child,t=d.sibling,l=Cr(d,{mode:"visible",children:l.children}),(i.mode&1)===0&&(l.lanes=o),l.return=i,l.sibling=null,t!==null&&(o=i.deletions,o===null?(i.deletions=[t],i.flags|=16):o.push(t)),i.child=l,i.memoizedState=null,l}function Gu(t,i){return i=xa({mode:"visible",children:i},t.mode,0,null),i.return=t,t.child=i}function da(t,i,o,l){return l!==null&&bu(l),Ni(i,t.child,null,o),t=Gu(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function S0(t,i,o,l,c,d,p){if(o)return i.flags&256?(i.flags&=-257,l=Hu(Error(n(422))),da(t,i,p,l)):i.memoizedState!==null?(i.child=t.child,i.flags|=128,null):(d=l.fallback,c=i.mode,l=xa({mode:"visible",children:l.children},c,0,null),d=ii(d,c,p,null),d.flags|=2,l.return=i,d.return=i,l.sibling=d,i.child=l,(i.mode&1)!==0&&Ni(i,t.child,null,p),i.child.memoizedState=qu(p),i.memoizedState=Ju,d);if((i.mode&1)===0)return da(t,i,p,null);if(c.data==="$!"){if(l=c.nextSibling&&c.nextSibling.dataset,l)var g=l.dgst;return l=g,d=Error(n(419)),l=Hu(d,l,void 0),da(t,i,p,l)}if(g=(p&t.childLanes)!==0,Ut||g){if(l=mt,l!==null){switch(p&-p){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(l.suspendedLanes|p))!==0?0:c,c!==0&&c!==d.retryLane&&(d.retryLane=c,Jn(t,c),xn(l,t,c,-1))}return pc(),l=Hu(Error(n(421))),da(t,i,p,l)}return c.data==="$?"?(i.flags|=128,i.child=t.child,i=L0.bind(null,t),c._reactRetry=i,null):(t=d.treeContext,qt=_r(c.nextSibling),Jt=i,Ye=!0,wn=null,t!==null&&(sn[on++]=Yn,sn[on++]=Qn,sn[on++]=Qr,Yn=t.id,Qn=t.overflow,Qr=i),i=Gu(i,l.children),i.flags|=4096,i)}function qh(t,i,o){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Tu(t.return,i,o)}function Xu(t,i,o,l,c){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:c}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=o,d.tailMode=c)}function Gh(t,i,o){var l=i.pendingProps,c=l.revealOrder,d=l.tail;if(Ct(t,i,l.children,o),l=Je.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qh(t,o,i);else if(t.tag===19)qh(t,o,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}if(Ve(Je,l),(i.mode&1)===0)i.memoizedState=null;else switch(c){case"forwards":for(o=i.child,c=null;o!==null;)t=o.alternate,t!==null&&ia(t)===null&&(c=o),o=o.sibling;o=c,o===null?(c=i.child,i.child=null):(c=o.sibling,o.sibling=null),Xu(i,!1,c,o,d);break;case"backwards":for(o=null,c=i.child,i.child=null;c!==null;){if(t=c.alternate,t!==null&&ia(t)===null){i.child=c;break}t=c.sibling,c.sibling=o,o=c,c=t}Xu(i,!0,o,null,d);break;case"together":Xu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function fa(t,i){(i.mode&1)===0&&t!==null&&(t.alternate=null,i.alternate=null,i.flags|=2)}function Gn(t,i,o){if(t!==null&&(i.dependencies=t.dependencies),ei|=i.lanes,(o&i.childLanes)===0)return null;if(t!==null&&i.child!==t.child)throw Error(n(153));if(i.child!==null){for(t=i.child,o=Cr(t,t.pendingProps),i.child=o,o.return=i;t.sibling!==null;)t=t.sibling,o=o.sibling=Cr(t,t.pendingProps),o.return=i;o.sibling=null}return i.child}function I0(t,i,o){switch(i.tag){case 3:Yh(i),Oi();break;case 5:fh(i);break;case 1:Rt(i.type)&&Yo(i);break;case 4:Eu(i,i.stateNode.containerInfo);break;case 10:var l=i.type._context,c=i.memoizedProps.value;Ve(ea,l._currentValue),l._currentValue=c;break;case 13:if(l=i.memoizedState,l!==null)return l.dehydrated!==null?(Ve(Je,Je.current&1),i.flags|=128,null):(o&i.child.childLanes)!==0?Jh(t,i,o):(Ve(Je,Je.current&1),t=Gn(t,i,o),t!==null?t.sibling:null);Ve(Je,Je.current&1);break;case 19:if(l=(o&i.childLanes)!==0,(t.flags&128)!==0){if(l)return Gh(t,i,o);i.flags|=128}if(c=i.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ve(Je,Je.current),l)break;return null;case 22:case 23:return i.lanes=0,Wh(t,i,o)}return Gn(t,i,o)}var Xh,ec,ep,tp;Xh=function(t,i){for(var o=i.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},ec=function(){},ep=function(t,i,o,l){var c=t.memoizedProps;if(c!==l){t=i.stateNode,Gr(Cn.current);var d=null;switch(o){case"input":c=Tl(t,c),l=Tl(t,l),d=[];break;case"select":c=v({},c,{value:void 0}),l=v({},l,{value:void 0}),d=[];break;case"textarea":c=El(t,c),l=El(t,l),d=[];break;default:typeof c.onClick!="function"&&typeof l.onClick=="function"&&(t.onclick=Wo)}Ll(o,l);var p;o=null;for(b in c)if(!l.hasOwnProperty(b)&&c.hasOwnProperty(b)&&c[b]!=null)if(b==="style"){var g=c[b];for(p in g)g.hasOwnProperty(p)&&(o||(o={}),o[p]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(a.hasOwnProperty(b)?d||(d=[]):(d=d||[]).push(b,null));for(b in l){var w=l[b];if(g=c!=null?c[b]:void 0,l.hasOwnProperty(b)&&w!==g&&(w!=null||g!=null))if(b==="style")if(g){for(p in g)!g.hasOwnProperty(p)||w&&w.hasOwnProperty(p)||(o||(o={}),o[p]="");for(p in w)w.hasOwnProperty(p)&&g[p]!==w[p]&&(o||(o={}),o[p]=w[p])}else o||(d||(d=[]),d.push(b,o)),o=w;else b==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,g=g?g.__html:void 0,w!=null&&g!==w&&(d=d||[]).push(b,w)):b==="children"?typeof w!="string"&&typeof w!="number"||(d=d||[]).push(b,""+w):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(a.hasOwnProperty(b)?(w!=null&&b==="onScroll"&&We("scroll",t),d||g===w||(d=[])):(d=d||[]).push(b,w))}o&&(d=d||[]).push("style",o);var b=d;(i.updateQueue=b)&&(i.flags|=4)}},tp=function(t,i,o,l){o!==l&&(i.flags|=4)};function Vs(t,i){if(!Ye)switch(t.tailMode){case"hidden":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Nt(t){var i=t.alternate!==null&&t.alternate.child===t.child,o=0,l=0;if(i)for(var c=t.child;c!==null;)o|=c.lanes|c.childLanes,l|=c.subtreeFlags&14680064,l|=c.flags&14680064,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)o|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=o,i}function k0(t,i,o){var l=i.pendingProps;switch(Iu(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(i),null;case 1:return Rt(i.type)&&Ko(),Nt(i),null;case 3:return l=i.stateNode,Ci(),He(jt),He(bt),Fu(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(Go(i)?i.flags|=4:t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,wn!==null&&(dc(wn),wn=null))),ec(t,i),Nt(i),null;case 5:Bu(i);var c=Gr(Ps.current);if(o=i.type,t!==null&&i.stateNode!=null)ep(t,i,o,l,c),t.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!l){if(i.stateNode===null)throw Error(n(166));return Nt(i),null}if(t=Gr(Cn.current),Go(i)){l=i.stateNode,o=i.type;var d=i.memoizedProps;switch(l[Tn]=i,l[Es]=d,t=(i.mode&1)!==0,o){case"dialog":We("cancel",l),We("close",l);break;case"iframe":case"object":case"embed":We("load",l);break;case"video":case"audio":for(c=0;c<Ts.length;c++)We(Ts[c],l);break;case"source":We("error",l);break;case"img":case"image":case"link":We("error",l),We("load",l);break;case"details":We("toggle",l);break;case"input":Ld(l,d),We("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!d.multiple},We("invalid",l);break;case"textarea":Pd(l,d),We("invalid",l)}Ll(o,d),c=null;for(var p in d)if(d.hasOwnProperty(p)){var g=d[p];p==="children"?typeof g=="string"?l.textContent!==g&&(d.suppressHydrationWarning!==!0&&Zo(l.textContent,g,t),c=["children",g]):typeof g=="number"&&l.textContent!==""+g&&(d.suppressHydrationWarning!==!0&&Zo(l.textContent,g,t),c=["children",""+g]):a.hasOwnProperty(p)&&g!=null&&p==="onScroll"&&We("scroll",l)}switch(o){case"input":So(l),Md(l,d,!0);break;case"textarea":So(l),Rd(l);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(l.onclick=Wo)}l=c,i.updateQueue=l,l!==null&&(i.flags|=4)}else{p=c.nodeType===9?c:c.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ud(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=p.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof l.is=="string"?t=p.createElement(o,{is:l.is}):(t=p.createElement(o),o==="select"&&(p=t,l.multiple?p.multiple=!0:l.size&&(p.size=l.size))):t=p.createElementNS(t,o),t[Tn]=i,t[Es]=l,Xh(t,i,!1,!1),i.stateNode=t;e:{switch(p=Fl(o,l),o){case"dialog":We("cancel",t),We("close",t),c=l;break;case"iframe":case"object":case"embed":We("load",t),c=l;break;case"video":case"audio":for(c=0;c<Ts.length;c++)We(Ts[c],t);c=l;break;case"source":We("error",t),c=l;break;case"img":case"image":case"link":We("error",t),We("load",t),c=l;break;case"details":We("toggle",t),c=l;break;case"input":Ld(t,l),c=Tl(t,l),We("invalid",t);break;case"option":c=l;break;case"select":t._wrapperState={wasMultiple:!!l.multiple},c=v({},l,{value:void 0}),We("invalid",t);break;case"textarea":Pd(t,l),c=El(t,l),We("invalid",t);break;default:c=l}Ll(o,c),g=c;for(d in g)if(g.hasOwnProperty(d)){var w=g[d];d==="style"?$d(t,w):d==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&zd(t,w)):d==="children"?typeof w=="string"?(o!=="textarea"||w!=="")&&cs(t,w):typeof w=="number"&&cs(t,""+w):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(a.hasOwnProperty(d)?w!=null&&d==="onScroll"&&We("scroll",t):w!=null&&Ke(t,d,w,p))}switch(o){case"input":So(t),Md(t,l,!1);break;case"textarea":So(t),Rd(t);break;case"option":l.value!=null&&t.setAttribute("value",""+Be(l.value));break;case"select":t.multiple=!!l.multiple,d=l.value,d!=null?di(t,!!l.multiple,d,!1):l.defaultValue!=null&&di(t,!!l.multiple,l.defaultValue,!0);break;default:typeof c.onClick=="function"&&(t.onclick=Wo)}switch(o){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Nt(i),null;case 6:if(t&&i.stateNode!=null)tp(t,i,t.memoizedProps,l);else{if(typeof l!="string"&&i.stateNode===null)throw Error(n(166));if(o=Gr(Ps.current),Gr(Cn.current),Go(i)){if(l=i.stateNode,o=i.memoizedProps,l[Tn]=i,(d=l.nodeValue!==o)&&(t=Jt,t!==null))switch(t.tag){case 3:Zo(l.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zo(l.nodeValue,o,(t.mode&1)!==0)}d&&(i.flags|=4)}else l=(o.nodeType===9?o:o.ownerDocument).createTextNode(l),l[Tn]=i,i.stateNode=l}return Nt(i),null;case 13:if(He(Je),l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&qt!==null&&(i.mode&1)!==0&&(i.flags&128)===0)ih(),Oi(),i.flags|=98560,d=!1;else if(d=Go(i),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(n(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));d[Tn]=i}else Oi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Nt(i),d=!1}else wn!==null&&(dc(wn),wn=null),d=!0;if(!d)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=o,i):(l=l!==null,l!==(t!==null&&t.memoizedState!==null)&&l&&(i.child.flags|=8192,(i.mode&1)!==0&&(t===null||(Je.current&1)!==0?ut===0&&(ut=3):pc())),i.updateQueue!==null&&(i.flags|=4),Nt(i),null);case 4:return Ci(),ec(t,i),t===null&&Cs(i.stateNode.containerInfo),Nt(i),null;case 10:return Du(i.type._context),Nt(i),null;case 17:return Rt(i.type)&&Ko(),Nt(i),null;case 19:if(He(Je),d=i.memoizedState,d===null)return Nt(i),null;if(l=(i.flags&128)!==0,p=d.rendering,p===null)if(l)Vs(d,!1);else{if(ut!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(p=ia(t),p!==null){for(i.flags|=128,Vs(d,!1),l=p.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),i.subtreeFlags=0,l=o,o=i.child;o!==null;)d=o,t=l,d.flags&=14680066,p=d.alternate,p===null?(d.childLanes=0,d.lanes=t,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=p.childLanes,d.lanes=p.lanes,d.child=p.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=p.memoizedProps,d.memoizedState=p.memoizedState,d.updateQueue=p.updateQueue,d.type=p.type,t=p.dependencies,d.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return Ve(Je,Je.current&1|2),i.child}t=t.sibling}d.tail!==null&&nt()>Li&&(i.flags|=128,l=!0,Vs(d,!1),i.lanes=4194304)}else{if(!l)if(t=ia(p),t!==null){if(i.flags|=128,l=!0,o=t.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),Vs(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!Ye)return Nt(i),null}else 2*nt()-d.renderingStartTime>Li&&o!==1073741824&&(i.flags|=128,l=!0,Vs(d,!1),i.lanes=4194304);d.isBackwards?(p.sibling=i.child,i.child=p):(o=d.last,o!==null?o.sibling=p:i.child=p,d.last=p)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=nt(),i.sibling=null,o=Je.current,Ve(Je,l?o&1|2:o&1),i):(Nt(i),null);case 22:case 23:return hc(),l=i.memoizedState!==null,t!==null&&t.memoizedState!==null!==l&&(i.flags|=8192),l&&(i.mode&1)!==0?(Gt&1073741824)!==0&&(Nt(i),i.subtreeFlags&6&&(i.flags|=8192)):Nt(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function x0(t,i){switch(Iu(i),i.tag){case 1:return Rt(i.type)&&Ko(),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ci(),He(jt),He(bt),Fu(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 5:return Bu(i),null;case 13:if(He(Je),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Oi()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return He(Je),null;case 4:return Ci(),null;case 10:return Du(i.type._context),null;case 22:case 23:return hc(),null;case 24:return null;default:return null}}var ha=!1,Dt=!1,b0=typeof WeakSet=="function"?WeakSet:Set,R=null;function Ei(t,i){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(l){Xe(t,i,l)}else o.current=null}function tc(t,i,o){try{o()}catch(l){Xe(t,i,l)}}var np=!1;function O0(t,i){if(hu=Bo,t=Lf(),su(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var c=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{o.nodeType,d.nodeType}catch{o=null;break e}var p=0,g=-1,w=-1,b=0,T=0,A=t,D=null;t:for(;;){for(var j;A!==o||c!==0&&A.nodeType!==3||(g=p+c),A!==d||l!==0&&A.nodeType!==3||(w=p+l),A.nodeType===3&&(p+=A.nodeValue.length),(j=A.firstChild)!==null;)D=A,A=j;for(;;){if(A===t)break t;if(D===o&&++b===c&&(g=p),D===d&&++T===l&&(w=p),(j=A.nextSibling)!==null)break;A=D,D=A.parentNode}A=j}o=g===-1||w===-1?null:{start:g,end:w}}else o=null}o=o||{start:0,end:0}}else o=null;for(pu={focusedElem:t,selectionRange:o},Bo=!1,R=i;R!==null;)if(i=R,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,R=t;else for(;R!==null;){i=R;try{var U=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(U!==null){var $=U.memoizedProps,rt=U.memoizedState,k=i.stateNode,S=k.getSnapshotBeforeUpdate(i.elementType===i.type?$:Sn(i.type,$),rt);k.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var x=i.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(B){Xe(i,i.return,B)}if(t=i.sibling,t!==null){t.return=i.return,R=t;break}R=i.return}return U=np,np=!1,U}function $s(t,i,o){var l=i.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var c=l=l.next;do{if((c.tag&t)===t){var d=c.destroy;c.destroy=void 0,d!==void 0&&tc(i,o,d)}c=c.next}while(c!==l)}}function pa(t,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&t)===t){var l=o.create;o.destroy=l()}o=o.next}while(o!==i)}}function nc(t){var i=t.ref;if(i!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof i=="function"?i(t):i.current=t}}function rp(t){var i=t.alternate;i!==null&&(t.alternate=null,rp(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&(delete i[Tn],delete i[Es],delete i[vu],delete i[l0],delete i[u0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ip(t){return t.tag===5||t.tag===3||t.tag===4}function sp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ip(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rc(t,i,o){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?o.nodeType===8?o.parentNode.insertBefore(t,i):o.insertBefore(t,i):(o.nodeType===8?(i=o.parentNode,i.insertBefore(t,o)):(i=o,i.appendChild(t)),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Wo));else if(l!==4&&(t=t.child,t!==null))for(rc(t,i,o),t=t.sibling;t!==null;)rc(t,i,o),t=t.sibling}function ic(t,i,o){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?o.insertBefore(t,i):o.appendChild(t);else if(l!==4&&(t=t.child,t!==null))for(ic(t,i,o),t=t.sibling;t!==null;)ic(t,i,o),t=t.sibling}var wt=null,In=!1;function br(t,i,o){for(o=o.child;o!==null;)op(t,i,o),o=o.sibling}function op(t,i,o){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(No,o)}catch{}switch(o.tag){case 5:Dt||Ei(o,i);case 6:var l=wt,c=In;wt=null,br(t,i,o),wt=l,In=c,wt!==null&&(In?(t=wt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):wt.removeChild(o.stateNode));break;case 18:wt!==null&&(In?(t=wt,o=o.stateNode,t.nodeType===8?gu(t.parentNode,o):t.nodeType===1&&gu(t,o),Ss(t)):gu(wt,o.stateNode));break;case 4:l=wt,c=In,wt=o.stateNode.containerInfo,In=!0,br(t,i,o),wt=l,In=c;break;case 0:case 11:case 14:case 15:if(!Dt&&(l=o.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){c=l=l.next;do{var d=c,p=d.destroy;d=d.tag,p!==void 0&&((d&2)!==0||(d&4)!==0)&&tc(o,i,p),c=c.next}while(c!==l)}br(t,i,o);break;case 1:if(!Dt&&(Ei(o,i),l=o.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=o.memoizedProps,l.state=o.memoizedState,l.componentWillUnmount()}catch(g){Xe(o,i,g)}br(t,i,o);break;case 21:br(t,i,o);break;case 22:o.mode&1?(Dt=(l=Dt)||o.memoizedState!==null,br(t,i,o),Dt=l):br(t,i,o);break;default:br(t,i,o)}}function ap(t){var i=t.updateQueue;if(i!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new b0),i.forEach(function(l){var c=F0.bind(null,t,l);o.has(l)||(o.add(l),l.then(c,c))})}}function kn(t,i){var o=i.deletions;if(o!==null)for(var l=0;l<o.length;l++){var c=o[l];try{var d=t,p=i,g=p;e:for(;g!==null;){switch(g.tag){case 5:wt=g.stateNode,In=!1;break e;case 3:wt=g.stateNode.containerInfo,In=!0;break e;case 4:wt=g.stateNode.containerInfo,In=!0;break e}g=g.return}if(wt===null)throw Error(n(160));op(d,p,c),wt=null,In=!1;var w=c.alternate;w!==null&&(w.return=null),c.return=null}catch(b){Xe(c,i,b)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)lp(i,t),i=i.sibling}function lp(t,i){var o=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kn(i,t),En(t),l&4){try{$s(3,t,t.return),pa(3,t)}catch($){Xe(t,t.return,$)}try{$s(5,t,t.return)}catch($){Xe(t,t.return,$)}}break;case 1:kn(i,t),En(t),l&512&&o!==null&&Ei(o,o.return);break;case 5:if(kn(i,t),En(t),l&512&&o!==null&&Ei(o,o.return),t.flags&32){var c=t.stateNode;try{cs(c,"")}catch($){Xe(t,t.return,$)}}if(l&4&&(c=t.stateNode,c!=null)){var d=t.memoizedProps,p=o!==null?o.memoizedProps:d,g=t.type,w=t.updateQueue;if(t.updateQueue=null,w!==null)try{g==="input"&&d.type==="radio"&&d.name!=null&&Fd(c,d),Fl(g,p);var b=Fl(g,d);for(p=0;p<w.length;p+=2){var T=w[p],A=w[p+1];T==="style"?$d(c,A):T==="dangerouslySetInnerHTML"?zd(c,A):T==="children"?cs(c,A):Ke(c,T,A,b)}switch(g){case"input":Cl(c,d);break;case"textarea":jd(c,d);break;case"select":var D=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!d.multiple;var j=d.value;j!=null?di(c,!!d.multiple,j,!1):D!==!!d.multiple&&(d.defaultValue!=null?di(c,!!d.multiple,d.defaultValue,!0):di(c,!!d.multiple,d.multiple?[]:"",!1))}c[Es]=d}catch($){Xe(t,t.return,$)}}break;case 6:if(kn(i,t),En(t),l&4){if(t.stateNode===null)throw Error(n(162));c=t.stateNode,d=t.memoizedProps;try{c.nodeValue=d}catch($){Xe(t,t.return,$)}}break;case 3:if(kn(i,t),En(t),l&4&&o!==null&&o.memoizedState.isDehydrated)try{Ss(i.containerInfo)}catch($){Xe(t,t.return,$)}break;case 4:kn(i,t),En(t);break;case 13:kn(i,t),En(t),c=t.child,c.flags&8192&&(d=c.memoizedState!==null,c.stateNode.isHidden=d,!d||c.alternate!==null&&c.alternate.memoizedState!==null||(ac=nt())),l&4&&ap(t);break;case 22:if(T=o!==null&&o.memoizedState!==null,t.mode&1?(Dt=(b=Dt)||T,kn(i,t),Dt=b):kn(i,t),En(t),l&8192){if(b=t.memoizedState!==null,(t.stateNode.isHidden=b)&&!T&&(t.mode&1)!==0)for(R=t,T=t.child;T!==null;){for(A=R=T;R!==null;){switch(D=R,j=D.child,D.tag){case 0:case 11:case 14:case 15:$s(4,D,D.return);break;case 1:Ei(D,D.return);var U=D.stateNode;if(typeof U.componentWillUnmount=="function"){l=D,o=D.return;try{i=l,U.props=i.memoizedProps,U.state=i.memoizedState,U.componentWillUnmount()}catch($){Xe(l,o,$)}}break;case 5:Ei(D,D.return);break;case 22:if(D.memoizedState!==null){dp(A);continue}}j!==null?(j.return=D,R=j):dp(A)}T=T.sibling}e:for(T=null,A=t;;){if(A.tag===5){if(T===null){T=A;try{c=A.stateNode,b?(d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(g=A.stateNode,w=A.memoizedProps.style,p=w!=null&&w.hasOwnProperty("display")?w.display:null,g.style.display=Vd("display",p))}catch($){Xe(t,t.return,$)}}}else if(A.tag===6){if(T===null)try{A.stateNode.nodeValue=b?"":A.memoizedProps}catch($){Xe(t,t.return,$)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===t)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===t)break e;for(;A.sibling===null;){if(A.return===null||A.return===t)break e;T===A&&(T=null),A=A.return}T===A&&(T=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:kn(i,t),En(t),l&4&&ap(t);break;case 21:break;default:kn(i,t),En(t)}}function En(t){var i=t.flags;if(i&2){try{e:{for(var o=t.return;o!==null;){if(ip(o)){var l=o;break e}o=o.return}throw Error(n(160))}switch(l.tag){case 5:var c=l.stateNode;l.flags&32&&(cs(c,""),l.flags&=-33);var d=sp(t);ic(t,d,c);break;case 3:case 4:var p=l.stateNode.containerInfo,g=sp(t);rc(t,g,p);break;default:throw Error(n(161))}}catch(w){Xe(t,t.return,w)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function N0(t,i,o){R=t,up(t)}function up(t,i,o){for(var l=(t.mode&1)!==0;R!==null;){var c=R,d=c.child;if(c.tag===22&&l){var p=c.memoizedState!==null||ha;if(!p){var g=c.alternate,w=g!==null&&g.memoizedState!==null||Dt;g=ha;var b=Dt;if(ha=p,(Dt=w)&&!b)for(R=c;R!==null;)p=R,w=p.child,p.tag===22&&p.memoizedState!==null?fp(c):w!==null?(w.return=p,R=w):fp(c);for(;d!==null;)R=d,up(d),d=d.sibling;R=c,ha=g,Dt=b}cp(t)}else(c.subtreeFlags&8772)!==0&&d!==null?(d.return=c,R=d):cp(t)}}function cp(t){for(;R!==null;){var i=R;if((i.flags&8772)!==0){var o=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Dt||pa(5,i);break;case 1:var l=i.stateNode;if(i.flags&4&&!Dt)if(o===null)l.componentDidMount();else{var c=i.elementType===i.type?o.memoizedProps:Sn(i.type,o.memoizedProps);l.componentDidUpdate(c,o.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var d=i.updateQueue;d!==null&&dh(i,d,l);break;case 3:var p=i.updateQueue;if(p!==null){if(o=null,i.child!==null)switch(i.child.tag){case 5:o=i.child.stateNode;break;case 1:o=i.child.stateNode}dh(i,p,o)}break;case 5:var g=i.stateNode;if(o===null&&i.flags&4){o=g;var w=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&o.focus();break;case"img":w.src&&(o.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var b=i.alternate;if(b!==null){var T=b.memoizedState;if(T!==null){var A=T.dehydrated;A!==null&&Ss(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Dt||i.flags&512&&nc(i)}catch(D){Xe(i,i.return,D)}}if(i===t){R=null;break}if(o=i.sibling,o!==null){o.return=i.return,R=o;break}R=i.return}}function dp(t){for(;R!==null;){var i=R;if(i===t){R=null;break}var o=i.sibling;if(o!==null){o.return=i.return,R=o;break}R=i.return}}function fp(t){for(;R!==null;){var i=R;try{switch(i.tag){case 0:case 11:case 15:var o=i.return;try{pa(4,i)}catch(w){Xe(i,o,w)}break;case 1:var l=i.stateNode;if(typeof l.componentDidMount=="function"){var c=i.return;try{l.componentDidMount()}catch(w){Xe(i,c,w)}}var d=i.return;try{nc(i)}catch(w){Xe(i,d,w)}break;case 5:var p=i.return;try{nc(i)}catch(w){Xe(i,p,w)}}}catch(w){Xe(i,i.return,w)}if(i===t){R=null;break}var g=i.sibling;if(g!==null){g.return=i.return,R=g;break}R=i.return}}var D0=Math.ceil,ya=fe.ReactCurrentDispatcher,sc=fe.ReactCurrentOwner,un=fe.ReactCurrentBatchConfig,Oe=0,mt=null,st=null,St=0,Gt=0,Bi=wr(0),ut=0,Zs=null,ei=0,ma=0,oc=0,Ws=null,zt=null,ac=0,Li=1/0,Xn=null,ga=!1,lc=null,Or=null,va=!1,Nr=null,_a=0,Hs=0,uc=null,wa=-1,Sa=0;function At(){return(Oe&6)!==0?nt():wa!==-1?wa:wa=nt()}function Dr(t){return(t.mode&1)===0?1:(Oe&2)!==0&&St!==0?St&-St:d0.transition!==null?(Sa===0&&(Sa=sf()),Sa):(t=je,t!==0||(t=window.event,t=t===void 0?16:pf(t.type)),t)}function xn(t,i,o,l){if(50<Hs)throw Hs=0,uc=null,Error(n(185));ms(t,o,l),((Oe&2)===0||t!==mt)&&(t===mt&&((Oe&2)===0&&(ma|=o),ut===4&&Tr(t,St)),Vt(t,l),o===1&&Oe===0&&(i.mode&1)===0&&(Li=nt()+500,Qo&&Ir()))}function Vt(t,i){var o=t.callbackNode;dv(t,i);var l=Co(t,t===mt?St:0);if(l===0)o!==null&&tf(o),t.callbackNode=null,t.callbackPriority=0;else if(i=l&-l,t.callbackPriority!==i){if(o!=null&&tf(o),i===1)t.tag===0?c0(pp.bind(null,t)):Xf(pp.bind(null,t)),o0(function(){(Oe&6)===0&&Ir()}),o=null;else{switch(of(l)){case 1:o=Vl;break;case 4:o=nf;break;case 16:o=Oo;break;case 536870912:o=rf;break;default:o=Oo}o=Ip(o,hp.bind(null,t))}t.callbackPriority=i,t.callbackNode=o}}function hp(t,i){if(wa=-1,Sa=0,(Oe&6)!==0)throw Error(n(327));var o=t.callbackNode;if(Fi()&&t.callbackNode!==o)return null;var l=Co(t,t===mt?St:0);if(l===0)return null;if((l&30)!==0||(l&t.expiredLanes)!==0||i)i=Ia(t,l);else{i=l;var c=Oe;Oe|=2;var d=mp();(mt!==t||St!==i)&&(Xn=null,Li=nt()+500,ni(t,i));do try{A0();break}catch(g){yp(t,g)}while(!0);Nu(),ya.current=d,Oe=c,st!==null?i=0:(mt=null,St=0,i=ut)}if(i!==0){if(i===2&&(c=$l(t),c!==0&&(l=c,i=cc(t,c))),i===1)throw o=Zs,ni(t,0),Tr(t,l),Vt(t,nt()),o;if(i===6)Tr(t,l);else{if(c=t.current.alternate,(l&30)===0&&!T0(c)&&(i=Ia(t,l),i===2&&(d=$l(t),d!==0&&(l=d,i=cc(t,d))),i===1))throw o=Zs,ni(t,0),Tr(t,l),Vt(t,nt()),o;switch(t.finishedWork=c,t.finishedLanes=l,i){case 0:case 1:throw Error(n(345));case 2:ri(t,zt,Xn);break;case 3:if(Tr(t,l),(l&130023424)===l&&(i=ac+500-nt(),10<i)){if(Co(t,0)!==0)break;if(c=t.suspendedLanes,(c&l)!==l){At(),t.pingedLanes|=t.suspendedLanes&c;break}t.timeoutHandle=mu(ri.bind(null,t,zt,Xn),i);break}ri(t,zt,Xn);break;case 4:if(Tr(t,l),(l&4194240)===l)break;for(i=t.eventTimes,c=-1;0<l;){var p=31-vn(l);d=1<<p,p=i[p],p>c&&(c=p),l&=~d}if(l=c,l=nt()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*D0(l/1960))-l,10<l){t.timeoutHandle=mu(ri.bind(null,t,zt,Xn),l);break}ri(t,zt,Xn);break;case 5:ri(t,zt,Xn);break;default:throw Error(n(329))}}}return Vt(t,nt()),t.callbackNode===o?hp.bind(null,t):null}function cc(t,i){var o=Ws;return t.current.memoizedState.isDehydrated&&(ni(t,i).flags|=256),t=Ia(t,i),t!==2&&(i=zt,zt=o,i!==null&&dc(i)),t}function dc(t){zt===null?zt=t:zt.push.apply(zt,t)}function T0(t){for(var i=t;;){if(i.flags&16384){var o=i.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var l=0;l<o.length;l++){var c=o[l],d=c.getSnapshot;c=c.value;try{if(!_n(d(),c))return!1}catch{return!1}}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Tr(t,i){for(i&=~oc,i&=~ma,t.suspendedLanes|=i,t.pingedLanes&=~i,t=t.expirationTimes;0<i;){var o=31-vn(i),l=1<<o;t[o]=-1,i&=~l}}function pp(t){if((Oe&6)!==0)throw Error(n(327));Fi();var i=Co(t,0);if((i&1)===0)return Vt(t,nt()),null;var o=Ia(t,i);if(t.tag!==0&&o===2){var l=$l(t);l!==0&&(i=l,o=cc(t,l))}if(o===1)throw o=Zs,ni(t,0),Tr(t,i),Vt(t,nt()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=i,ri(t,zt,Xn),Vt(t,nt()),null}function fc(t,i){var o=Oe;Oe|=1;try{return t(i)}finally{Oe=o,Oe===0&&(Li=nt()+500,Qo&&Ir())}}function ti(t){Nr!==null&&Nr.tag===0&&(Oe&6)===0&&Fi();var i=Oe;Oe|=1;var o=un.transition,l=je;try{if(un.transition=null,je=1,t)return t()}finally{je=l,un.transition=o,Oe=i,(Oe&6)===0&&Ir()}}function hc(){Gt=Bi.current,He(Bi)}function ni(t,i){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,s0(o)),st!==null)for(o=st.return;o!==null;){var l=o;switch(Iu(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Ko();break;case 3:Ci(),He(jt),He(bt),Fu();break;case 5:Bu(l);break;case 4:Ci();break;case 13:He(Je);break;case 19:He(Je);break;case 10:Du(l.type._context);break;case 22:case 23:hc()}o=o.return}if(mt=t,st=t=Cr(t.current,null),St=Gt=i,ut=0,Zs=null,oc=ma=ei=0,zt=Ws=null,qr!==null){for(i=0;i<qr.length;i++)if(o=qr[i],l=o.interleaved,l!==null){o.interleaved=null;var c=l.next,d=o.pending;if(d!==null){var p=d.next;d.next=c,l.next=p}o.pending=l}qr=null}return t}function yp(t,i){do{var o=st;try{if(Nu(),sa.current=ua,oa){for(var l=qe.memoizedState;l!==null;){var c=l.queue;c!==null&&(c.pending=null),l=l.next}oa=!1}if(Xr=0,yt=lt=qe=null,js=!1,Rs=0,sc.current=null,o===null||o.return===null){ut=1,Zs=i,st=null;break}e:{var d=t,p=o.return,g=o,w=i;if(i=St,g.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var b=w,T=g,A=T.tag;if((T.mode&1)===0&&(A===0||A===11||A===15)){var D=T.alternate;D?(T.updateQueue=D.updateQueue,T.memoizedState=D.memoizedState,T.lanes=D.lanes):(T.updateQueue=null,T.memoizedState=null)}var j=Uh(p);if(j!==null){j.flags&=-257,zh(j,p,g,d,i),j.mode&1&&Rh(d,b,i),i=j,w=b;var U=i.updateQueue;if(U===null){var $=new Set;$.add(w),i.updateQueue=$}else U.add(w);break e}else{if((i&1)===0){Rh(d,b,i),pc();break e}w=Error(n(426))}}else if(Ye&&g.mode&1){var rt=Uh(p);if(rt!==null){(rt.flags&65536)===0&&(rt.flags|=256),zh(rt,p,g,d,i),bu(Ai(w,g));break e}}d=w=Ai(w,g),ut!==4&&(ut=2),Ws===null?Ws=[d]:Ws.push(d),d=p;do{switch(d.tag){case 3:d.flags|=65536,i&=-i,d.lanes|=i;var k=Ph(d,w,i);ch(d,k);break e;case 1:g=w;var S=d.type,x=d.stateNode;if((d.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Or===null||!Or.has(x)))){d.flags|=65536,i&=-i,d.lanes|=i;var B=jh(d,g,i);ch(d,B);break e}}d=d.return}while(d!==null)}vp(o)}catch(W){i=W,st===o&&o!==null&&(st=o=o.return);continue}break}while(!0)}function mp(){var t=ya.current;return ya.current=ua,t===null?ua:t}function pc(){(ut===0||ut===3||ut===2)&&(ut=4),mt===null||(ei&268435455)===0&&(ma&268435455)===0||Tr(mt,St)}function Ia(t,i){var o=Oe;Oe|=2;var l=mp();(mt!==t||St!==i)&&(Xn=null,ni(t,i));do try{C0();break}catch(c){yp(t,c)}while(!0);if(Nu(),Oe=o,ya.current=l,st!==null)throw Error(n(261));return mt=null,St=0,ut}function C0(){for(;st!==null;)gp(st)}function A0(){for(;st!==null&&!nv();)gp(st)}function gp(t){var i=Sp(t.alternate,t,Gt);t.memoizedProps=t.pendingProps,i===null?vp(t):st=i,sc.current=null}function vp(t){var i=t;do{var o=i.alternate;if(t=i.return,(i.flags&32768)===0){if(o=k0(o,i,Gt),o!==null){st=o;return}}else{if(o=x0(o,i),o!==null){o.flags&=32767,st=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ut=6,st=null;return}}if(i=i.sibling,i!==null){st=i;return}st=i=t}while(i!==null);ut===0&&(ut=5)}function ri(t,i,o){var l=je,c=un.transition;try{un.transition=null,je=1,E0(t,i,o,l)}finally{un.transition=c,je=l}return null}function E0(t,i,o,l){do Fi();while(Nr!==null);if((Oe&6)!==0)throw Error(n(327));o=t.finishedWork;var c=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var d=o.lanes|o.childLanes;if(fv(t,d),t===mt&&(st=mt=null,St=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||va||(va=!0,Ip(Oo,function(){return Fi(),null})),d=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||d){d=un.transition,un.transition=null;var p=je;je=1;var g=Oe;Oe|=4,sc.current=null,O0(t,o),lp(o,t),Gv(pu),Bo=!!hu,pu=hu=null,t.current=o,N0(o),rv(),Oe=g,je=p,un.transition=d}else t.current=o;if(va&&(va=!1,Nr=t,_a=c),d=t.pendingLanes,d===0&&(Or=null),ov(o.stateNode),Vt(t,nt()),i!==null)for(l=t.onRecoverableError,o=0;o<i.length;o++)c=i[o],l(c.value,{componentStack:c.stack,digest:c.digest});if(ga)throw ga=!1,t=lc,lc=null,t;return(_a&1)!==0&&t.tag!==0&&Fi(),d=t.pendingLanes,(d&1)!==0?t===uc?Hs++:(Hs=0,uc=t):Hs=0,Ir(),null}function Fi(){if(Nr!==null){var t=of(_a),i=un.transition,o=je;try{if(un.transition=null,je=16>t?16:t,Nr===null)var l=!1;else{if(t=Nr,Nr=null,_a=0,(Oe&6)!==0)throw Error(n(331));var c=Oe;for(Oe|=4,R=t.current;R!==null;){var d=R,p=d.child;if((R.flags&16)!==0){var g=d.deletions;if(g!==null){for(var w=0;w<g.length;w++){var b=g[w];for(R=b;R!==null;){var T=R;switch(T.tag){case 0:case 11:case 15:$s(8,T,d)}var A=T.child;if(A!==null)A.return=T,R=A;else for(;R!==null;){T=R;var D=T.sibling,j=T.return;if(rp(T),T===b){R=null;break}if(D!==null){D.return=j,R=D;break}R=j}}}var U=d.alternate;if(U!==null){var $=U.child;if($!==null){U.child=null;do{var rt=$.sibling;$.sibling=null,$=rt}while($!==null)}}R=d}}if((d.subtreeFlags&2064)!==0&&p!==null)p.return=d,R=p;else e:for(;R!==null;){if(d=R,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:$s(9,d,d.return)}var k=d.sibling;if(k!==null){k.return=d.return,R=k;break e}R=d.return}}var S=t.current;for(R=S;R!==null;){p=R;var x=p.child;if((p.subtreeFlags&2064)!==0&&x!==null)x.return=p,R=x;else e:for(p=S;R!==null;){if(g=R,(g.flags&2048)!==0)try{switch(g.tag){case 0:case 11:case 15:pa(9,g)}}catch(W){Xe(g,g.return,W)}if(g===p){R=null;break e}var B=g.sibling;if(B!==null){B.return=g.return,R=B;break e}R=g.return}}if(Oe=c,Ir(),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(No,t)}catch{}l=!0}return l}finally{je=o,un.transition=i}}return!1}function _p(t,i,o){i=Ai(o,i),i=Ph(t,i,1),t=xr(t,i,1),i=At(),t!==null&&(ms(t,1,i),Vt(t,i))}function Xe(t,i,o){if(t.tag===3)_p(t,t,o);else for(;i!==null;){if(i.tag===3){_p(i,t,o);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Or===null||!Or.has(l))){t=Ai(o,t),t=jh(i,t,1),i=xr(i,t,1),t=At(),i!==null&&(ms(i,1,t),Vt(i,t));break}}i=i.return}}function B0(t,i,o){var l=t.pingCache;l!==null&&l.delete(i),i=At(),t.pingedLanes|=t.suspendedLanes&o,mt===t&&(St&o)===o&&(ut===4||ut===3&&(St&130023424)===St&&500>nt()-ac?ni(t,0):oc|=o),Vt(t,i)}function wp(t,i){i===0&&((t.mode&1)===0?i=1:(i=To,To<<=1,(To&130023424)===0&&(To=4194304)));var o=At();t=Jn(t,i),t!==null&&(ms(t,i,o),Vt(t,o))}function L0(t){var i=t.memoizedState,o=0;i!==null&&(o=i.retryLane),wp(t,o)}function F0(t,i){var o=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(o=c.retryLane);break;case 19:l=t.stateNode;break;default:throw Error(n(314))}l!==null&&l.delete(i),wp(t,o)}var Sp;Sp=function(t,i,o){if(t!==null)if(t.memoizedProps!==i.pendingProps||jt.current)Ut=!0;else{if((t.lanes&o)===0&&(i.flags&128)===0)return Ut=!1,I0(t,i,o);Ut=(t.flags&131072)!==0}else Ut=!1,Ye&&(i.flags&1048576)!==0&&eh(i,qo,i.index);switch(i.lanes=0,i.tag){case 2:var l=i.type;fa(t,i),t=i.pendingProps;var c=ki(i,bt.current);Ti(i,o),c=ju(null,i,l,t,c,o);var d=Ru();return i.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Rt(l)?(d=!0,Yo(i)):d=!1,i.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Au(i),c.updater=ca,i.stateNode=c,c._reactInternals=i,Wu(i,l,t,o),i=Qu(null,i,l,!0,d,o)):(i.tag=0,Ye&&d&&Su(i),Ct(null,i,c,o),i=i.child),i;case 16:l=i.elementType;e:{switch(fa(t,i),t=i.pendingProps,c=l._init,l=c(l._payload),i.type=l,c=i.tag=P0(l),t=Sn(l,t),c){case 0:i=Yu(null,i,l,t,o);break e;case 1:i=Kh(null,i,l,t,o);break e;case 11:i=Vh(null,i,l,t,o);break e;case 14:i=$h(null,i,l,Sn(l.type,t),o);break e}throw Error(n(306,l,""))}return i;case 0:return l=i.type,c=i.pendingProps,c=i.elementType===l?c:Sn(l,c),Yu(t,i,l,c,o);case 1:return l=i.type,c=i.pendingProps,c=i.elementType===l?c:Sn(l,c),Kh(t,i,l,c,o);case 3:e:{if(Yh(i),t===null)throw Error(n(387));l=i.pendingProps,d=i.memoizedState,c=d.element,uh(t,i),ra(i,l,null,o);var p=i.memoizedState;if(l=p.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){c=Ai(Error(n(423)),i),i=Qh(t,i,l,o,c);break e}else if(l!==c){c=Ai(Error(n(424)),i),i=Qh(t,i,l,o,c);break e}else for(qt=_r(i.stateNode.containerInfo.firstChild),Jt=i,Ye=!0,wn=null,o=ah(i,null,l,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Oi(),l===c){i=Gn(t,i,o);break e}Ct(t,i,l,o)}i=i.child}return i;case 5:return fh(i),t===null&&xu(i),l=i.type,c=i.pendingProps,d=t!==null?t.memoizedProps:null,p=c.children,yu(l,c)?p=null:d!==null&&yu(l,d)&&(i.flags|=32),Hh(t,i),Ct(t,i,p,o),i.child;case 6:return t===null&&xu(i),null;case 13:return Jh(t,i,o);case 4:return Eu(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ni(i,null,l,o):Ct(t,i,l,o),i.child;case 11:return l=i.type,c=i.pendingProps,c=i.elementType===l?c:Sn(l,c),Vh(t,i,l,c,o);case 7:return Ct(t,i,i.pendingProps,o),i.child;case 8:return Ct(t,i,i.pendingProps.children,o),i.child;case 12:return Ct(t,i,i.pendingProps.children,o),i.child;case 10:e:{if(l=i.type._context,c=i.pendingProps,d=i.memoizedProps,p=c.value,Ve(ea,l._currentValue),l._currentValue=p,d!==null)if(_n(d.value,p)){if(d.children===c.children&&!jt.current){i=Gn(t,i,o);break e}}else for(d=i.child,d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){p=d.child;for(var w=g.firstContext;w!==null;){if(w.context===l){if(d.tag===1){w=qn(-1,o&-o),w.tag=2;var b=d.updateQueue;if(b!==null){b=b.shared;var T=b.pending;T===null?w.next=w:(w.next=T.next,T.next=w),b.pending=w}}d.lanes|=o,w=d.alternate,w!==null&&(w.lanes|=o),Tu(d.return,o,i),g.lanes|=o;break}w=w.next}}else if(d.tag===10)p=d.type===i.type?null:d.child;else if(d.tag===18){if(p=d.return,p===null)throw Error(n(341));p.lanes|=o,g=p.alternate,g!==null&&(g.lanes|=o),Tu(p,o,i),p=d.sibling}else p=d.child;if(p!==null)p.return=d;else for(p=d;p!==null;){if(p===i){p=null;break}if(d=p.sibling,d!==null){d.return=p.return,p=d;break}p=p.return}d=p}Ct(t,i,c.children,o),i=i.child}return i;case 9:return c=i.type,l=i.pendingProps.children,Ti(i,o),c=an(c),l=l(c),i.flags|=1,Ct(t,i,l,o),i.child;case 14:return l=i.type,c=Sn(l,i.pendingProps),c=Sn(l.type,c),$h(t,i,l,c,o);case 15:return Zh(t,i,i.type,i.pendingProps,o);case 17:return l=i.type,c=i.pendingProps,c=i.elementType===l?c:Sn(l,c),fa(t,i),i.tag=1,Rt(l)?(t=!0,Yo(i)):t=!1,Ti(i,o),Fh(i,l,c),Wu(i,l,c,o),Qu(null,i,l,!0,t,o);case 19:return Gh(t,i,o);case 22:return Wh(t,i,o)}throw Error(n(156,i.tag))};function Ip(t,i){return ef(t,i)}function M0(t,i,o,l){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,i,o,l){return new M0(t,i,o,l)}function yc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function P0(t){if(typeof t=="function")return yc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Mt)return 11;if(t===Tt)return 14}return 2}function Cr(t,i){var o=t.alternate;return o===null?(o=cn(t.tag,i,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=i,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,i=t.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function ka(t,i,o,l,c,d){var p=2;if(l=t,typeof t=="function")yc(t)&&(p=1);else if(typeof t=="string")p=5;else e:switch(t){case et:return ii(o.children,c,d,i);case pt:p=8,c|=8;break;case kt:return t=cn(12,o,i,c|2),t.elementType=kt,t.lanes=d,t;case _t:return t=cn(13,o,i,c),t.elementType=_t,t.lanes=d,t;case xt:return t=cn(19,o,i,c),t.elementType=xt,t.lanes=d,t;case Q:return xa(o,c,d,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tt:p=10;break e;case Ne:p=9;break e;case Mt:p=11;break e;case Tt:p=14;break e;case ve:p=16,l=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return i=cn(p,o,i,c),i.elementType=t,i.type=l,i.lanes=d,i}function ii(t,i,o,l){return t=cn(7,t,l,i),t.lanes=o,t}function xa(t,i,o,l){return t=cn(22,t,l,i),t.elementType=Q,t.lanes=o,t.stateNode={isHidden:!1},t}function mc(t,i,o){return t=cn(6,t,null,i),t.lanes=o,t}function gc(t,i,o){return i=cn(4,t.children!==null?t.children:[],t.key,i),i.lanes=o,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function j0(t,i,o,l,c){this.tag=i,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zl(0),this.expirationTimes=Zl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zl(0),this.identifierPrefix=l,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function vc(t,i,o,l,c,d,p,g,w){return t=new j0(t,i,o,g,w),i===1?(i=1,d===!0&&(i|=8)):i=0,d=cn(3,null,null,i),t.current=d,d.stateNode=t,d.memoizedState={element:l,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Au(d),t}function R0(t,i,o){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:it,key:l==null?null:""+l,children:t,containerInfo:i,implementation:o}}function kp(t){if(!t)return Sr;t=t._reactInternals;e:{if(Hr(t)!==t||t.tag!==1)throw Error(n(170));var i=t;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Rt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Rt(o))return qf(t,o,i)}return i}function xp(t,i,o,l,c,d,p,g,w){return t=vc(o,l,!0,t,c,d,p,g,w),t.context=kp(null),o=t.current,l=At(),c=Dr(o),d=qn(l,c),d.callback=i??null,xr(o,d,c),t.current.lanes=c,ms(t,c,l),Vt(t,l),t}function ba(t,i,o,l){var c=i.current,d=At(),p=Dr(c);return o=kp(o),i.context===null?i.context=o:i.pendingContext=o,i=qn(d,p),i.payload={element:t},l=l===void 0?null:l,l!==null&&(i.callback=l),t=xr(c,i,p),t!==null&&(xn(t,c,p,d),na(t,c,p)),p}function Oa(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bp(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<i?o:i}}function _c(t,i){bp(t,i),(t=t.alternate)&&bp(t,i)}function U0(){return null}var Op=typeof reportError=="function"?reportError:function(t){console.error(t)};function wc(t){this._internalRoot=t}Na.prototype.render=wc.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(n(409));ba(t,i,null,null)},Na.prototype.unmount=wc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;ti(function(){ba(null,t,null,null)}),i[Hn]=null}};function Na(t){this._internalRoot=t}Na.prototype.unstable_scheduleHydration=function(t){if(t){var i=uf();t={blockedOn:null,target:t,priority:i};for(var o=0;o<mr.length&&i!==0&&i<mr[o].priority;o++);mr.splice(o,0,t),o===0&&ff(t)}};function Sc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Da(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Np(){}function z0(t,i,o,l,c){if(c){if(typeof l=="function"){var d=l;l=function(){var b=Oa(p);d.call(b)}}var p=xp(i,l,t,0,null,!1,!1,"",Np);return t._reactRootContainer=p,t[Hn]=p.current,Cs(t.nodeType===8?t.parentNode:t),ti(),p}for(;c=t.lastChild;)t.removeChild(c);if(typeof l=="function"){var g=l;l=function(){var b=Oa(w);g.call(b)}}var w=vc(t,0,!1,null,null,!1,!1,"",Np);return t._reactRootContainer=w,t[Hn]=w.current,Cs(t.nodeType===8?t.parentNode:t),ti(function(){ba(i,w,o,l)}),w}function Ta(t,i,o,l,c){var d=o._reactRootContainer;if(d){var p=d;if(typeof c=="function"){var g=c;c=function(){var w=Oa(p);g.call(w)}}ba(i,p,t,c)}else p=z0(o,i,t,c,l);return Oa(p)}af=function(t){switch(t.tag){case 3:var i=t.stateNode;if(i.current.memoizedState.isDehydrated){var o=ys(i.pendingLanes);o!==0&&(Wl(i,o|1),Vt(i,nt()),(Oe&6)===0&&(Li=nt()+500,Ir()))}break;case 13:ti(function(){var l=Jn(t,1);if(l!==null){var c=At();xn(l,t,1,c)}}),_c(t,1)}},Hl=function(t){if(t.tag===13){var i=Jn(t,134217728);if(i!==null){var o=At();xn(i,t,134217728,o)}_c(t,134217728)}},lf=function(t){if(t.tag===13){var i=Dr(t),o=Jn(t,i);if(o!==null){var l=At();xn(o,t,i,l)}_c(t,i)}},uf=function(){return je},cf=function(t,i){var o=je;try{return je=t,i()}finally{je=o}},jl=function(t,i,o){switch(i){case"input":if(Cl(t,o),i=o.name,o.type==="radio"&&i!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<o.length;i++){var l=o[i];if(l!==t&&l.form===t.form){var c=Ho(l);if(!c)throw Error(n(90));Bd(l),Cl(l,c)}}}break;case"textarea":jd(t,o);break;case"select":i=o.value,i!=null&&di(t,!!o.multiple,i,!1)}},Kd=fc,Yd=ti;var V0={usingClientEntryPoint:!1,Events:[Bs,Si,Ho,Wd,Hd,fc]},Ks={findFiberByHostInstance:Kr,bundleType:0,version:"18.3.0",rendererPackageName:"react-dom"},$0={bundleType:Ks.bundleType,version:Ks.version,rendererPackageName:Ks.rendererPackageName,rendererConfig:Ks.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fe.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Gd(t),t===null?null:t.stateNode},findFiberByHostInstance:Ks.findFiberByHostInstance||U0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.0-next-8a015b68cc-20240425"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ca=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ca.isDisabled&&Ca.supportsFiber)try{No=Ca.inject($0),Dn=Ca}catch{}}return $t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V0,$t.createPortal=function(t,i){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sc(i))throw Error(n(200));return R0(t,i,null,o)},$t.createRoot=function(t,i){if(!Sc(t))throw Error(n(299));var o=!1,l="",c=Op;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onRecoverableError!==void 0&&(c=i.onRecoverableError)),i=vc(t,1,!1,null,null,o,!1,l,c),t[Hn]=i.current,Cs(t.nodeType===8?t.parentNode:t),new wc(i)},$t.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=Gd(i),t=t===null?null:t.stateNode,t},$t.flushSync=function(t){return ti(t)},$t.hydrate=function(t,i,o){if(!Da(i))throw Error(n(200));return Ta(null,t,i,!0,o)},$t.hydrateRoot=function(t,i,o){if(!Sc(t))throw Error(n(405));var l=o!=null&&o.hydratedSources||null,c=!1,d="",p=Op;if(o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),i=xp(i,null,t,1,o??null,c,!1,d,p),t[Hn]=i.current,Cs(t),l)for(t=0;t<l.length;t++)o=l[t],c=o._getVersion,c=c(o._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[o,c]:i.mutableSourceEagerHydrationData.push(o,c);return new Na(i)},$t.render=function(t,i,o){if(!Da(i))throw Error(n(200));return Ta(null,t,i,!1,o)},$t.unmountComponentAtNode=function(t){if(!Da(t))throw Error(n(40));return t._reactRootContainer?(ti(function(){Ta(null,null,t,!1,function(){t._reactRootContainer=null,t[Hn]=null})}),!0):!1},$t.unstable_batchedUpdates=fc,$t.unstable_renderSubtreeIntoContainer=function(t,i,o,l){if(!Da(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Ta(t,i,o,!1,l)},$t.version="18.3.0-next-8a015b68cc-20240425",$t}var Fp;function G0(){if(Fp)return xc.exports;Fp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),xc.exports=q0(),xc.exports}var Mp;function X0(){if(Mp)return Aa;Mp=1;var r=G0();return Aa.createRoot=r.createRoot,Aa.hydrateRoot=r.hydrateRoot,Aa}var e_=X0();const t_=By(e_);function Ly(){const[r,e]=ge.useState(()=>({gemini:sessionStorage.getItem("gemini_api_key")||"AIzaSyCLVpT4oRM8eklYxDPAIpahg2nb7vzX92c",openai:sessionStorage.getItem("openai_api_key")||void 0||"",jquants_refresh:sessionStorage.getItem("jquants_refresh_token")||void 0||"",jquants_id:sessionStorage.getItem("jquants_id_token")||void 0||""}));ge.useEffect(()=>{r.gemini&&sessionStorage.setItem("gemini_api_key",r.gemini),r.openai&&sessionStorage.setItem("openai_api_key",r.openai),r.jquants_refresh&&sessionStorage.setItem("jquants_refresh_token",r.jquants_refresh),r.jquants_id&&sessionStorage.setItem("jquants_id_token",r.jquants_id)},[r]);const n=s=>{e(a=>({...a,...s}))};return{keys:r,updateKeys:n,updateGeminiKey:s=>n({gemini:s}),updateOpenAIKey:s=>n({openai:s}),updateJQuantsRefresh:s=>n({jquants_refresh:s}),updateJQuantsId:s=>n({jquants_id:s})}}function n_({isOpen:r,onClose:e}){const{keys:n,updateKeys:s}=Ly(),[a,u]=ge.useState(n);if(ge.useEffect(()=>{u(n)},[n,r]),!r)return null;const f=()=>{s({gemini:a.gemini,openai:a.openai,jquants_refresh:a.jquants_refresh}),e()},h=(y,m)=>{u(_=>({..._,[m]:y.target.value}))};return C.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:C.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-lg space-y-4",children:[C.jsx("h2",{className:"text-xl font-semibold",children:"APIキー設定"}),C.jsxs("div",{children:[C.jsx("label",{className:"block font-medium mb-1",children:"J-Quants Refresh Token"}),C.jsx("input",{type:"password",value:a.jquants_refresh,onChange:y=>h(y,"jquants_refresh"),className:"border p-2 w-full rounded",placeholder:"J-Quants Refresh Token"}),C.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"※必須。IDトークンの自動更新に利用されます。"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block font-medium mb-1",children:"J-Quants ID Token (自動取得)"}),C.jsx("input",{type:"text",value:a.jquants_id||"-",readOnly:!0,className:"border p-2 w-full rounded bg-gray-100 cursor-not-allowed",placeholder:"ID Token (自動更新されます)"}),C.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"※Refresh Token設定後、APIアクセス時に自動で取得・更新されます。"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block font-medium mb-1",children:"OpenAI API Key"}),C.jsx("input",{type:"password",value:a.openai,onChange:y=>h(y,"openai"),className:"border p-2 w-full rounded",placeholder:"OpenAI API Key (任意)"}),C.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"※ 環境変数 VITE_OPENAI_API_KEY でも設定可能"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block font-medium mb-1",children:"Gemini API Key"}),C.jsx("input",{type:"password",value:a.gemini,onChange:y=>h(y,"gemini"),className:"border p-2 w-full rounded",placeholder:"Gemini API Key (任意)"}),C.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"※ 環境変数 VITE_GEMINI_API_KEY でも設定可能"})]}),C.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[C.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border rounded text-gray-700 hover:bg-gray-100",children:"キャンセル"}),C.jsx("button",{onClick:f,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"保存して閉じる"})]})]})})}const r_="modulepreload",i_=function(r){return"/"+r},Pp={},Fy=function(e,n,s){let a=Promise.resolve();if(n&&n.length>0){let f=function(m){return Promise.all(m.map(_=>Promise.resolve(_).then(O=>({status:"fulfilled",value:O}),O=>({status:"rejected",reason:O}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),y=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));a=f(n.map(m=>{if(m=i_(m),m in Pp)return;Pp[m]=!0;const _=m.endsWith(".css"),O=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${O}`))return;const E=document.createElement("link");if(E.rel=_?"stylesheet":r_,_||(E.as="script"),E.crossOrigin="",E.href=m,y&&E.setAttribute("nonce",y),document.head.appendChild(E),_)return new Promise((V,Z)=>{E.addEventListener("load",V),E.addEventListener("error",()=>Z(new Error(`Unable to preload CSS for ${m}`)))})}))}function u(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return a.then(f=>{for(const h of f||[])h.status==="rejected"&&u(h.reason);return e().catch(u)})};var Ce;(function(r){r.assertEqual=a=>{};function e(a){}r.assertIs=e;function n(a){throw new Error}r.assertNever=n,r.arrayToEnum=a=>{const u={};for(const f of a)u[f]=f;return u},r.getValidEnumValues=a=>{const u=r.objectKeys(a).filter(h=>typeof a[a[h]]!="number"),f={};for(const h of u)f[h]=a[h];return r.objectValues(f)},r.objectValues=a=>r.objectKeys(a).map(function(u){return a[u]}),r.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const u=[];for(const f in a)Object.prototype.hasOwnProperty.call(a,f)&&u.push(f);return u},r.find=(a,u)=>{for(const f of a)if(u(f))return f},r.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function s(a,u=" | "){return a.map(f=>typeof f=="string"?`'${f}'`:f).join(u)}r.joinValues=s,r.jsonStringifyReplacer=(a,u)=>typeof u=="bigint"?u.toString():u})(Ce||(Ce={}));var jp;(function(r){r.mergeShapes=(e,n)=>({...e,...n})})(jp||(jp={}));const z=Ce.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Lr=r=>{switch(typeof r){case"undefined":return z.undefined;case"string":return z.string;case"number":return Number.isNaN(r)?z.nan:z.number;case"boolean":return z.boolean;case"function":return z.function;case"bigint":return z.bigint;case"symbol":return z.symbol;case"object":return Array.isArray(r)?z.array:r===null?z.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?z.promise:typeof Map<"u"&&r instanceof Map?z.map:typeof Set<"u"&&r instanceof Set?z.set:typeof Date<"u"&&r instanceof Date?z.date:z.object;default:return z.unknown}},L=Ce.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ur extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(u){return u.message},s={_errors:[]},a=u=>{for(const f of u.issues)if(f.code==="invalid_union")f.unionErrors.map(a);else if(f.code==="invalid_return_type")a(f.returnTypeError);else if(f.code==="invalid_arguments")a(f.argumentsError);else if(f.path.length===0)s._errors.push(n(f));else{let h=s,y=0;for(;y<f.path.length;){const m=f.path[y];y===f.path.length-1?(h[m]=h[m]||{_errors:[]},h[m]._errors.push(n(f))):h[m]=h[m]||{_errors:[]},h=h[m],y++}}};return a(this),s}static assert(e){if(!(e instanceof ur))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ce.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},s=[];for(const a of this.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(e(a))):s.push(e(a));return{formErrors:s,fieldErrors:n}}get formErrors(){return this.flatten()}}ur.create=r=>new ur(r);const jc=(r,e)=>{let n;switch(r.code){case L.invalid_type:r.received===z.undefined?n="Required":n=`Expected ${r.expected}, received ${r.received}`;break;case L.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(r.expected,Ce.jsonStringifyReplacer)}`;break;case L.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ce.joinValues(r.keys,", ")}`;break;case L.invalid_union:n="Invalid input";break;case L.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ce.joinValues(r.options)}`;break;case L.invalid_enum_value:n=`Invalid enum value. Expected ${Ce.joinValues(r.options)}, received '${r.received}'`;break;case L.invalid_arguments:n="Invalid function arguments";break;case L.invalid_return_type:n="Invalid function return type";break;case L.invalid_date:n="Invalid date";break;case L.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(n=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?n=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?n=`Invalid input: must end with "${r.validation.endsWith}"`:Ce.assertNever(r.validation):r.validation!=="regex"?n=`Invalid ${r.validation}`:n="Invalid";break;case L.too_small:r.type==="array"?n=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?n=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?n=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?n=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:n="Invalid input";break;case L.too_big:r.type==="array"?n=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?n=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?n=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?n=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?n=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:n="Invalid input";break;case L.custom:n="Invalid input";break;case L.invalid_intersection_types:n="Intersection results could not be merged";break;case L.not_multiple_of:n=`Number must be a multiple of ${r.multipleOf}`;break;case L.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ce.assertNever(r)}return{message:n}};let s_=jc;function o_(){return s_}const a_=r=>{const{data:e,path:n,errorMaps:s,issueData:a}=r,u=[...n,...a.path||[]],f={...a,path:u};if(a.message!==void 0)return{...a,path:u,message:a.message};let h="";const y=s.filter(m=>!!m).slice().reverse();for(const m of y)h=m(f,{data:e,defaultError:h}).message;return{...a,path:u,message:h}};function P(r,e){const n=o_(),s=a_({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,n,n===jc?void 0:jc].filter(a=>!!a)});r.common.issues.push(s)}class Bt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const s=[];for(const a of n){if(a.status==="aborted")return me;a.status==="dirty"&&e.dirty(),s.push(a.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,n){const s=[];for(const a of n){const u=await a.key,f=await a.value;s.push({key:u,value:f})}return Bt.mergeObjectSync(e,s)}static mergeObjectSync(e,n){const s={};for(const a of n){const{key:u,value:f}=a;if(u.status==="aborted"||f.status==="aborted")return me;u.status==="dirty"&&e.dirty(),f.status==="dirty"&&e.dirty(),u.value!=="__proto__"&&(typeof f.value<"u"||a.alwaysSet)&&(s[u.value]=f.value)}return{status:e.value,value:s}}}const me=Object.freeze({status:"aborted"}),Gs=r=>({status:"dirty",value:r}),gn=r=>({status:"valid",value:r}),Rp=r=>r.status==="aborted",Up=r=>r.status==="dirty",es=r=>r.status==="valid",Ha=r=>typeof Promise<"u"&&r instanceof Promise;var H;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(H||(H={}));var Ka=function(r,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(r):s?s.value:e.get(r)},My=function(r,e,n,s,a){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!a:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?a.call(r,n):a?a.value=n:e.set(r,n),n},Xs,eo;class Vn{constructor(e,n,s,a){this._cachedPath=[],this.parent=e,this.data=n,this._path=s,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const zp=(r,e)=>{if(es(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ur(r.common.issues);return this._error=n,this._error}}};function _e(r){if(!r)return{};const{errorMap:e,invalid_type_error:n,required_error:s,description:a}=r;if(e&&(n||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(f,h)=>{const{message:y}=r;return f.code==="invalid_enum_value"?{message:y??h.defaultError}:typeof h.data>"u"?{message:y??s??h.defaultError}:f.code!=="invalid_type"?{message:h.defaultError}:{message:y??n??h.defaultError}},description:a}}class xe{get description(){return this._def.description}_getType(e){return Lr(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Lr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Bt,ctx:{common:e.parent.common,data:e.data,parsedType:Lr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Ha(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const s=this.safeParse(e,n);if(s.success)return s.data;throw s.error}safeParse(e,n){const s={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Lr(e)},a=this._parseSync({data:e,path:s.path,parent:s});return zp(s,a)}"~validate"(e){var s,a;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Lr(e)};if(!this["~standard"].async)try{const u=this._parseSync({data:e,path:[],parent:n});return es(u)?{value:u.value}:{issues:n.common.issues}}catch(u){(a=(s=u==null?void 0:u.message)==null?void 0:s.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(u=>es(u)?{value:u.value}:{issues:n.common.issues})}async parseAsync(e,n){const s=await this.safeParseAsync(e,n);if(s.success)return s.data;throw s.error}async safeParseAsync(e,n){const s={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Lr(e)},a=this._parse({data:e,path:s.path,parent:s}),u=await(Ha(a)?a:Promise.resolve(a));return zp(s,u)}refine(e,n){const s=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,u)=>{const f=e(a),h=()=>u.addIssue({code:L.custom,...s(a)});return typeof Promise<"u"&&f instanceof Promise?f.then(y=>y?!0:(h(),!1)):f?!0:(h(),!1)})}refinement(e,n){return this._refinement((s,a)=>e(s)?!0:(a.addIssue(typeof n=="function"?n(s,a):n),!1))}_refinement(e){return new rs({schema:this,typeName:M.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Pr.create(this,this._def)}nullable(){return is.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return zn.create(this)}promise(){return Ga.create(this,this._def)}or(e){return Qa.create([this,e],this._def)}and(e){return Ja.create(this,e,this._def)}transform(e){return new rs({..._e(this._def),schema:this,typeName:M.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Vc({..._e(this._def),innerType:this,defaultValue:n,typeName:M.ZodDefault})}brand(){return new C_({typeName:M.ZodBranded,type:this,..._e(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new $c({..._e(this._def),innerType:this,catchValue:n,typeName:M.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return fd.create(this,e)}readonly(){return Zc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const l_=/^c[^\s-]{8,}$/i,u_=/^[0-9a-z]+$/,c_=/^[0-9A-HJKMNP-TV-Z]{26}$/i,d_=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,f_=/^[a-z0-9_-]{21}$/i,h_=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,p_=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,y_=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,m_="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Nc;const g_=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,v_=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,__=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,w_=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,S_=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,I_=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Py="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",k_=new RegExp(`^${Py}$`);function jy(r){let e="[0-5]\\d";r.precision?e=`${e}\\.\\d{${r.precision}}`:r.precision==null&&(e=`${e}(\\.\\d+)?`);const n=r.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function x_(r){return new RegExp(`^${jy(r)}$`)}function b_(r){let e=`${Py}T${jy(r)}`;const n=[];return n.push(r.local?"Z?":"Z"),r.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function O_(r,e){return!!((e==="v4"||!e)&&g_.test(r)||(e==="v6"||!e)&&__.test(r))}function N_(r,e){if(!h_.test(r))return!1;try{const[n]=r.split("."),s=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(s));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function D_(r,e){return!!((e==="v4"||!e)&&v_.test(r)||(e==="v6"||!e)&&w_.test(r))}class lr extends xe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==z.string){const u=this._getOrReturnCtx(e);return P(u,{code:L.invalid_type,expected:z.string,received:u.parsedType}),me}const s=new Bt;let a;for(const u of this._def.checks)if(u.kind==="min")e.data.length<u.value&&(a=this._getOrReturnCtx(e,a),P(a,{code:L.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),s.dirty());else if(u.kind==="max")e.data.length>u.value&&(a=this._getOrReturnCtx(e,a),P(a,{code:L.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),s.dirty());else if(u.kind==="length"){const f=e.data.length>u.value,h=e.data.length<u.value;(f||h)&&(a=this._getOrReturnCtx(e,a),f?P(a,{code:L.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):h&&P(a,{code:L.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),s.dirty())}else if(u.kind==="email")y_.test(e.data)||(a=this._getOrReturnCtx(e,a),P(a,{validation:"email",code:L.invalid_string,message:u.message}),s.dirty());else if(u.kind==="emoji")Nc||(Nc=new RegExp(m_,"u")),Nc.test(e.data)||(a=this._getOrReturnCtx(e,a),P(a,{validation:"emoji",code:L.invalid_string,message:u.message}),s.dirty());else if(u.kind==="uuid")d_.test(e.data)||(a=this._getOrReturnCtx(e,a),P(a,{validation:"uuid",code:L.invalid_string,message:u.message}),s.dirty());else if(u.kind==="nanoid")f_.test(e.data)||(a=this._getOrReturnCtx(e,a),P(a,{validation:"nanoid",code:L.invalid_string,message:u.message}),s.dirty());else if(u.kind==="cuid")l_.test(e.data)||(a=this._getOrReturnCtx(e,a),P(a,{validation:"cuid",code:L.invalid_string,message:u.message}),s.dirty());else if(u.kind==="cuid2")u_.test(e.data)||(a=this._getOrReturnCtx(e,a),P(a,{validation:"cuid2",code:L.invalid_string,message:u.message}),s.dirty());else if(u.kind==="ulid")c_.test(e.data)||(a=this._getOrReturnCtx(e,a),P(a,{validation:"ulid",code:L.invalid_string,message:u.message}),s.dirty());else if(u.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),P(a,{validation:"url",code:L.invalid_string,message:u.message}),s.dirty()}else u.kind==="regex"?(u.regex.lastIndex=0,u.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),P(a,{validation:"regex",code:L.invalid_string,message:u.message}),s.dirty())):u.kind==="trim"?e.data=e.data.trim():u.kind==="includes"?e.data.includes(u.value,u.position)||(a=this._getOrReturnCtx(e,a),P(a,{code:L.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),s.dirty()):u.kind==="toLowerCase"?e.data=e.data.toLowerCase():u.kind==="toUpperCase"?e.data=e.data.toUpperCase():u.kind==="startsWith"?e.data.startsWith(u.value)||(a=this._getOrReturnCtx(e,a),P(a,{code:L.invalid_string,validation:{startsWith:u.value},message:u.message}),s.dirty()):u.kind==="endsWith"?e.data.endsWith(u.value)||(a=this._getOrReturnCtx(e,a),P(a,{code:L.invalid_string,validation:{endsWith:u.value},message:u.message}),s.dirty()):u.kind==="datetime"?b_(u).test(e.data)||(a=this._getOrReturnCtx(e,a),P(a,{code:L.invalid_string,validation:"datetime",message:u.message}),s.dirty()):u.kind==="date"?k_.test(e.data)||(a=this._getOrReturnCtx(e,a),P(a,{code:L.invalid_string,validation:"date",message:u.message}),s.dirty()):u.kind==="time"?x_(u).test(e.data)||(a=this._getOrReturnCtx(e,a),P(a,{code:L.invalid_string,validation:"time",message:u.message}),s.dirty()):u.kind==="duration"?p_.test(e.data)||(a=this._getOrReturnCtx(e,a),P(a,{validation:"duration",code:L.invalid_string,message:u.message}),s.dirty()):u.kind==="ip"?O_(e.data,u.version)||(a=this._getOrReturnCtx(e,a),P(a,{validation:"ip",code:L.invalid_string,message:u.message}),s.dirty()):u.kind==="jwt"?N_(e.data,u.alg)||(a=this._getOrReturnCtx(e,a),P(a,{validation:"jwt",code:L.invalid_string,message:u.message}),s.dirty()):u.kind==="cidr"?D_(e.data,u.version)||(a=this._getOrReturnCtx(e,a),P(a,{validation:"cidr",code:L.invalid_string,message:u.message}),s.dirty()):u.kind==="base64"?S_.test(e.data)||(a=this._getOrReturnCtx(e,a),P(a,{validation:"base64",code:L.invalid_string,message:u.message}),s.dirty()):u.kind==="base64url"?I_.test(e.data)||(a=this._getOrReturnCtx(e,a),P(a,{validation:"base64url",code:L.invalid_string,message:u.message}),s.dirty()):Ce.assertNever(u);return{status:s.value,value:e.data}}_regex(e,n,s){return this.refinement(a=>e.test(a),{validation:n,code:L.invalid_string,...H.errToObj(s)})}_addCheck(e){return new lr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...H.errToObj(e)})}url(e){return this._addCheck({kind:"url",...H.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...H.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...H.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...H.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...H.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...H.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...H.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...H.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...H.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...H.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...H.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...H.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...H.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...H.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...H.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...H.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...H.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...H.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...H.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...H.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...H.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...H.errToObj(n)})}nonempty(e){return this.min(1,H.errToObj(e))}trim(){return new lr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new lr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new lr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}lr.create=r=>new lr({checks:[],typeName:M.ZodString,coerce:(r==null?void 0:r.coerce)??!1,..._e(r)});function T_(r,e){const n=(r.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,a=n>s?n:s,u=Number.parseInt(r.toFixed(a).replace(".","")),f=Number.parseInt(e.toFixed(a).replace(".",""));return u%f/10**a}class ts extends xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==z.number){const u=this._getOrReturnCtx(e);return P(u,{code:L.invalid_type,expected:z.number,received:u.parsedType}),me}let s;const a=new Bt;for(const u of this._def.checks)u.kind==="int"?Ce.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),P(s,{code:L.invalid_type,expected:"integer",received:"float",message:u.message}),a.dirty()):u.kind==="min"?(u.inclusive?e.data<u.value:e.data<=u.value)&&(s=this._getOrReturnCtx(e,s),P(s,{code:L.too_small,minimum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),a.dirty()):u.kind==="max"?(u.inclusive?e.data>u.value:e.data>=u.value)&&(s=this._getOrReturnCtx(e,s),P(s,{code:L.too_big,maximum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),a.dirty()):u.kind==="multipleOf"?T_(e.data,u.value)!==0&&(s=this._getOrReturnCtx(e,s),P(s,{code:L.not_multiple_of,multipleOf:u.value,message:u.message}),a.dirty()):u.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),P(s,{code:L.not_finite,message:u.message}),a.dirty()):Ce.assertNever(u);return{status:a.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,H.toString(n))}gt(e,n){return this.setLimit("min",e,!1,H.toString(n))}lte(e,n){return this.setLimit("max",e,!0,H.toString(n))}lt(e,n){return this.setLimit("max",e,!1,H.toString(n))}setLimit(e,n,s,a){return new ts({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:s,message:H.toString(a)}]})}_addCheck(e){return new ts({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:H.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:H.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:H.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:H.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:H.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:H.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:H.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:H.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:H.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ce.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(n===null||s.value>n)&&(n=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ts.create=r=>new ts({checks:[],typeName:M.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,..._e(r)});class fo extends xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==z.bigint)return this._getInvalidInput(e);let s;const a=new Bt;for(const u of this._def.checks)u.kind==="min"?(u.inclusive?e.data<u.value:e.data<=u.value)&&(s=this._getOrReturnCtx(e,s),P(s,{code:L.too_small,type:"bigint",minimum:u.value,inclusive:u.inclusive,message:u.message}),a.dirty()):u.kind==="max"?(u.inclusive?e.data>u.value:e.data>=u.value)&&(s=this._getOrReturnCtx(e,s),P(s,{code:L.too_big,type:"bigint",maximum:u.value,inclusive:u.inclusive,message:u.message}),a.dirty()):u.kind==="multipleOf"?e.data%u.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),P(s,{code:L.not_multiple_of,multipleOf:u.value,message:u.message}),a.dirty()):Ce.assertNever(u);return{status:a.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return P(n,{code:L.invalid_type,expected:z.bigint,received:n.parsedType}),me}gte(e,n){return this.setLimit("min",e,!0,H.toString(n))}gt(e,n){return this.setLimit("min",e,!1,H.toString(n))}lte(e,n){return this.setLimit("max",e,!0,H.toString(n))}lt(e,n){return this.setLimit("max",e,!1,H.toString(n))}setLimit(e,n,s,a){return new fo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:s,message:H.toString(a)}]})}_addCheck(e){return new fo({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:H.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:H.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:H.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:H.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:H.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}fo.create=r=>new fo({checks:[],typeName:M.ZodBigInt,coerce:(r==null?void 0:r.coerce)??!1,..._e(r)});class Vp extends xe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==z.boolean){const s=this._getOrReturnCtx(e);return P(s,{code:L.invalid_type,expected:z.boolean,received:s.parsedType}),me}return gn(e.data)}}Vp.create=r=>new Vp({typeName:M.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,..._e(r)});class Ya extends xe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==z.date){const u=this._getOrReturnCtx(e);return P(u,{code:L.invalid_type,expected:z.date,received:u.parsedType}),me}if(Number.isNaN(e.data.getTime())){const u=this._getOrReturnCtx(e);return P(u,{code:L.invalid_date}),me}const s=new Bt;let a;for(const u of this._def.checks)u.kind==="min"?e.data.getTime()<u.value&&(a=this._getOrReturnCtx(e,a),P(a,{code:L.too_small,message:u.message,inclusive:!0,exact:!1,minimum:u.value,type:"date"}),s.dirty()):u.kind==="max"?e.data.getTime()>u.value&&(a=this._getOrReturnCtx(e,a),P(a,{code:L.too_big,message:u.message,inclusive:!0,exact:!1,maximum:u.value,type:"date"}),s.dirty()):Ce.assertNever(u);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ya({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:H.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:H.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Ya.create=r=>new Ya({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:M.ZodDate,..._e(r)});class $p extends xe{_parse(e){if(this._getType(e)!==z.symbol){const s=this._getOrReturnCtx(e);return P(s,{code:L.invalid_type,expected:z.symbol,received:s.parsedType}),me}return gn(e.data)}}$p.create=r=>new $p({typeName:M.ZodSymbol,..._e(r)});class Zp extends xe{_parse(e){if(this._getType(e)!==z.undefined){const s=this._getOrReturnCtx(e);return P(s,{code:L.invalid_type,expected:z.undefined,received:s.parsedType}),me}return gn(e.data)}}Zp.create=r=>new Zp({typeName:M.ZodUndefined,..._e(r)});class Wp extends xe{_parse(e){if(this._getType(e)!==z.null){const s=this._getOrReturnCtx(e);return P(s,{code:L.invalid_type,expected:z.null,received:s.parsedType}),me}return gn(e.data)}}Wp.create=r=>new Wp({typeName:M.ZodNull,..._e(r)});class Rc extends xe{constructor(){super(...arguments),this._any=!0}_parse(e){return gn(e.data)}}Rc.create=r=>new Rc({typeName:M.ZodAny,..._e(r)});class Hp extends xe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return gn(e.data)}}Hp.create=r=>new Hp({typeName:M.ZodUnknown,..._e(r)});class jr extends xe{_parse(e){const n=this._getOrReturnCtx(e);return P(n,{code:L.invalid_type,expected:z.never,received:n.parsedType}),me}}jr.create=r=>new jr({typeName:M.ZodNever,..._e(r)});class Kp extends xe{_parse(e){if(this._getType(e)!==z.undefined){const s=this._getOrReturnCtx(e);return P(s,{code:L.invalid_type,expected:z.void,received:s.parsedType}),me}return gn(e.data)}}Kp.create=r=>new Kp({typeName:M.ZodVoid,..._e(r)});class zn extends xe{_parse(e){const{ctx:n,status:s}=this._processInputParams(e),a=this._def;if(n.parsedType!==z.array)return P(n,{code:L.invalid_type,expected:z.array,received:n.parsedType}),me;if(a.exactLength!==null){const f=n.data.length>a.exactLength.value,h=n.data.length<a.exactLength.value;(f||h)&&(P(n,{code:f?L.too_big:L.too_small,minimum:h?a.exactLength.value:void 0,maximum:f?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(P(n,{code:L.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(P(n,{code:L.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),n.common.async)return Promise.all([...n.data].map((f,h)=>a.type._parseAsync(new Vn(n,f,n.path,h)))).then(f=>Bt.mergeArray(s,f));const u=[...n.data].map((f,h)=>a.type._parseSync(new Vn(n,f,n.path,h)));return Bt.mergeArray(s,u)}get element(){return this._def.type}min(e,n){return new zn({...this._def,minLength:{value:e,message:H.toString(n)}})}max(e,n){return new zn({...this._def,maxLength:{value:e,message:H.toString(n)}})}length(e,n){return new zn({...this._def,exactLength:{value:e,message:H.toString(n)}})}nonempty(e){return this.min(1,e)}}zn.create=(r,e)=>new zn({type:r,minLength:null,maxLength:null,exactLength:null,typeName:M.ZodArray,..._e(e)});function ji(r){if(r instanceof ot){const e={};for(const n in r.shape){const s=r.shape[n];e[n]=Pr.create(ji(s))}return new ot({...r._def,shape:()=>e})}else return r instanceof zn?new zn({...r._def,type:ji(r.element)}):r instanceof Pr?Pr.create(ji(r.unwrap())):r instanceof is?is.create(ji(r.unwrap())):r instanceof ui?ui.create(r.items.map(e=>ji(e))):r}class ot extends xe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ce.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==z.object){const m=this._getOrReturnCtx(e);return P(m,{code:L.invalid_type,expected:z.object,received:m.parsedType}),me}const{status:s,ctx:a}=this._processInputParams(e),{shape:u,keys:f}=this._getCached(),h=[];if(!(this._def.catchall instanceof jr&&this._def.unknownKeys==="strip"))for(const m in a.data)f.includes(m)||h.push(m);const y=[];for(const m of f){const _=u[m],O=a.data[m];y.push({key:{status:"valid",value:m},value:_._parse(new Vn(a,O,a.path,m)),alwaysSet:m in a.data})}if(this._def.catchall instanceof jr){const m=this._def.unknownKeys;if(m==="passthrough")for(const _ of h)y.push({key:{status:"valid",value:_},value:{status:"valid",value:a.data[_]}});else if(m==="strict")h.length>0&&(P(a,{code:L.unrecognized_keys,keys:h}),s.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const _ of h){const O=a.data[_];y.push({key:{status:"valid",value:_},value:m._parse(new Vn(a,O,a.path,_)),alwaysSet:_ in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const m=[];for(const _ of y){const O=await _.key,E=await _.value;m.push({key:O,value:E,alwaysSet:_.alwaysSet})}return m}).then(m=>Bt.mergeObjectSync(s,m)):Bt.mergeObjectSync(s,y)}get shape(){return this._def.shape()}strict(e){return H.errToObj,new ot({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,s)=>{var u,f;const a=((f=(u=this._def).errorMap)==null?void 0:f.call(u,n,s).message)??s.defaultError;return n.code==="unrecognized_keys"?{message:H.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new ot({...this._def,unknownKeys:"strip"})}passthrough(){return new ot({...this._def,unknownKeys:"passthrough"})}extend(e){return new ot({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ot({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:M.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new ot({...this._def,catchall:e})}pick(e){const n={};for(const s of Ce.objectKeys(e))e[s]&&this.shape[s]&&(n[s]=this.shape[s]);return new ot({...this._def,shape:()=>n})}omit(e){const n={};for(const s of Ce.objectKeys(this.shape))e[s]||(n[s]=this.shape[s]);return new ot({...this._def,shape:()=>n})}deepPartial(){return ji(this)}partial(e){const n={};for(const s of Ce.objectKeys(this.shape)){const a=this.shape[s];e&&!e[s]?n[s]=a:n[s]=a.optional()}return new ot({...this._def,shape:()=>n})}required(e){const n={};for(const s of Ce.objectKeys(this.shape))if(e&&!e[s])n[s]=this.shape[s];else{let u=this.shape[s];for(;u instanceof Pr;)u=u._def.innerType;n[s]=u}return new ot({...this._def,shape:()=>n})}keyof(){return Ry(Ce.objectKeys(this.shape))}}ot.create=(r,e)=>new ot({shape:()=>r,unknownKeys:"strip",catchall:jr.create(),typeName:M.ZodObject,..._e(e)});ot.strictCreate=(r,e)=>new ot({shape:()=>r,unknownKeys:"strict",catchall:jr.create(),typeName:M.ZodObject,..._e(e)});ot.lazycreate=(r,e)=>new ot({shape:r,unknownKeys:"strip",catchall:jr.create(),typeName:M.ZodObject,..._e(e)});class Qa extends xe{_parse(e){const{ctx:n}=this._processInputParams(e),s=this._def.options;function a(u){for(const h of u)if(h.result.status==="valid")return h.result;for(const h of u)if(h.result.status==="dirty")return n.common.issues.push(...h.ctx.common.issues),h.result;const f=u.map(h=>new ur(h.ctx.common.issues));return P(n,{code:L.invalid_union,unionErrors:f}),me}if(n.common.async)return Promise.all(s.map(async u=>{const f={...n,common:{...n.common,issues:[]},parent:null};return{result:await u._parseAsync({data:n.data,path:n.path,parent:f}),ctx:f}})).then(a);{let u;const f=[];for(const y of s){const m={...n,common:{...n.common,issues:[]},parent:null},_=y._parseSync({data:n.data,path:n.path,parent:m});if(_.status==="valid")return _;_.status==="dirty"&&!u&&(u={result:_,ctx:m}),m.common.issues.length&&f.push(m.common.issues)}if(u)return n.common.issues.push(...u.ctx.common.issues),u.result;const h=f.map(y=>new ur(y));return P(n,{code:L.invalid_union,unionErrors:h}),me}}get options(){return this._def.options}}Qa.create=(r,e)=>new Qa({options:r,typeName:M.ZodUnion,..._e(e)});function Uc(r,e){const n=Lr(r),s=Lr(e);if(r===e)return{valid:!0,data:r};if(n===z.object&&s===z.object){const a=Ce.objectKeys(e),u=Ce.objectKeys(r).filter(h=>a.indexOf(h)!==-1),f={...r,...e};for(const h of u){const y=Uc(r[h],e[h]);if(!y.valid)return{valid:!1};f[h]=y.data}return{valid:!0,data:f}}else if(n===z.array&&s===z.array){if(r.length!==e.length)return{valid:!1};const a=[];for(let u=0;u<r.length;u++){const f=r[u],h=e[u],y=Uc(f,h);if(!y.valid)return{valid:!1};a.push(y.data)}return{valid:!0,data:a}}else return n===z.date&&s===z.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}class Ja extends xe{_parse(e){const{status:n,ctx:s}=this._processInputParams(e),a=(u,f)=>{if(Rp(u)||Rp(f))return me;const h=Uc(u.value,f.value);return h.valid?((Up(u)||Up(f))&&n.dirty(),{status:n.value,value:h.data}):(P(s,{code:L.invalid_intersection_types}),me)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([u,f])=>a(u,f)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Ja.create=(r,e,n)=>new Ja({left:r,right:e,typeName:M.ZodIntersection,..._e(n)});class ui extends xe{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==z.array)return P(s,{code:L.invalid_type,expected:z.array,received:s.parsedType}),me;if(s.data.length<this._def.items.length)return P(s,{code:L.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),me;!this._def.rest&&s.data.length>this._def.items.length&&(P(s,{code:L.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const u=[...s.data].map((f,h)=>{const y=this._def.items[h]||this._def.rest;return y?y._parse(new Vn(s,f,s.path,h)):null}).filter(f=>!!f);return s.common.async?Promise.all(u).then(f=>Bt.mergeArray(n,f)):Bt.mergeArray(n,u)}get items(){return this._def.items}rest(e){return new ui({...this._def,rest:e})}}ui.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ui({items:r,typeName:M.ZodTuple,rest:null,..._e(e)})};class qa extends xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==z.object)return P(s,{code:L.invalid_type,expected:z.object,received:s.parsedType}),me;const a=[],u=this._def.keyType,f=this._def.valueType;for(const h in s.data)a.push({key:u._parse(new Vn(s,h,s.path,h)),value:f._parse(new Vn(s,s.data[h],s.path,h)),alwaysSet:h in s.data});return s.common.async?Bt.mergeObjectAsync(n,a):Bt.mergeObjectSync(n,a)}get element(){return this._def.valueType}static create(e,n,s){return n instanceof xe?new qa({keyType:e,valueType:n,typeName:M.ZodRecord,..._e(s)}):new qa({keyType:lr.create(),valueType:e,typeName:M.ZodRecord,..._e(n)})}}class Yp extends xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==z.map)return P(s,{code:L.invalid_type,expected:z.map,received:s.parsedType}),me;const a=this._def.keyType,u=this._def.valueType,f=[...s.data.entries()].map(([h,y],m)=>({key:a._parse(new Vn(s,h,s.path,[m,"key"])),value:u._parse(new Vn(s,y,s.path,[m,"value"]))}));if(s.common.async){const h=new Map;return Promise.resolve().then(async()=>{for(const y of f){const m=await y.key,_=await y.value;if(m.status==="aborted"||_.status==="aborted")return me;(m.status==="dirty"||_.status==="dirty")&&n.dirty(),h.set(m.value,_.value)}return{status:n.value,value:h}})}else{const h=new Map;for(const y of f){const m=y.key,_=y.value;if(m.status==="aborted"||_.status==="aborted")return me;(m.status==="dirty"||_.status==="dirty")&&n.dirty(),h.set(m.value,_.value)}return{status:n.value,value:h}}}}Yp.create=(r,e,n)=>new Yp({valueType:e,keyType:r,typeName:M.ZodMap,..._e(n)});class ho extends xe{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==z.set)return P(s,{code:L.invalid_type,expected:z.set,received:s.parsedType}),me;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(P(s,{code:L.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(P(s,{code:L.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const u=this._def.valueType;function f(y){const m=new Set;for(const _ of y){if(_.status==="aborted")return me;_.status==="dirty"&&n.dirty(),m.add(_.value)}return{status:n.value,value:m}}const h=[...s.data.values()].map((y,m)=>u._parse(new Vn(s,y,s.path,m)));return s.common.async?Promise.all(h).then(y=>f(y)):f(h)}min(e,n){return new ho({...this._def,minSize:{value:e,message:H.toString(n)}})}max(e,n){return new ho({...this._def,maxSize:{value:e,message:H.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ho.create=(r,e)=>new ho({valueType:r,minSize:null,maxSize:null,typeName:M.ZodSet,..._e(e)});class Qp extends xe{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Qp.create=(r,e)=>new Qp({getter:r,typeName:M.ZodLazy,..._e(e)});class zc extends xe{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return P(n,{received:n.data,code:L.invalid_literal,expected:this._def.value}),me}return{status:"valid",value:e.data}}get value(){return this._def.value}}zc.create=(r,e)=>new zc({value:r,typeName:M.ZodLiteral,..._e(e)});function Ry(r,e){return new ns({values:r,typeName:M.ZodEnum,..._e(e)})}class ns extends xe{constructor(){super(...arguments),Xs.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),s=this._def.values;return P(n,{expected:Ce.joinValues(s),received:n.parsedType,code:L.invalid_type}),me}if(Ka(this,Xs,"f")||My(this,Xs,new Set(this._def.values),"f"),!Ka(this,Xs,"f").has(e.data)){const n=this._getOrReturnCtx(e),s=this._def.values;return P(n,{received:n.data,code:L.invalid_enum_value,options:s}),me}return gn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return ns.create(e,{...this._def,...n})}exclude(e,n=this._def){return ns.create(this.options.filter(s=>!e.includes(s)),{...this._def,...n})}}Xs=new WeakMap;ns.create=Ry;class Jp extends xe{constructor(){super(...arguments),eo.set(this,void 0)}_parse(e){const n=Ce.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==z.string&&s.parsedType!==z.number){const a=Ce.objectValues(n);return P(s,{expected:Ce.joinValues(a),received:s.parsedType,code:L.invalid_type}),me}if(Ka(this,eo,"f")||My(this,eo,new Set(Ce.getValidEnumValues(this._def.values)),"f"),!Ka(this,eo,"f").has(e.data)){const a=Ce.objectValues(n);return P(s,{received:s.data,code:L.invalid_enum_value,options:a}),me}return gn(e.data)}get enum(){return this._def.values}}eo=new WeakMap;Jp.create=(r,e)=>new Jp({values:r,typeName:M.ZodNativeEnum,..._e(e)});class Ga extends xe{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==z.promise&&n.common.async===!1)return P(n,{code:L.invalid_type,expected:z.promise,received:n.parsedType}),me;const s=n.parsedType===z.promise?n.data:Promise.resolve(n.data);return gn(s.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ga.create=(r,e)=>new Ga({type:r,typeName:M.ZodPromise,..._e(e)});class rs extends xe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===M.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:s}=this._processInputParams(e),a=this._def.effect||null,u={addIssue:f=>{P(s,f),f.fatal?n.abort():n.dirty()},get path(){return s.path}};if(u.addIssue=u.addIssue.bind(u),a.type==="preprocess"){const f=a.transform(s.data,u);if(s.common.async)return Promise.resolve(f).then(async h=>{if(n.value==="aborted")return me;const y=await this._def.schema._parseAsync({data:h,path:s.path,parent:s});return y.status==="aborted"?me:y.status==="dirty"||n.value==="dirty"?Gs(y.value):y});{if(n.value==="aborted")return me;const h=this._def.schema._parseSync({data:f,path:s.path,parent:s});return h.status==="aborted"?me:h.status==="dirty"||n.value==="dirty"?Gs(h.value):h}}if(a.type==="refinement"){const f=h=>{const y=a.refinement(h,u);if(s.common.async)return Promise.resolve(y);if(y instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return h};if(s.common.async===!1){const h=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return h.status==="aborted"?me:(h.status==="dirty"&&n.dirty(),f(h.value),{status:n.value,value:h.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(h=>h.status==="aborted"?me:(h.status==="dirty"&&n.dirty(),f(h.value).then(()=>({status:n.value,value:h.value}))))}if(a.type==="transform")if(s.common.async===!1){const f=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!es(f))return f;const h=a.transform(f.value,u);if(h instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:h}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(f=>es(f)?Promise.resolve(a.transform(f.value,u)).then(h=>({status:n.value,value:h})):f);Ce.assertNever(a)}}rs.create=(r,e,n)=>new rs({schema:r,typeName:M.ZodEffects,effect:e,..._e(n)});rs.createWithPreprocess=(r,e,n)=>new rs({schema:e,effect:{type:"preprocess",transform:r},typeName:M.ZodEffects,..._e(n)});class Pr extends xe{_parse(e){return this._getType(e)===z.undefined?gn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Pr.create=(r,e)=>new Pr({innerType:r,typeName:M.ZodOptional,..._e(e)});class is extends xe{_parse(e){return this._getType(e)===z.null?gn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}is.create=(r,e)=>new is({innerType:r,typeName:M.ZodNullable,..._e(e)});class Vc extends xe{_parse(e){const{ctx:n}=this._processInputParams(e);let s=n.data;return n.parsedType===z.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Vc.create=(r,e)=>new Vc({innerType:r,typeName:M.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,..._e(e)});class $c extends xe{_parse(e){const{ctx:n}=this._processInputParams(e),s={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Ha(a)?a.then(u=>({status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new ur(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ur(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}$c.create=(r,e)=>new $c({innerType:r,typeName:M.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,..._e(e)});class qp extends xe{_parse(e){if(this._getType(e)!==z.nan){const s=this._getOrReturnCtx(e);return P(s,{code:L.invalid_type,expected:z.nan,received:s.parsedType}),me}return{status:"valid",value:e.data}}}qp.create=r=>new qp({typeName:M.ZodNaN,..._e(r)});class C_ extends xe{_parse(e){const{ctx:n}=this._processInputParams(e),s=n.data;return this._def.type._parse({data:s,path:n.path,parent:n})}unwrap(){return this._def.type}}class fd extends xe{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const u=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return u.status==="aborted"?me:u.status==="dirty"?(n.dirty(),Gs(u.value)):this._def.out._parseAsync({data:u.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?me:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(e,n){return new fd({in:e,out:n,typeName:M.ZodPipeline})}}class Zc extends xe{_parse(e){const n=this._def.innerType._parse(e),s=a=>(es(a)&&(a.value=Object.freeze(a.value)),a);return Ha(n)?n.then(a=>s(a)):s(n)}unwrap(){return this._def.innerType}}Zc.create=(r,e)=>new Zc({innerType:r,typeName:M.ZodReadonly,..._e(e)});var M;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(M||(M={}));const Wc=lr.create,Pa=ts.create,A_=Rc.create;jr.create;const Uy=zn.create,Mi=ot.create,Qs=Qa.create;Ja.create;ui.create;const E_=qa.create,dn=zc.create;ns.create;Ga.create;Pr.create;is.create;const Gp=Wc().min(1),B_=E_(Uy(Pa())),Hc=Mi({meta:Mi({dsl_version:dn("1.0"),created_at:Wc().datetime({offset:!0})}),data_source:dn("jquants_v1"),universe:Uy(Wc()).min(1),cash:Pa().nonnegative(),entry:Mi({condition:Gp,timing:Qs([dn("next_open"),dn("next_close")])}),exit:Mi({condition:Qs([Gp,dn("")]),timing:Qs([dn("current_close"),dn("intraday")])}),stop_loss:Mi({type:Qs([dn("percent"),dn("value")]),value:Pa().positive()}).nullable(),take_profit:A_().nullable(),position:Mi({size_type:Qs([dn("all_cash"),dn("fixed"),dn("percent")]),value:Pa().nullable()}),indicators:B_});function zy(r,e,n,s){s!=null&&s.errorMessages&&n&&(r.errorMessage={...r.errorMessage,[e]:n})}function Re(r,e,n,s,a){r[e]=n,zy(r,e,s,a)}const L_={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"string",mapStrategy:"entries",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",emailStrategy:"format:email"},F_=r=>({...L_,...r});function M_(){return{}}function P_(r,e){var s,a;const n={type:"array"};return((a=(s=r.type)==null?void 0:s._def)==null?void 0:a.typeName)!==M.ZodAny&&(n.items=Fe(r.type._def,{...e,currentPath:[...e.currentPath,"items"]})),r.minLength&&Re(n,"minItems",r.minLength.value,r.minLength.message,e),r.maxLength&&Re(n,"maxItems",r.maxLength.value,r.maxLength.message,e),r.exactLength&&(Re(n,"minItems",r.exactLength.value,r.exactLength.message,e),Re(n,"maxItems",r.exactLength.value,r.exactLength.message,e)),n}function j_(r,e){const n={type:"integer",format:"int64"};if(!r.checks)return n;for(const s of r.checks)switch(s.kind){case"min":e.target==="jsonSchema7"?s.inclusive?Re(n,"minimum",s.value,s.message,e):Re(n,"exclusiveMinimum",s.value,s.message,e):(s.inclusive||(n.exclusiveMinimum=!0),Re(n,"minimum",s.value,s.message,e));break;case"max":e.target==="jsonSchema7"?s.inclusive?Re(n,"maximum",s.value,s.message,e):Re(n,"exclusiveMaximum",s.value,s.message,e):(s.inclusive||(n.exclusiveMaximum=!0),Re(n,"maximum",s.value,s.message,e));break;case"multipleOf":Re(n,"multipleOf",s.value,s.message,e);break}return n}function R_(){return{type:"boolean"}}function U_(r,e){return Fe(r.type._def,e)}const z_=(r,e)=>Fe(r.innerType._def,e);function V_(r,e){return e.dateStrategy=="integer"?$_(r,e):{type:"string",format:"date-time"}}const $_=(r,e)=>{const n={type:"integer",format:"unix-time"};for(const s of r.checks)switch(s.kind){case"min":e.target==="jsonSchema7"&&Re(n,"minimum",s.value,s.message,e);break;case"max":e.target==="jsonSchema7"&&Re(n,"maximum",s.value,s.message,e);break}return n};function Z_(r,e){return{...Fe(r.innerType._def,e),default:r.defaultValue()}}function W_(r,e){return e.effectStrategy==="input"?Fe(r.schema._def,e):{}}function H_(r){return{type:"string",enum:r.values}}const K_=r=>"type"in r&&r.type==="string"?!1:"allOf"in r;function Y_(r,e){const n=[Fe(r.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),Fe(r.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(u=>!!u);let s=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const a=[];return n.forEach(u=>{if(K_(u))a.push(...u.allOf),u.unevaluatedProperties===void 0&&(s=void 0);else{let f=u;if("additionalProperties"in u&&u.additionalProperties===!1){const{additionalProperties:h,...y}=u;f=y}else s=void 0;a.push(f)}}),a.length?{allOf:a,...s}:void 0}function Q_(r,e){const n=typeof r.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(r.value)?"array":"object"}:e.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[r.value]}:{type:n==="bigint"?"integer":n,const:r.value}}const Js={cuid:"^[cC][^\\s-]{8,}$",cuid2:"^[a-z][a-z0-9]*$",ulid:"^[0-9A-HJKMNP-TV-Z]{26}$",email:"^(?!\\.)(?!.*\\.\\.)([a-zA-Z0-9_+-\\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\\-]*\\.)+[a-zA-Z]{2,}$",emoji:"^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$"};function Vy(r,e){const n={type:"string"};function s(a){return e.patternStrategy==="escape"?J_(a):a}if(r.checks)for(const a of r.checks)switch(a.kind){case"min":Re(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,a.value):a.value,a.message,e);break;case"max":Re(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,a.value):a.value,a.message,e);break;case"email":switch(e.emailStrategy){case"format:email":si(n,"email",a.message,e);break;case"format:idn-email":si(n,"idn-email",a.message,e);break;case"pattern:zod":er(n,Js.email,a.message,e);break}break;case"url":si(n,"uri",a.message,e);break;case"uuid":si(n,"uuid",a.message,e);break;case"regex":er(n,a.regex.source,a.message,e);break;case"cuid":er(n,Js.cuid,a.message,e);break;case"cuid2":er(n,Js.cuid2,a.message,e);break;case"startsWith":er(n,"^"+s(a.value),a.message,e);break;case"endsWith":er(n,s(a.value)+"$",a.message,e);break;case"datetime":si(n,"date-time",a.message,e);break;case"length":Re(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,a.value):a.value,a.message,e),Re(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,a.value):a.value,a.message,e);break;case"includes":{er(n,s(a.value),a.message,e);break}case"ip":{a.version!=="v6"&&si(n,"ipv4",a.message,e),a.version!=="v4"&&si(n,"ipv6",a.message,e);break}case"emoji":er(n,Js.emoji,a.message,e);break;case"ulid":{er(n,Js.ulid,a.message,e);break}}return n}const J_=r=>Array.from(r).map(e=>/[a-zA-Z0-9]/.test(e)?e:`\\${e}`).join(""),si=(r,e,n,s)=>{var a;r.format||(a=r.anyOf)!=null&&a.some(u=>u.format)?(r.anyOf||(r.anyOf=[]),r.format&&(r.anyOf.push({format:r.format,...r.errorMessage&&s.errorMessages&&{errorMessage:{format:r.errorMessage.format}}}),delete r.format,r.errorMessage&&(delete r.errorMessage.format,Object.keys(r.errorMessage).length===0&&delete r.errorMessage)),r.anyOf.push({format:e,...n&&s.errorMessages&&{errorMessage:{format:n}}})):Re(r,"format",e,n,s)},er=(r,e,n,s)=>{var a;r.pattern||(a=r.allOf)!=null&&a.some(u=>u.pattern)?(r.allOf||(r.allOf=[]),r.pattern&&(r.allOf.push({pattern:r.pattern,...r.errorMessage&&s.errorMessages&&{errorMessage:{pattern:r.errorMessage.pattern}}}),delete r.pattern,r.errorMessage&&(delete r.errorMessage.pattern,Object.keys(r.errorMessage).length===0&&delete r.errorMessage)),r.allOf.push({pattern:e,...n&&s.errorMessages&&{errorMessage:{pattern:n}}})):Re(r,"pattern",e,n,s)};function $y(r,e){var s,a,u,f;if(e.target==="openApi3"&&((s=r.keyType)==null?void 0:s._def.typeName)===M.ZodEnum)return{type:"object",required:r.keyType._def.values,properties:r.keyType._def.values.reduce((h,y)=>({...h,[y]:Fe(r.valueType._def,{...e,currentPath:[...e.currentPath,"properties",y]})??{}}),{}),additionalProperties:!1};const n={type:"object",additionalProperties:Fe(r.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??{}};if(e.target==="openApi3")return n;if(((a=r.keyType)==null?void 0:a._def.typeName)===M.ZodString&&((u=r.keyType._def.checks)!=null&&u.length)){const h=Object.entries(Vy(r.keyType._def,e)).reduce((y,[m,_])=>m==="type"?y:{...y,[m]:_},{});return{...n,propertyNames:h}}else if(((f=r.keyType)==null?void 0:f._def.typeName)===M.ZodEnum)return{...n,propertyNames:{enum:r.keyType._def.values}};return n}function q_(r,e){if(e.mapStrategy==="record")return $y(r,e);const n=Fe(r.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},s=Fe(r.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[n,s],minItems:2,maxItems:2}}}function G_(r){const e=r.values,s=Object.keys(r.values).filter(u=>typeof e[e[u]]!="number").map(u=>e[u]),a=Array.from(new Set(s.map(u=>typeof u)));return{type:a.length===1?a[0]==="string"?"string":"number":["string","number"],enum:s}}function X_(){return{not:{}}}function ew(r){return r.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const Xa={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function tw(r,e){if(e.target==="openApi3")return Xp(r,e);const n=r.options instanceof Map?Array.from(r.options.values()):r.options;if(n.every(s=>s._def.typeName in Xa&&(!s._def.checks||!s._def.checks.length))){const s=n.reduce((a,u)=>{const f=Xa[u._def.typeName];return f&&!a.includes(f)?[...a,f]:a},[]);return{type:s.length>1?s:s[0]}}else if(n.every(s=>s._def.typeName==="ZodLiteral"&&!s.description)){const s=n.reduce((a,u)=>{const f=typeof u._def.value;switch(f){case"string":case"number":case"boolean":return[...a,f];case"bigint":return[...a,"integer"];case"object":if(u._def.value===null)return[...a,"null"];case"symbol":case"undefined":case"function":default:return a}},[]);if(s.length===n.length){const a=s.filter((u,f,h)=>h.indexOf(u)===f);return{type:a.length>1?a:a[0],enum:n.reduce((u,f)=>u.includes(f._def.value)?u:[...u,f._def.value],[])}}}else if(n.every(s=>s._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((s,a)=>[...s,...a._def.values.filter(u=>!s.includes(u))],[])};return Xp(r,e)}const Xp=(r,e)=>{const n=(r.options instanceof Map?Array.from(r.options.values()):r.options).map((s,a)=>Fe(s._def,{...e,currentPath:[...e.currentPath,"anyOf",`${a}`]})).filter(s=>!!s&&(!e.strictUnions||typeof s=="object"&&Object.keys(s).length>0));return n.length?{anyOf:n}:void 0};function nw(r,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(r.innerType._def.typeName)&&(!r.innerType._def.checks||!r.innerType._def.checks.length))return e.target==="openApi3"?{type:Xa[r.innerType._def.typeName],nullable:!0}:{type:[Xa[r.innerType._def.typeName],"null"]};if(e.target==="openApi3"){const s=Fe(r.innerType._def,{...e,currentPath:[...e.currentPath]});return s&&"$ref"in s?{allOf:[s],nullable:!0}:s&&{...s,nullable:!0}}const n=Fe(r.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function rw(r,e){const n={type:"number"};if(!r.checks)return n;for(const s of r.checks)switch(s.kind){case"int":n.type="integer",zy(n,"type",s.message,e);break;case"min":e.target==="jsonSchema7"?s.inclusive?Re(n,"minimum",s.value,s.message,e):Re(n,"exclusiveMinimum",s.value,s.message,e):(s.inclusive||(n.exclusiveMinimum=!0),Re(n,"minimum",s.value,s.message,e));break;case"max":e.target==="jsonSchema7"?s.inclusive?Re(n,"maximum",s.value,s.message,e):Re(n,"exclusiveMaximum",s.value,s.message,e):(s.inclusive||(n.exclusiveMaximum=!0),Re(n,"maximum",s.value,s.message,e));break;case"multipleOf":Re(n,"multipleOf",s.value,s.message,e);break}return n}function iw(r,e){const n={type:"object",...Object.entries(r.shape()).reduce((s,[a,u])=>{if(u===void 0||u._def===void 0)return s;const f=Fe(u._def,{...e,currentPath:[...e.currentPath,"properties",a],propertyPath:[...e.currentPath,"properties",a]});return f===void 0?s:{properties:{...s.properties,[a]:f},required:u.isOptional()?s.required:[...s.required,a]}},{properties:{},required:[]}),additionalProperties:r.catchall._def.typeName==="ZodNever"?r.unknownKeys==="passthrough":Fe(r.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0};return n.required.length||delete n.required,n}const sw=(r,e)=>{var s;if(e.currentPath.toString()===((s=e.propertyPath)==null?void 0:s.toString()))return Fe(r.innerType._def,e);const n=Fe(r.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return n?{anyOf:[{not:{}},n]}:{}},ow=(r,e)=>{if(e.pipeStrategy==="input")return Fe(r.in._def,e);if(e.pipeStrategy==="output")return Fe(r.out._def,e);const n=Fe(r.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),s=Fe(r.out._def,{...e,currentPath:[...e.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,s].filter(a=>a!==void 0)}};function aw(r,e){return Fe(r.type._def,e)}function lw(r,e){const s={type:"array",uniqueItems:!0,items:Fe(r.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return r.minSize&&Re(s,"minItems",r.minSize.value,r.minSize.message,e),r.maxSize&&Re(s,"maxItems",r.maxSize.value,r.maxSize.message,e),s}function uw(r,e){return r.rest?{type:"array",minItems:r.items.length,items:r.items.map((n,s)=>Fe(n._def,{...e,currentPath:[...e.currentPath,"items",`${s}`]})).reduce((n,s)=>s===void 0?n:[...n,s],[]),additionalItems:Fe(r.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:r.items.length,maxItems:r.items.length,items:r.items.map((n,s)=>Fe(n._def,{...e,currentPath:[...e.currentPath,"items",`${s}`]})).reduce((n,s)=>s===void 0?n:[...n,s],[])}}function cw(){return{not:{}}}function dw(){return{}}const fw=(r,e)=>Fe(r.innerType._def,e);function Fe(r,e,n=!1){const s=e.seen.get(r);if(s&&!n){const f=hw(s,e);if(f!==void 0)return f}const a={def:r,path:e.currentPath,jsonSchema:void 0};e.seen.set(r,a);const u=yw(r,r.typeName,e);return u&&mw(r,e,u),a.jsonSchema=u,u}const hw=(r,e)=>{switch(e.$refStrategy){case"root":return{$ref:r.path.join("/")};case"relative":return{$ref:pw(e.currentPath,r.path)};case"none":case"seen":return r.path.length<e.currentPath.length&&r.path.every((n,s)=>e.currentPath[s]===n)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},pw=(r,e)=>{let n=0;for(;n<r.length&&n<e.length&&r[n]===e[n];n++);return[(r.length-n).toString(),...e.slice(n)].join("/")},yw=(r,e,n)=>{switch(e){case M.ZodString:return Vy(r,n);case M.ZodNumber:return rw(r,n);case M.ZodObject:return iw(r,n);case M.ZodBigInt:return j_(r,n);case M.ZodBoolean:return R_();case M.ZodDate:return V_(r,n);case M.ZodUndefined:return cw();case M.ZodNull:return ew(n);case M.ZodArray:return P_(r,n);case M.ZodUnion:case M.ZodDiscriminatedUnion:return tw(r,n);case M.ZodIntersection:return Y_(r,n);case M.ZodTuple:return uw(r,n);case M.ZodRecord:return $y(r,n);case M.ZodLiteral:return Q_(r,n);case M.ZodEnum:return H_(r);case M.ZodNativeEnum:return G_(r);case M.ZodNullable:return nw(r,n);case M.ZodOptional:return sw(r,n);case M.ZodMap:return q_(r,n);case M.ZodSet:return lw(r,n);case M.ZodLazy:return Fe(r.getter()._def,n);case M.ZodPromise:return aw(r,n);case M.ZodNaN:case M.ZodNever:return X_();case M.ZodEffects:return W_(r,n);case M.ZodAny:return M_();case M.ZodUnknown:return dw();case M.ZodDefault:return Z_(r,n);case M.ZodBranded:return U_(r,n);case M.ZodReadonly:return fw(r,n);case M.ZodCatch:return z_(r,n);case M.ZodPipeline:return ow(r,n);case M.ZodFunction:case M.ZodVoid:case M.ZodSymbol:return;default:return(s=>{})()}},mw=(r,e,n)=>(r.description&&(n.description=r.description,e.markdownDescription&&(n.markdownDescription=r.description)),n),gw=r=>{const e=F_(r),n=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([s,a])=>[a._def,{def:a._def,path:[...e.basePath,e.definitionPath,s],jsonSchema:void 0}]))}},vw=(r,e)=>{const n=gw(e),s=void 0,a=e==null?void 0:e.name,u=Fe(r._def,n,!1)??{},f=a===void 0?s?{...u,[n.definitionPath]:s}:u:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,a].join("/"),[n.definitionPath]:{...s,[a]:u}};return n.target==="jsonSchema7"?f.$schema="http://json-schema.org/draft-07/schema#":n.target==="jsonSchema2019-09"&&(f.$schema="https://json-schema.org/draft/2019-09/schema#"),f};async function _w(r){var e,n,s,a;try{const u=sessionStorage.getItem("openai_api_key")||void 0;if(!u)return{ok:!1,error:"OpenAI APIキーが設定されていません。UIまたは環境変数 VITE_OPENAI_API_KEY で設定してください。"};const f=await Fy(()=>import("https://esm.sh/openai@4.7.0?bundle"),[]),h=f.default??f,y=new h({apiKey:u,dangerouslyAllowBrowser:!0}),m=[{role:"system",content:"You are a strategy compiler. Convert the user strategy written in Japanese natural language into the exact JSON that follows the Strategy-DSL v1.0 schema. Never omit mandatory keys nor introduce new ones."},{role:"user",content:r}],_=vw(Hc),E=(s=(n=(e=(await y.chat.completions.create({model:"gpt-4o-functions-beta",messages:m,tools:[{type:"function",function:{name:"build_strategy",parameters:_}}],tool_choice:{type:"function",function_name:"build_strategy"}})).choices[0])==null?void 0:e.message)==null?void 0:n.tool_calls)==null?void 0:s[0];if(!E||!((a=E.function)!=null&&a.arguments))return{ok:!1,error:"LLM did not return function call."};const V=JSON.parse(E.function.arguments),Z=Hc.safeParse(V);return Z.success?{ok:!0,strategy:Z.data}:{ok:!1,error:`E1001: ${Z.error.message}`}}catch(u){return console.error("OpenAI API call failed:",u),{ok:!1,error:`OpenAI API呼び出しエラー: ${u.message||String(u)}`}}}function ww(r){return{meta:{dsl_version:"1.0",created_at:new Date().toISOString()},data_source:"jquants_v1",universe:["1301.T"],cash:1e6,entry:{condition:"rsi(14) < 30",timing:"next_open"},exit:{condition:"rsi(14) > 70",timing:"current_close"},stop_loss:{type:"percent",value:.1},take_profit:null,position:{size_type:"all_cash",value:null},indicators:{rsi:[14]}}}async function Sw(r,e){try{const n=sessionStorage.getItem("gemini_api_key")||"AIzaSyCLVpT4oRM8eklYxDPAIpahg2nb7vzX92c";let s=r;e&&e.length>0&&(s=`以下の銘柄コードを対象とした戦略を記述してください: [${e.join(", ")}]\\n\\n${r}`);const a=await Fy(()=>import("https://esm.sh/@google/genai@latest?bundle"),[]);console.log("Imported module:",a);const u=a.GoogleGenAI;if(console.log("GoogleGenerativeAI constructor attempt:",u),!u)return{ok:!1,error:"GoogleGenerativeAI がインポートできませんでした。importedModule.GoogleGenAI を確認してください。"};if(typeof u!="function")return{ok:!1,error:"GoogleGenerativeAI は関数ではありません。コンストラクタとして使用できません。"};const f=new u({apiKey:n}),h=ww("");h.universe=[];const m="You are a strategy compiler. Convert the user strategy written in Japanese natural language into the exact JSON that follows the Strategy-DSL v1.0 schema. The JSON output MUST include the following top-level keys: 'meta', 'data_source', 'universe', 'cash', 'entry', 'exit', 'stop_loss', 'take_profit', 'position', 'indicators'. The 'universe' field in the output JSON MUST be an array of stock codes derived EXCLUSIVELY from the user's request. If the user provides specific stock codes, you MUST use them. If no stock codes are provided by the user, output an empty array [] for 'universe'. Do NOT use example codes like '1301.T' unless they are explicitly part of the user's request. Never omit mandatory keys nor introduce new ones. Ensure 'data_source' is always 'jquants_v1'. The 'meta.dsl_version' must be '1.0'. 'meta.created_at' must be an ISO string. 'cash' must be a number. 'entry.condition' must be a string. 'entry.timing' must be 'next_open' or 'next_close'. 'exit.condition' must be a string or empty string. 'exit.timing' must be 'current_close' or 'intraday'. 'stop_loss.type' must be 'percent' or 'value'. 'position.size_type' must be 'all_cash', 'fixed', or 'percent'. 'position.value' must be a number or null. 'indicators' must be an object. Here is an example of the expected JSON structure (note: the 'universe' in this example is intentionally empty; your output should populate it based on the user's request):\\n```json\\n"+JSON.stringify(h,null,2)+"\\n```\\nEnsure your output strictly follows this schema and instructions, especially for the 'universe' field, which must be based on the user's input.",_=await f.models.generateContent({model:"gemini-2.5-flash-preview-05-20",contents:[{role:"user",parts:[{text:m}]},{role:"user",parts:[{text:s}]}]});let O;if(_.candidates&&_.candidates[0]&&_.candidates[0].content&&_.candidates[0].content.parts&&_.candidates[0].content.parts[0]&&typeof _.candidates[0].content.parts[0].text=="string")O=_.candidates[0].content.parts[0].text;else if(typeof _.text=="function")O=_.text();else if(typeof _.text=="string")O=_.text;else throw console.error("Unexpected response structure from Gemini API. Cannot extract text. Full result:",JSON.stringify(_,null,2)),new Error("Unexpected response structure from Gemini API. Check logs for details.");if(typeof O!="string")throw console.error("Extracted text is not a string. Full result:",JSON.stringify(_,null,2)),new Error("Extracted text from Gemini API response is not a string.");const E=O.match(/\{[\s\S]*\}/);if(!E)throw new Error("Gemini returned no JSON");const V=JSON.parse(E[0]),Z=Hc.safeParse(V);return Z.success?(console.log("Generated strategy from Gemini. Universe:",JSON.stringify(Z.data.universe)),{ok:!0,strategy:Z.data}):{ok:!1,error:`E1001: ${Z.error.message}`}}catch(n){return console.error("Gemini API call failed:",n),{ok:!1,error:`Gemini API呼び出しエラー: ${n.message||String(n)}`}}}function Iw({onValidated:r,selectedStockCodes:e}){const[n,s]=ge.useState(""),[a,u]=ge.useState(null),[f,h]=ge.useState(!1),[y,m]=ge.useState(()=>sessionStorage.getItem("llm_provider")??"openai"),_=async()=>{if(!n.trim()){u("戦略を入力してください。");return}h(!0),u(null),sessionStorage.setItem("llm_provider",y);try{const O=y==="gemini"?await Sw(n,e):await _w(n);O.ok?r(O.strategy):u(O.error)}catch(O){u(String(O))}finally{h(!1)}};return C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"flex items-center space-x-4",children:[C.jsxs("select",{value:y,onChange:O=>m(O.target.value),className:"border p-2 rounded",children:[C.jsx("option",{value:"openai",children:"OpenAI"}),C.jsx("option",{value:"gemini",children:"Gemini"})]}),C.jsx("div",{className:"text-sm text-gray-600",children:"※ LLMを使用して日本語の戦略をDSLに変換します"})]}),C.jsx("textarea",{value:n,onChange:O=>s(O.target.value),rows:6,className:"border p-2 w-full rounded",placeholder:"例: 25日移動平均線を5日移動平均線が上抜けたら買い、下抜けたら売る。損切りは10%とする。"}),a&&C.jsx("p",{className:"text-red-600",children:a}),C.jsx("div",{className:"flex justify-end",children:C.jsx("button",{onClick:_,disabled:f||!n.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:f?"検証中...":"戦略を検証"})})]})}let Ea;const kw=new Uint8Array(16);function xw(){if(!Ea&&(Ea=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ea))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ea(kw)}const It=[];for(let r=0;r<256;++r)It.push((r+256).toString(16).slice(1));function bw(r,e=0){return It[r[e+0]]+It[r[e+1]]+It[r[e+2]]+It[r[e+3]]+"-"+It[r[e+4]]+It[r[e+5]]+"-"+It[r[e+6]]+It[r[e+7]]+"-"+It[r[e+8]]+It[r[e+9]]+"-"+It[r[e+10]]+It[r[e+11]]+It[r[e+12]]+It[r[e+13]]+It[r[e+14]]+It[r[e+15]]}const Ow=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ey={randomUUID:Ow};function Nw(r,e,n){if(ey.randomUUID&&!r)return ey.randomUUID();r=r||{};const s=r.random||(r.rng||xw)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,bw(s)}function sr(r,e,n,s){function a(u){return u instanceof n?u:new n(function(f){f(u)})}return new(n||(n=Promise))(function(u,f){function h(_){try{m(s.next(_))}catch(O){f(O)}}function y(_){try{m(s.throw(_))}catch(O){f(O)}}function m(_){_.done?u(_.value):a(_.value).then(h,y)}m((s=s.apply(r,e||[])).next())})}function ty(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],s=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ke(r){return this instanceof ke?(this.v=r,this):new ke(r)}function oi(r,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(r,e||[]),a,u=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",f),a[Symbol.asyncIterator]=function(){return this},a;function f(V){return function(Z){return Promise.resolve(Z).then(V,O)}}function h(V,Z){s[V]&&(a[V]=function(ye){return new Promise(function(de,Pe){u.push([V,ye,de,Pe])>1||y(V,ye)})},Z&&(a[V]=Z(a[V])))}function y(V,Z){try{m(s[V](Z))}catch(ye){E(u[0][3],ye)}}function m(V){V.value instanceof ke?Promise.resolve(V.value.v).then(_,O):E(u[0][2],V)}function _(V){y("next",V)}function O(V){y("throw",V)}function E(V,Z){V(Z),u.shift(),u.length&&y(u[0][0],u[0][1])}}function Dc(r){var e,n;return e={},s("next"),s("throw",function(a){throw a}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(a,u){e[a]=r[a]?function(f){return(n=!n)?{value:ke(r[a](f)),done:!1}:u?u(f):f}:u}}function uo(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],n;return e?e.call(r):(r=typeof ty=="function"?ty(r):r[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(u){n[u]=r[u]&&function(f){return new Promise(function(h,y){f=r[u](f),a(h,y,f.done,f.value)})}}function a(u,f,h,y){Promise.resolve(y).then(function(m){u({value:m,done:h})},f)}}const Dw=new TextDecoder("utf-8"),Kc=r=>Dw.decode(r),Tw=new TextEncoder,Zy=r=>Tw.encode(r),Cw=r=>typeof r=="boolean",Zt=r=>typeof r=="function",Zr=r=>r!=null&&Object(r)===r,kl=r=>Zr(r)&&Zt(r.then),hd=r=>Zr(r)&&Zt(r[Symbol.iterator]),xl=r=>Zr(r)&&Zt(r[Symbol.asyncIterator]),Aw=r=>Zr(r)&&"done"in r&&"value"in r,Wy=r=>"_getDOMStream"in r&&"_getNodeStream"in r,Ew=r=>Zr(r)&&Zt(r.abort)&&Zt(r.getWriter)&&!Wy(r),Bw=r=>Zr(r)&&Zt(r.end)&&Zt(r.write)&&Cw(r.writable)&&!Wy(r),Lw=r=>Zr(r)&&Zt(r.clear)&&Zt(r.bytes)&&Zt(r.position)&&Zt(r.setPosition)&&Zt(r.capacity)&&Zt(r.getBufferIdentifier)&&Zt(r.createLong),pd=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function Fw(r){const e=r[0]?[r[0]]:[];let n,s,a,u;for(let f,h,y=0,m=0,_=r.length;++y<_;){if(f=e[m],h=r[y],!f||!h||f.buffer!==h.buffer||h.byteOffset<f.byteOffset){h&&(e[++m]=h);continue}if({byteOffset:n,byteLength:a}=f,{byteOffset:s,byteLength:u}=h,n+a<s||s+u<n){h&&(e[++m]=h);continue}e[m]=new Uint8Array(f.buffer,n,s-n+u)}return e}function ny(r,e,n=0,s=e.byteLength){const a=r.byteLength,u=new Uint8Array(r.buffer,r.byteOffset,a),f=new Uint8Array(e.buffer,e.byteOffset,Math.min(s,a));return u.set(f,n),r}function $n(r,e){const n=Fw(r),s=n.reduce((_,O)=>_+O.byteLength,0);let a,u,f,h=0,y=-1;const m=Math.min(e||Number.POSITIVE_INFINITY,s);for(const _=n.length;++y<_;){if(a=n[y],u=a.subarray(0,Math.min(a.length,m-h)),m<=h+u.length){u.length<a.length?n[y]=a.subarray(u.length):u.length===a.length&&y++,f?ny(f,u,h):f=u;break}ny(f||(f=new Uint8Array(m)),u,h),h+=u.length}return[f||new Uint8Array(0),n.slice(y),s-(f?f.byteLength:0)]}function ct(r,e){let n=Aw(e)?e.value:e;return n instanceof r?r===Uint8Array?new r(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=Zy(n)),n instanceof ArrayBuffer?new r(n):n instanceof pd?new r(n):Lw(n)?ct(r,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new r(0):new r(n.buffer,n.byteOffset,n.byteLength/r.BYTES_PER_ELEMENT):r.from(n)):new r(0)}const qs=r=>ct(Int32Array,r),ry=r=>ct(BigInt64Array,r),Te=r=>ct(Uint8Array,r),Yc=r=>(r.next(),r);function*Mw(r,e){const n=function*(a){yield a},s=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof pd?n(e):hd(e)?e:n(e);return yield*Yc(function*(a){let u=null;do u=a.next(yield ct(r,u));while(!u.done)}(s[Symbol.iterator]())),new r}const Pw=r=>Mw(Uint8Array,r);function Hy(r,e){return oi(this,arguments,function*(){if(kl(e))return yield ke(yield ke(yield*Dc(uo(Hy(r,yield ke(e))))));const s=function(f){return oi(this,arguments,function*(){yield yield ke(yield ke(f))})},a=function(f){return oi(this,arguments,function*(){yield ke(yield*Dc(uo(Yc(function*(h){let y=null;do y=h.next(yield y==null?void 0:y.value);while(!y.done)}(f[Symbol.iterator]())))))})},u=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof pd?s(e):hd(e)?a(e):xl(e)?e:s(e);return yield ke(yield*Dc(uo(Yc(function(f){return oi(this,arguments,function*(){let h=null;do h=yield ke(f.next(yield yield ke(ct(r,h))));while(!h.done)})}(u[Symbol.asyncIterator]()))))),yield ke(new r)})}const jw=r=>Hy(Uint8Array,r);function Ky(r,e,n){if(r!==0){n=n.slice(0,e);for(let s=-1,a=n.length;++s<a;)n[s]+=r}return n.subarray(0,e)}function Rw(r,e){let n=0;const s=r.length;if(s!==e.length)return!1;if(s>0)do if(r[n]!==e[n])return!1;while(++n<s);return!0}const iy={fromIterable(r){return Ba(Uw(r))},fromAsyncIterable(r){return Ba(zw(r))},fromDOMStream(r){return Ba(Vw(r))},fromNodeStream(r){return Ba(Zw(r))},toDOMStream(r,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(r,e){throw new Error('"toNodeStream" not available in this environment')}},Ba=r=>(r.next(),r);function*Uw(r){let e,n=!1,s=[],a,u,f,h=0;function y(){return u==="peek"?$n(s,f)[0]:([a,s,h]=$n(s,f),a)}({cmd:u,size:f}=(yield null)||{cmd:"read",size:0});const m=Pw(r)[Symbol.iterator]();try{do if({done:e,value:a}=Number.isNaN(f-h)?m.next():m.next(f-h),!e&&a.byteLength>0&&(s.push(a),h+=a.byteLength),e||f<=h)do({cmd:u,size:f}=yield y());while(f<h);while(!e)}catch(_){(n=!0)&&typeof m.throw=="function"&&m.throw(_)}finally{n===!1&&typeof m.return=="function"&&m.return(null)}return null}function zw(r){return oi(this,arguments,function*(){let n,s=!1,a=[],u,f,h,y=0;function m(){return f==="peek"?$n(a,h)[0]:([u,a,y]=$n(a,h),u)}({cmd:f,size:h}=(yield yield ke(null))||{cmd:"read",size:0});const _=jw(r)[Symbol.asyncIterator]();try{do if({done:n,value:u}=Number.isNaN(h-y)?yield ke(_.next()):yield ke(_.next(h-y)),!n&&u.byteLength>0&&(a.push(u),y+=u.byteLength),n||h<=y)do({cmd:f,size:h}=yield yield ke(m()));while(h<y);while(!n)}catch(O){(s=!0)&&typeof _.throw=="function"&&(yield ke(_.throw(O)))}finally{s===!1&&typeof _.return=="function"&&(yield ke(_.return(new Uint8Array(0))))}return yield ke(null)})}function Vw(r){return oi(this,arguments,function*(){let n=!1,s=!1,a=[],u,f,h,y=0;function m(){return f==="peek"?$n(a,h)[0]:([u,a,y]=$n(a,h),u)}({cmd:f,size:h}=(yield yield ke(null))||{cmd:"read",size:0});const _=new $w(r);try{do if({done:n,value:u}=Number.isNaN(h-y)?yield ke(_.read()):yield ke(_.read(h-y)),!n&&u.byteLength>0&&(a.push(Te(u)),y+=u.byteLength),n||h<=y)do({cmd:f,size:h}=yield yield ke(m()));while(h<y);while(!n)}catch(O){(s=!0)&&(yield ke(_.cancel(O)))}finally{s===!1?yield ke(_.cancel()):r.locked&&_.releaseLock()}return yield ke(null)})}class $w{constructor(e){this.source=e,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(e){return sr(this,void 0,void 0,function*(){const{reader:n,source:s}=this;n&&(yield n.cancel(e).catch(()=>{})),s&&s.locked&&this.releaseLock()})}read(e){return sr(this,void 0,void 0,function*(){if(e===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=Te(n)),n})}}const Tc=(r,e)=>{const n=a=>s([e,a]);let s;return[e,n,new Promise(a=>(s=a)&&r.once(e,n))]};function Zw(r){return oi(this,arguments,function*(){const n=[];let s="error",a=!1,u=null,f,h,y=0,m=[],_;function O(){return f==="peek"?$n(m,h)[0]:([_,m,y]=$n(m,h),_)}if({cmd:f,size:h}=(yield yield ke(null))||{cmd:"read",size:0},r.isTTY)return yield yield ke(new Uint8Array(0)),yield ke(null);try{n[0]=Tc(r,"end"),n[1]=Tc(r,"error");do{if(n[2]=Tc(r,"readable"),[s,u]=yield ke(Promise.race(n.map(V=>V[2]))),s==="error")break;if((a=s==="end")||(Number.isFinite(h-y)?(_=Te(r.read(h-y)),_.byteLength<h-y&&(_=Te(r.read()))):_=Te(r.read()),_.byteLength>0&&(m.push(_),y+=_.byteLength)),a||h<=y)do({cmd:f,size:h}=yield yield ke(O()));while(h<y)}while(!a)}finally{yield ke(E(n,s==="error"?u:null))}return yield ke(null);function E(V,Z){return _=m=null,new Promise((ye,de)=>{for(const[Pe,ne]of V)r.off(Pe,ne);try{const Pe=r.destroy;Pe&&Pe.call(r,Z),Z=void 0}catch(Pe){Z=Pe||Z}finally{Z!=null?de(Z):ye()}})}})}var ft;(function(r){r[r.V1=0]="V1",r[r.V2=1]="V2",r[r.V3=2]="V3",r[r.V4=3]="V4",r[r.V5=4]="V5"})(ft||(ft={}));var Lt;(function(r){r[r.Sparse=0]="Sparse",r[r.Dense=1]="Dense"})(Lt||(Lt={}));var vt;(function(r){r[r.HALF=0]="HALF",r[r.SINGLE=1]="SINGLE",r[r.DOUBLE=2]="DOUBLE"})(vt||(vt={}));var yn;(function(r){r[r.DAY=0]="DAY",r[r.MILLISECOND=1]="MILLISECOND"})(yn||(yn={}));var re;(function(r){r[r.SECOND=0]="SECOND",r[r.MILLISECOND=1]="MILLISECOND",r[r.MICROSECOND=2]="MICROSECOND",r[r.NANOSECOND=3]="NANOSECOND"})(re||(re={}));var Zn;(function(r){r[r.YEAR_MONTH=0]="YEAR_MONTH",r[r.DAY_TIME=1]="DAY_TIME",r[r.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Zn||(Zn={}));const Cc=2,Fn=4,or=4,Me=4,Fr=new Int32Array(2),sy=new Float32Array(Fr.buffer),oy=new Float64Array(Fr.buffer),La=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var Qc;(function(r){r[r.UTF8_BYTES=1]="UTF8_BYTES",r[r.UTF16_STRING=2]="UTF16_STRING"})(Qc||(Qc={}));let el=class Yy{constructor(e){this.bytes_=e,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(e){return new Yy(new Uint8Array(e))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(e){this.position_=e}capacity(){return this.bytes_.length}readInt8(e){return this.readUint8(e)<<24>>24}readUint8(e){return this.bytes_[e]}readInt16(e){return this.readUint16(e)<<16>>16}readUint16(e){return this.bytes_[e]|this.bytes_[e+1]<<8}readInt32(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24}readUint32(e){return this.readInt32(e)>>>0}readInt64(e){return BigInt.asIntN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readUint64(e){return BigInt.asUintN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readFloat32(e){return Fr[0]=this.readInt32(e),sy[0]}readFloat64(e){return Fr[La?0:1]=this.readInt32(e),Fr[La?1:0]=this.readInt32(e+4),oy[0]}writeInt8(e,n){this.bytes_[e]=n}writeUint8(e,n){this.bytes_[e]=n}writeInt16(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8}writeUint16(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8}writeInt32(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8,this.bytes_[e+2]=n>>16,this.bytes_[e+3]=n>>24}writeUint32(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8,this.bytes_[e+2]=n>>16,this.bytes_[e+3]=n>>24}writeInt64(e,n){this.writeInt32(e,Number(BigInt.asIntN(32,n))),this.writeInt32(e+4,Number(BigInt.asIntN(32,n>>BigInt(32))))}writeUint64(e,n){this.writeUint32(e,Number(BigInt.asUintN(32,n))),this.writeUint32(e+4,Number(BigInt.asUintN(32,n>>BigInt(32))))}writeFloat32(e,n){sy[0]=n,this.writeInt32(e,Fr[0])}writeFloat64(e,n){oy[0]=n,this.writeInt32(e,Fr[La?0:1]),this.writeInt32(e+4,Fr[La?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+Fn+or)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let e="";for(let n=0;n<or;n++)e+=String.fromCharCode(this.readInt8(this.position_+Fn+n));return e}__offset(e,n){const s=e-this.readInt32(e);return n<this.readInt16(s)?this.readInt16(s+n):0}__union(e,n){return e.bb_pos=n+this.readInt32(n),e.bb=this,e}__string(e,n){e+=this.readInt32(e);const s=this.readInt32(e);e+=Fn;const a=this.bytes_.subarray(e,e+s);return n===Qc.UTF8_BYTES?a:this.text_decoder_.decode(a)}__union_with_string(e,n){return typeof e=="string"?this.__string(n):this.__union(e,n)}__indirect(e){return e+this.readInt32(e)}__vector(e){return e+this.readInt32(e)+Fn}__vector_len(e){return this.readInt32(e+this.readInt32(e))}__has_identifier(e){if(e.length!=or)throw new Error("FlatBuffers: file identifier must be length "+or);for(let n=0;n<or;n++)if(e.charCodeAt(n)!=this.readInt8(this.position()+Fn+n))return!1;return!0}createScalarList(e,n){const s=[];for(let a=0;a<n;++a){const u=e(a);u!==null&&s.push(u)}return s}createObjList(e,n){const s=[];for(let a=0;a<n;++a){const u=e(a);u!==null&&s.push(u.unpack())}return s}},Qy=class Jy{constructor(e){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let n;e?n=e:n=1024,this.bb=el.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(e){this.force_defaults=e}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(e,n){e>this.minalign&&(this.minalign=e);const s=~(this.bb.capacity()-this.space+n)+1&e-1;for(;this.space<s+e+n;){const a=this.bb.capacity();this.bb=Jy.growByteBuffer(this.bb),this.space+=this.bb.capacity()-a}this.pad(s)}pad(e){for(let n=0;n<e;n++)this.bb.writeInt8(--this.space,0)}writeInt8(e){this.bb.writeInt8(this.space-=1,e)}writeInt16(e){this.bb.writeInt16(this.space-=2,e)}writeInt32(e){this.bb.writeInt32(this.space-=4,e)}writeInt64(e){this.bb.writeInt64(this.space-=8,e)}writeFloat32(e){this.bb.writeFloat32(this.space-=4,e)}writeFloat64(e){this.bb.writeFloat64(this.space-=8,e)}addInt8(e){this.prep(1,0),this.writeInt8(e)}addInt16(e){this.prep(2,0),this.writeInt16(e)}addInt32(e){this.prep(4,0),this.writeInt32(e)}addInt64(e){this.prep(8,0),this.writeInt64(e)}addFloat32(e){this.prep(4,0),this.writeFloat32(e)}addFloat64(e){this.prep(8,0),this.writeFloat64(e)}addFieldInt8(e,n,s){(this.force_defaults||n!=s)&&(this.addInt8(n),this.slot(e))}addFieldInt16(e,n,s){(this.force_defaults||n!=s)&&(this.addInt16(n),this.slot(e))}addFieldInt32(e,n,s){(this.force_defaults||n!=s)&&(this.addInt32(n),this.slot(e))}addFieldInt64(e,n,s){(this.force_defaults||n!==s)&&(this.addInt64(n),this.slot(e))}addFieldFloat32(e,n,s){(this.force_defaults||n!=s)&&(this.addFloat32(n),this.slot(e))}addFieldFloat64(e,n,s){(this.force_defaults||n!=s)&&(this.addFloat64(n),this.slot(e))}addFieldOffset(e,n,s){(this.force_defaults||n!=s)&&(this.addOffset(n),this.slot(e))}addFieldStruct(e,n,s){n!=s&&(this.nested(n),this.slot(e))}nested(e){if(e!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(e){this.vtable!==null&&(this.vtable[e]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(e){const n=e.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const s=n<<1,a=el.allocate(s);return a.setPosition(s-n),a.bytes().set(e.bytes(),s-n),a}addOffset(e){this.prep(Fn,0),this.writeInt32(this.offset()-e+Fn)}startObject(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(let n=0;n<e;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const e=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const s=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?e-this.vtable[n]:0);const a=2;this.addInt16(e-this.object_start);const u=(s+a)*Cc;this.addInt16(u);let f=0;const h=this.space;e:for(n=0;n<this.vtables.length;n++){const y=this.bb.capacity()-this.vtables[n];if(u==this.bb.readInt16(y)){for(let m=Cc;m<u;m+=Cc)if(this.bb.readInt16(h+m)!=this.bb.readInt16(y+m))continue e;f=this.vtables[n];break}}return f?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,f-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e}finish(e,n,s){const a=s?Me:0;if(n){const u=n;if(this.prep(this.minalign,Fn+or+a),u.length!=or)throw new TypeError("FlatBuffers: file identifier must be length "+or);for(let f=or-1;f>=0;f--)this.writeInt8(u.charCodeAt(f))}this.prep(this.minalign,Fn+a),this.addOffset(e),a&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(e,n){this.finish(e,n,!0)}requiredField(e,n){const s=this.bb.capacity()-e,a=s-this.bb.readInt32(s);if(!(n<this.bb.readInt16(a)&&this.bb.readInt16(a+n)!=0))throw new TypeError("FlatBuffers: field "+n+" must be set")}startVector(e,n,s){this.notNested(),this.vector_num_elems=n,this.prep(Fn,e*n),this.prep(s,e*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);const n=this.createString(e);return this.string_maps.set(e,n),n}createString(e){if(e==null)return 0;let n;return e instanceof Uint8Array?n=e:n=this.text_encoder.encode(e),this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length),this.bb.bytes().set(n,this.space),this.endVector()}createByteVector(e){return e==null?0:(this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length),this.bb.bytes().set(e,this.space),this.endVector())}createObjectOffset(e){return e===null?0:typeof e=="string"?this.createString(e):e.pack(this)}createObjectOffsetList(e){const n=[];for(let s=0;s<e.length;++s){const a=e[s];if(a!==null)n.push(this.createObjectOffset(a));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(e,n){return n(this,e.length),this.createObjectOffsetList(e.slice().reverse()),this.endVector()}};var tl;(function(r){r[r.BUFFER=0]="BUFFER"})(tl||(tl={}));var nl;(function(r){r[r.LZ4_FRAME=0]="LZ4_FRAME",r[r.ZSTD=1]="ZSTD"})(nl||(nl={}));class Mr{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsBodyCompression(e,n){return(n||new Mr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBodyCompression(e,n){return e.setPosition(e.position()+Me),(n||new Mr).__init(e.readInt32(e.position())+e.position(),e)}codec(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):nl.LZ4_FRAME}method(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):tl.BUFFER}static startBodyCompression(e){e.startObject(2)}static addCodec(e,n){e.addFieldInt8(0,n,nl.LZ4_FRAME)}static addMethod(e,n){e.addFieldInt8(1,n,tl.BUFFER)}static endBodyCompression(e){return e.endObject()}static createBodyCompression(e,n,s){return Mr.startBodyCompression(e),Mr.addCodec(e,n),Mr.addMethod(e,s),Mr.endBodyCompression(e)}}class qy{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(e,n,s){return e.prep(8,16),e.writeInt64(BigInt(s??0)),e.writeInt64(BigInt(n??0)),e.offset()}}let Gy=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(e,n,s){return e.prep(8,16),e.writeInt64(BigInt(s??0)),e.writeInt64(BigInt(n??0)),e.offset()}},nr=class Jc{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsRecordBatch(e,n){return(n||new Jc).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsRecordBatch(e,n){return e.setPosition(e.position()+Me),(n||new Jc).__init(e.readInt32(e.position())+e.position(),e)}length(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}nodes(e,n){const s=this.bb.__offset(this.bb_pos,6);return s?(n||new Gy).__init(this.bb.__vector(this.bb_pos+s)+e*16,this.bb):null}nodesLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}buffers(e,n){const s=this.bb.__offset(this.bb_pos,8);return s?(n||new qy).__init(this.bb.__vector(this.bb_pos+s)+e*16,this.bb):null}buffersLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}compression(e){const n=this.bb.__offset(this.bb_pos,10);return n?(e||new Mr).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(e){e.startObject(4)}static addLength(e,n){e.addFieldInt64(0,n,BigInt("0"))}static addNodes(e,n){e.addFieldOffset(1,n,0)}static startNodesVector(e,n){e.startVector(16,n,8)}static addBuffers(e,n){e.addFieldOffset(2,n,0)}static startBuffersVector(e,n){e.startVector(16,n,8)}static addCompression(e,n){e.addFieldOffset(3,n,0)}static endRecordBatch(e){return e.endObject()}},Ri=class qc{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDictionaryBatch(e,n){return(n||new qc).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryBatch(e,n){return e.setPosition(e.position()+Me),(n||new qc).__init(e.readInt32(e.position())+e.position(),e)}id(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}data(e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new nr).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startDictionaryBatch(e){e.startObject(3)}static addId(e,n){e.addFieldInt64(0,n,BigInt("0"))}static addData(e,n){e.addFieldOffset(1,n,0)}static addIsDelta(e,n){e.addFieldInt8(2,+n,0)}static endDictionaryBatch(e){return e.endObject()}};var ss;(function(r){r[r.Little=0]="Little",r[r.Big=1]="Big"})(ss||(ss={}));var rl;(function(r){r[r.DenseArray=0]="DenseArray"})(rl||(rl={}));class en{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsInt(e,n){return(n||new en).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInt(e,n){return e.setPosition(e.position()+Me),(n||new en).__init(e.readInt32(e.position())+e.position(),e)}bitWidth(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}isSigned(){const e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startInt(e){e.startObject(2)}static addBitWidth(e,n){e.addFieldInt32(0,n,0)}static addIsSigned(e,n){e.addFieldInt8(1,+n,0)}static endInt(e){return e.endObject()}static createInt(e,n,s){return en.startInt(e),en.addBitWidth(e,n),en.addIsSigned(e,s),en.endInt(e)}}class ar{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDictionaryEncoding(e,n){return(n||new ar).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryEncoding(e,n){return e.setPosition(e.position()+Me),(n||new ar).__init(e.readInt32(e.position())+e.position(),e)}id(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}indexType(e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new en).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}dictionaryKind(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):rl.DenseArray}static startDictionaryEncoding(e){e.startObject(4)}static addId(e,n){e.addFieldInt64(0,n,BigInt("0"))}static addIndexType(e,n){e.addFieldOffset(1,n,0)}static addIsOrdered(e,n){e.addFieldInt8(2,+n,0)}static addDictionaryKind(e,n){e.addFieldInt16(3,n,rl.DenseArray)}static endDictionaryEncoding(e){return e.endObject()}}class dt{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsKeyValue(e,n){return(n||new dt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKeyValue(e,n){return e.setPosition(e.position()+Me),(n||new dt).__init(e.readInt32(e.position())+e.position(),e)}key(e){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,e):null}value(e){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,e):null}static startKeyValue(e){e.startObject(2)}static addKey(e,n){e.addFieldOffset(0,n,0)}static addValue(e,n){e.addFieldOffset(1,n,0)}static endKeyValue(e){return e.endObject()}static createKeyValue(e,n,s){return dt.startKeyValue(e),dt.addKey(e,n),dt.addValue(e,s),dt.endKeyValue(e)}}let ay=class to{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsBinary(e,n){return(n||new to).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBinary(e,n){return e.setPosition(e.position()+Me),(n||new to).__init(e.readInt32(e.position())+e.position(),e)}static startBinary(e){e.startObject(0)}static endBinary(e){return e.endObject()}static createBinary(e){return to.startBinary(e),to.endBinary(e)}},ly=class no{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsBool(e,n){return(n||new no).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBool(e,n){return e.setPosition(e.position()+Me),(n||new no).__init(e.readInt32(e.position())+e.position(),e)}static startBool(e){e.startObject(0)}static endBool(e){return e.endObject()}static createBool(e){return no.startBool(e),no.endBool(e)}},ja=class Ui{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDate(e,n){return(n||new Ui).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDate(e,n){return e.setPosition(e.position()+Me),(n||new Ui).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):yn.MILLISECOND}static startDate(e){e.startObject(1)}static addUnit(e,n){e.addFieldInt16(0,n,yn.MILLISECOND)}static endDate(e){return e.endObject()}static createDate(e,n){return Ui.startDate(e),Ui.addUnit(e,n),Ui.endDate(e)}},zi=class Br{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDecimal(e,n){return(n||new Br).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDecimal(e,n){return e.setPosition(e.position()+Me),(n||new Br).__init(e.readInt32(e.position())+e.position(),e)}precision(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}scale(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}bitWidth(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128}static startDecimal(e){e.startObject(3)}static addPrecision(e,n){e.addFieldInt32(0,n,0)}static addScale(e,n){e.addFieldInt32(1,n,0)}static addBitWidth(e,n){e.addFieldInt32(2,n,128)}static endDecimal(e){return e.endObject()}static createDecimal(e,n,s,a){return Br.startDecimal(e),Br.addPrecision(e,n),Br.addScale(e,s),Br.addBitWidth(e,a),Br.endDecimal(e)}},Ra=class Vi{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDuration(e,n){return(n||new Vi).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDuration(e,n){return e.setPosition(e.position()+Me),(n||new Vi).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):re.MILLISECOND}static startDuration(e){e.startObject(1)}static addUnit(e,n){e.addFieldInt16(0,n,re.MILLISECOND)}static endDuration(e){return e.endObject()}static createDuration(e,n){return Vi.startDuration(e),Vi.addUnit(e,n),Vi.endDuration(e)}},Ua=class $i{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFixedSizeBinary(e,n){return(n||new $i).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeBinary(e,n){return e.setPosition(e.position()+Me),(n||new $i).__init(e.readInt32(e.position())+e.position(),e)}byteWidth(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeBinary(e){e.startObject(1)}static addByteWidth(e,n){e.addFieldInt32(0,n,0)}static endFixedSizeBinary(e){return e.endObject()}static createFixedSizeBinary(e,n){return $i.startFixedSizeBinary(e),$i.addByteWidth(e,n),$i.endFixedSizeBinary(e)}},za=class Zi{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFixedSizeList(e,n){return(n||new Zi).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeList(e,n){return e.setPosition(e.position()+Me),(n||new Zi).__init(e.readInt32(e.position())+e.position(),e)}listSize(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeList(e){e.startObject(1)}static addListSize(e,n){e.addFieldInt32(0,n,0)}static endFixedSizeList(e){return e.endObject()}static createFixedSizeList(e,n){return Zi.startFixedSizeList(e),Zi.addListSize(e,n),Zi.endFixedSizeList(e)}};class Mn{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFloatingPoint(e,n){return(n||new Mn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFloatingPoint(e,n){return e.setPosition(e.position()+Me),(n||new Mn).__init(e.readInt32(e.position())+e.position(),e)}precision(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):vt.HALF}static startFloatingPoint(e){e.startObject(1)}static addPrecision(e,n){e.addFieldInt16(0,n,vt.HALF)}static endFloatingPoint(e){return e.endObject()}static createFloatingPoint(e,n){return Mn.startFloatingPoint(e),Mn.addPrecision(e,n),Mn.endFloatingPoint(e)}}class Pn{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsInterval(e,n){return(n||new Pn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInterval(e,n){return e.setPosition(e.position()+Me),(n||new Pn).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Zn.YEAR_MONTH}static startInterval(e){e.startObject(1)}static addUnit(e,n){e.addFieldInt16(0,n,Zn.YEAR_MONTH)}static endInterval(e){return e.endObject()}static createInterval(e,n){return Pn.startInterval(e),Pn.addUnit(e,n),Pn.endInterval(e)}}let uy=class ro{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsLargeBinary(e,n){return(n||new ro).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeBinary(e,n){return e.setPosition(e.position()+Me),(n||new ro).__init(e.readInt32(e.position())+e.position(),e)}static startLargeBinary(e){e.startObject(0)}static endLargeBinary(e){return e.endObject()}static createLargeBinary(e){return ro.startLargeBinary(e),ro.endLargeBinary(e)}},cy=class io{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsLargeUtf8(e,n){return(n||new io).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeUtf8(e,n){return e.setPosition(e.position()+Me),(n||new io).__init(e.readInt32(e.position())+e.position(),e)}static startLargeUtf8(e){e.startObject(0)}static endLargeUtf8(e){return e.endObject()}static createLargeUtf8(e){return io.startLargeUtf8(e),io.endLargeUtf8(e)}},dy=class so{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsList(e,n){return(n||new so).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsList(e,n){return e.setPosition(e.position()+Me),(n||new so).__init(e.readInt32(e.position())+e.position(),e)}static startList(e){e.startObject(0)}static endList(e){return e.endObject()}static createList(e){return so.startList(e),so.endList(e)}},Va=class Wi{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsMap(e,n){return(n||new Wi).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMap(e,n){return e.setPosition(e.position()+Me),(n||new Wi).__init(e.readInt32(e.position())+e.position(),e)}keysSorted(){const e=this.bb.__offset(this.bb_pos,4);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startMap(e){e.startObject(1)}static addKeysSorted(e,n){e.addFieldInt8(0,+n,0)}static endMap(e){return e.endObject()}static createMap(e,n){return Wi.startMap(e),Wi.addKeysSorted(e,n),Wi.endMap(e)}},fy=class oo{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsNull(e,n){return(n||new oo).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNull(e,n){return e.setPosition(e.position()+Me),(n||new oo).__init(e.readInt32(e.position())+e.position(),e)}static startNull(e){e.startObject(0)}static endNull(e){return e.endObject()}static createNull(e){return oo.startNull(e),oo.endNull(e)}};class ai{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsStruct_(e,n){return(n||new ai).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsStruct_(e,n){return e.setPosition(e.position()+Me),(n||new ai).__init(e.readInt32(e.position())+e.position(),e)}static startStruct_(e){e.startObject(0)}static endStruct_(e){return e.endObject()}static createStruct_(e){return ai.startStruct_(e),ai.endStruct_(e)}}class hn{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsTime(e,n){return(n||new hn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTime(e,n){return e.setPosition(e.position()+Me),(n||new hn).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):re.MILLISECOND}bitWidth(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}static startTime(e){e.startObject(2)}static addUnit(e,n){e.addFieldInt16(0,n,re.MILLISECOND)}static addBitWidth(e,n){e.addFieldInt32(1,n,32)}static endTime(e){return e.endObject()}static createTime(e,n,s){return hn.startTime(e),hn.addUnit(e,n),hn.addBitWidth(e,s),hn.endTime(e)}}class pn{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsTimestamp(e,n){return(n||new pn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTimestamp(e,n){return e.setPosition(e.position()+Me),(n||new pn).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):re.SECOND}timezone(e){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,e):null}static startTimestamp(e){e.startObject(2)}static addUnit(e,n){e.addFieldInt16(0,n,re.SECOND)}static addTimezone(e,n){e.addFieldOffset(1,n,0)}static endTimestamp(e){return e.endObject()}static createTimestamp(e,n,s){return pn.startTimestamp(e),pn.addUnit(e,n),pn.addTimezone(e,s),pn.endTimestamp(e)}}class Wt{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsUnion(e,n){return(n||new Wt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUnion(e,n){return e.setPosition(e.position()+Me),(n||new Wt).__init(e.readInt32(e.position())+e.position(),e)}mode(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Lt.Sparse}typeIds(e){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+e*4):0}typeIdsLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}typeIdsArray(){const e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startUnion(e){e.startObject(2)}static addMode(e,n){e.addFieldInt16(0,n,Lt.Sparse)}static addTypeIds(e,n){e.addFieldOffset(1,n,0)}static createTypeIdsVector(e,n){e.startVector(4,n.length,4);for(let s=n.length-1;s>=0;s--)e.addInt32(n[s]);return e.endVector()}static startTypeIdsVector(e,n){e.startVector(4,n,4)}static endUnion(e){return e.endObject()}static createUnion(e,n,s){return Wt.startUnion(e),Wt.addMode(e,n),Wt.addTypeIds(e,s),Wt.endUnion(e)}}let hy=class ao{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsUtf8(e,n){return(n||new ao).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUtf8(e,n){return e.setPosition(e.position()+Me),(n||new ao).__init(e.readInt32(e.position())+e.position(),e)}static startUtf8(e){e.startObject(0)}static endUtf8(e){return e.endObject()}static createUtf8(e){return ao.startUtf8(e),ao.endUtf8(e)}};var $e;(function(r){r[r.NONE=0]="NONE",r[r.Null=1]="Null",r[r.Int=2]="Int",r[r.FloatingPoint=3]="FloatingPoint",r[r.Binary=4]="Binary",r[r.Utf8=5]="Utf8",r[r.Bool=6]="Bool",r[r.Decimal=7]="Decimal",r[r.Date=8]="Date",r[r.Time=9]="Time",r[r.Timestamp=10]="Timestamp",r[r.Interval=11]="Interval",r[r.List=12]="List",r[r.Struct_=13]="Struct_",r[r.Union=14]="Union",r[r.FixedSizeBinary=15]="FixedSizeBinary",r[r.FixedSizeList=16]="FixedSizeList",r[r.Map=17]="Map",r[r.Duration=18]="Duration",r[r.LargeBinary=19]="LargeBinary",r[r.LargeUtf8=20]="LargeUtf8",r[r.LargeList=21]="LargeList",r[r.RunEndEncoded=22]="RunEndEncoded"})($e||($e={}));let fn=class $a{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsField(e,n){return(n||new $a).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsField(e,n){return e.setPosition(e.position()+Me),(n||new $a).__init(e.readInt32(e.position())+e.position(),e)}name(e){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,e):null}nullable(){const e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}typeType(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):$e.NONE}type(e){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(e,this.bb_pos+n):null}dictionary(e){const n=this.bb.__offset(this.bb_pos,12);return n?(e||new ar).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(e,n){const s=this.bb.__offset(this.bb_pos,14);return s?(n||new $a).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+s)+e*4),this.bb):null}childrenLength(){const e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,n){const s=this.bb.__offset(this.bb_pos,16);return s?(n||new dt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+s)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}static startField(e){e.startObject(7)}static addName(e,n){e.addFieldOffset(0,n,0)}static addNullable(e,n){e.addFieldInt8(1,+n,0)}static addTypeType(e,n){e.addFieldInt8(2,n,$e.NONE)}static addType(e,n){e.addFieldOffset(3,n,0)}static addDictionary(e,n){e.addFieldOffset(4,n,0)}static addChildren(e,n){e.addFieldOffset(5,n,0)}static createChildrenVector(e,n){e.startVector(4,n.length,4);for(let s=n.length-1;s>=0;s--)e.addOffset(n[s]);return e.endVector()}static startChildrenVector(e,n){e.startVector(4,n,4)}static addCustomMetadata(e,n){e.addFieldOffset(6,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let s=n.length-1;s>=0;s--)e.addOffset(n[s]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static endField(e){return e.endObject()}},Ln=class tr{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsSchema(e,n){return(n||new tr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSchema(e,n){return e.setPosition(e.position()+Me),(n||new tr).__init(e.readInt32(e.position())+e.position(),e)}endianness(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):ss.Little}fields(e,n){const s=this.bb.__offset(this.bb_pos,6);return s?(n||new fn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+s)+e*4),this.bb):null}fieldsLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,n){const s=this.bb.__offset(this.bb_pos,8);return s?(n||new dt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+s)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}features(e){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+e*8):BigInt(0)}featuresLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSchema(e){e.startObject(4)}static addEndianness(e,n){e.addFieldInt16(0,n,ss.Little)}static addFields(e,n){e.addFieldOffset(1,n,0)}static createFieldsVector(e,n){e.startVector(4,n.length,4);for(let s=n.length-1;s>=0;s--)e.addOffset(n[s]);return e.endVector()}static startFieldsVector(e,n){e.startVector(4,n,4)}static addCustomMetadata(e,n){e.addFieldOffset(2,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let s=n.length-1;s>=0;s--)e.addOffset(n[s]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static addFeatures(e,n){e.addFieldOffset(3,n,0)}static createFeaturesVector(e,n){e.startVector(8,n.length,8);for(let s=n.length-1;s>=0;s--)e.addInt64(n[s]);return e.endVector()}static startFeaturesVector(e,n){e.startVector(8,n,8)}static endSchema(e){return e.endObject()}static finishSchemaBuffer(e,n){e.finish(n)}static finishSizePrefixedSchemaBuffer(e,n){e.finish(n,void 0,!0)}static createSchema(e,n,s,a,u){return tr.startSchema(e),tr.addEndianness(e,n),tr.addFields(e,s),tr.addCustomMetadata(e,a),tr.addFeatures(e,u),tr.endSchema(e)}};var at;(function(r){r[r.NONE=0]="NONE",r[r.Schema=1]="Schema",r[r.DictionaryBatch=2]="DictionaryBatch",r[r.RecordBatch=3]="RecordBatch",r[r.Tensor=4]="Tensor",r[r.SparseTensor=5]="SparseTensor"})(at||(at={}));var I;(function(r){r[r.NONE=0]="NONE",r[r.Null=1]="Null",r[r.Int=2]="Int",r[r.Float=3]="Float",r[r.Binary=4]="Binary",r[r.Utf8=5]="Utf8",r[r.Bool=6]="Bool",r[r.Decimal=7]="Decimal",r[r.Date=8]="Date",r[r.Time=9]="Time",r[r.Timestamp=10]="Timestamp",r[r.Interval=11]="Interval",r[r.List=12]="List",r[r.Struct=13]="Struct",r[r.Union=14]="Union",r[r.FixedSizeBinary=15]="FixedSizeBinary",r[r.FixedSizeList=16]="FixedSizeList",r[r.Map=17]="Map",r[r.Duration=18]="Duration",r[r.LargeBinary=19]="LargeBinary",r[r.LargeUtf8=20]="LargeUtf8",r[r.Dictionary=-1]="Dictionary",r[r.Int8=-2]="Int8",r[r.Int16=-3]="Int16",r[r.Int32=-4]="Int32",r[r.Int64=-5]="Int64",r[r.Uint8=-6]="Uint8",r[r.Uint16=-7]="Uint16",r[r.Uint32=-8]="Uint32",r[r.Uint64=-9]="Uint64",r[r.Float16=-10]="Float16",r[r.Float32=-11]="Float32",r[r.Float64=-12]="Float64",r[r.DateDay=-13]="DateDay",r[r.DateMillisecond=-14]="DateMillisecond",r[r.TimestampSecond=-15]="TimestampSecond",r[r.TimestampMillisecond=-16]="TimestampMillisecond",r[r.TimestampMicrosecond=-17]="TimestampMicrosecond",r[r.TimestampNanosecond=-18]="TimestampNanosecond",r[r.TimeSecond=-19]="TimeSecond",r[r.TimeMillisecond=-20]="TimeMillisecond",r[r.TimeMicrosecond=-21]="TimeMicrosecond",r[r.TimeNanosecond=-22]="TimeNanosecond",r[r.DenseUnion=-23]="DenseUnion",r[r.SparseUnion=-24]="SparseUnion",r[r.IntervalDayTime=-25]="IntervalDayTime",r[r.IntervalYearMonth=-26]="IntervalYearMonth",r[r.DurationSecond=-27]="DurationSecond",r[r.DurationMillisecond=-28]="DurationMillisecond",r[r.DurationMicrosecond=-29]="DurationMicrosecond",r[r.DurationNanosecond=-30]="DurationNanosecond"})(I||(I={}));var rr;(function(r){r[r.OFFSET=0]="OFFSET",r[r.DATA=1]="DATA",r[r.VALIDITY=2]="VALIDITY",r[r.TYPE=3]="TYPE"})(rr||(rr={}));const Ww=void 0;function po(r){if(r===null)return"null";if(r===Ww)return"undefined";switch(typeof r){case"number":return`${r}`;case"bigint":return`${r}`;case"string":return`"${r}"`}return typeof r[Symbol.toPrimitive]=="function"?r[Symbol.toPrimitive]("string"):ArrayBuffer.isView(r)?r instanceof BigInt64Array||r instanceof BigUint64Array?`[${[...r].map(e=>po(e))}]`:`[${r}]`:ArrayBuffer.isView(r)?`[${r}]`:JSON.stringify(r,(e,n)=>typeof n=="bigint"?`${n}`:n)}function ze(r){if(typeof r=="bigint"&&(r<Number.MIN_SAFE_INTEGER||r>Number.MAX_SAFE_INTEGER))throw new TypeError(`${r} is not safe to convert to a number.`);return Number(r)}function Xy(r,e){return ze(r/e)+ze(r%e)/ze(e)}const Hw=Symbol.for("isArrowBigNum");function Nn(r,...e){return e.length===0?Object.setPrototypeOf(ct(this.TypedArray,r),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(r,...e),this.constructor.prototype)}Nn.prototype[Hw]=!0;Nn.prototype.toJSON=function(){return`"${mo(this)}"`};Nn.prototype.valueOf=function(r){return em(this,r)};Nn.prototype.toString=function(){return mo(this)};Nn.prototype[Symbol.toPrimitive]=function(r="default"){switch(r){case"number":return em(this);case"string":return mo(this);case"default":return Qw(this)}return mo(this)};function Qi(...r){return Nn.apply(this,r)}function Ji(...r){return Nn.apply(this,r)}function yo(...r){return Nn.apply(this,r)}Object.setPrototypeOf(Qi.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(Ji.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(yo.prototype,Object.create(Uint32Array.prototype));Object.assign(Qi.prototype,Nn.prototype,{constructor:Qi,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(Ji.prototype,Nn.prototype,{constructor:Ji,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(yo.prototype,Nn.prototype,{constructor:yo,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});const Kw=BigInt(4294967296)*BigInt(4294967296),Yw=Kw-BigInt(1);function em(r,e){const{buffer:n,byteOffset:s,byteLength:a,signed:u}=r,f=new BigUint64Array(n,s,a/8),h=u&&f.at(-1)&BigInt(1)<<BigInt(63);let y=BigInt(0),m=0;if(h){for(const _ of f)y|=(_^Yw)*(BigInt(1)<<BigInt(64*m++));y*=BigInt(-1),y-=BigInt(1)}else for(const _ of f)y|=_*(BigInt(1)<<BigInt(64*m++));if(typeof e=="number"){const _=BigInt(Math.pow(10,e)),O=y/_,E=y%_;return ze(O)+ze(E)/ze(_)}return ze(y)}function mo(r){if(r.byteLength===8)return`${new r.BigIntArray(r.buffer,r.byteOffset,1)[0]}`;if(!r.signed)return Ac(r);let e=new Uint16Array(r.buffer,r.byteOffset,r.byteLength/2);if(new Int16Array([e.at(-1)])[0]>=0)return Ac(r);e=e.slice();let s=1;for(let u=0;u<e.length;u++){const f=e[u],h=~f+s;e[u]=h,s&=f===0?1:0}return`-${Ac(e)}`}function Qw(r){return r.byteLength===8?new r.BigIntArray(r.buffer,r.byteOffset,1)[0]:mo(r)}function Ac(r){let e="";const n=new Uint32Array(2);let s=new Uint16Array(r.buffer,r.byteOffset,r.byteLength/2);const a=new Uint32Array((s=new Uint16Array(s).reverse()).buffer);let u=-1;const f=s.length-1;do{for(n[0]=s[u=0];u<f;)s[u++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+s[u];s[u]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,e=`${n[0]}${e}`}while(a[0]||a[1]||a[2]||a[3]);return e??"0"}class yd{static new(e,n){switch(n){case!0:return new Qi(e);case!1:return new Ji(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new Qi(e)}return e.byteLength===16?new yo(e):new Ji(e)}static signed(e){return new Qi(e)}static unsigned(e){return new Ji(e)}static decimal(e){return new yo(e)}constructor(e,n){return yd.new(e,n)}}var tm,nm,rm,im,sm,om,am,lm,um,cm,dm,fm,hm,pm,ym,mm,gm,vm,_m,wm,Sm,Im;class le{static isNull(e){return(e==null?void 0:e.typeId)===I.Null}static isInt(e){return(e==null?void 0:e.typeId)===I.Int}static isFloat(e){return(e==null?void 0:e.typeId)===I.Float}static isBinary(e){return(e==null?void 0:e.typeId)===I.Binary}static isLargeBinary(e){return(e==null?void 0:e.typeId)===I.LargeBinary}static isUtf8(e){return(e==null?void 0:e.typeId)===I.Utf8}static isLargeUtf8(e){return(e==null?void 0:e.typeId)===I.LargeUtf8}static isBool(e){return(e==null?void 0:e.typeId)===I.Bool}static isDecimal(e){return(e==null?void 0:e.typeId)===I.Decimal}static isDate(e){return(e==null?void 0:e.typeId)===I.Date}static isTime(e){return(e==null?void 0:e.typeId)===I.Time}static isTimestamp(e){return(e==null?void 0:e.typeId)===I.Timestamp}static isInterval(e){return(e==null?void 0:e.typeId)===I.Interval}static isDuration(e){return(e==null?void 0:e.typeId)===I.Duration}static isList(e){return(e==null?void 0:e.typeId)===I.List}static isStruct(e){return(e==null?void 0:e.typeId)===I.Struct}static isUnion(e){return(e==null?void 0:e.typeId)===I.Union}static isFixedSizeBinary(e){return(e==null?void 0:e.typeId)===I.FixedSizeBinary}static isFixedSizeList(e){return(e==null?void 0:e.typeId)===I.FixedSizeList}static isMap(e){return(e==null?void 0:e.typeId)===I.Map}static isDictionary(e){return(e==null?void 0:e.typeId)===I.Dictionary}static isDenseUnion(e){return le.isUnion(e)&&e.mode===Lt.Dense}static isSparseUnion(e){return le.isUnion(e)&&e.mode===Lt.Sparse}constructor(e){this.typeId=e}}tm=Symbol.toStringTag;le[tm]=(r=>(r.children=null,r.ArrayType=Array,r.OffsetArrayType=Int32Array,r[Symbol.toStringTag]="DataType"))(le.prototype);class Rr extends le{constructor(){super(I.Null)}toString(){return"Null"}}nm=Symbol.toStringTag;Rr[nm]=(r=>r[Symbol.toStringTag]="Null")(Rr.prototype);class Kt extends le{constructor(e,n){super(I.Int),this.isSigned=e,this.bitWidth=n}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}rm=Symbol.toStringTag;Kt[rm]=(r=>(r.isSigned=null,r.bitWidth=null,r[Symbol.toStringTag]="Int"))(Kt.prototype);class km extends Kt{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}class xm extends Kt{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}class Ur extends Kt{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}class bm extends Kt{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}}class Om extends Kt{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}class Nm extends Kt{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}class Dm extends Kt{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}class Tm extends Kt{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}}Object.defineProperty(km.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(xm.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(Ur.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(bm.prototype,"ArrayType",{value:BigInt64Array});Object.defineProperty(Om.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(Nm.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(Dm.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(Tm.prototype,"ArrayType",{value:BigUint64Array});class os extends le{constructor(e){super(I.Float),this.precision=e}get ArrayType(){switch(this.precision){case vt.HALF:return Uint16Array;case vt.SINGLE:return Float32Array;case vt.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}im=Symbol.toStringTag;os[im]=(r=>(r.precision=null,r[Symbol.toStringTag]="Float"))(os.prototype);class Cm extends os{constructor(){super(vt.SINGLE)}}class Rn extends os{constructor(){super(vt.DOUBLE)}}Object.defineProperty(Cm.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(Rn.prototype,"ArrayType",{value:Float64Array});class il extends le{constructor(){super(I.Binary)}toString(){return"Binary"}}sm=Symbol.toStringTag;il[sm]=(r=>(r.ArrayType=Uint8Array,r[Symbol.toStringTag]="Binary"))(il.prototype);class sl extends le{constructor(){super(I.LargeBinary)}toString(){return"LargeBinary"}}om=Symbol.toStringTag;sl[om]=(r=>(r.ArrayType=Uint8Array,r.OffsetArrayType=BigInt64Array,r[Symbol.toStringTag]="LargeBinary"))(sl.prototype);class ol extends le{constructor(){super(I.Utf8)}toString(){return"Utf8"}}am=Symbol.toStringTag;ol[am]=(r=>(r.ArrayType=Uint8Array,r[Symbol.toStringTag]="Utf8"))(ol.prototype);class al extends le{constructor(){super(I.LargeUtf8)}toString(){return"LargeUtf8"}}lm=Symbol.toStringTag;al[lm]=(r=>(r.ArrayType=Uint8Array,r.OffsetArrayType=BigInt64Array,r[Symbol.toStringTag]="LargeUtf8"))(al.prototype);class ll extends le{constructor(){super(I.Bool)}toString(){return"Bool"}}um=Symbol.toStringTag;ll[um]=(r=>(r.ArrayType=Uint8Array,r[Symbol.toStringTag]="Bool"))(ll.prototype);class ul extends le{constructor(e,n,s=128){super(I.Decimal),this.scale=e,this.precision=n,this.bitWidth=s}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}cm=Symbol.toStringTag;ul[cm]=(r=>(r.scale=null,r.precision=null,r.ArrayType=Uint32Array,r[Symbol.toStringTag]="Decimal"))(ul.prototype);class go extends le{constructor(e){super(I.Date),this.unit=e}toString(){return`Date${(this.unit+1)*32}<${yn[this.unit]}>`}get ArrayType(){return this.unit===yn.DAY?Int32Array:BigInt64Array}}dm=Symbol.toStringTag;go[dm]=(r=>(r.unit=null,r[Symbol.toStringTag]="Date"))(go.prototype);class Am extends go{constructor(){super(yn.DAY)}}class cl extends le{constructor(e,n){super(I.Time),this.unit=e,this.bitWidth=n}toString(){return`Time${this.bitWidth}<${re[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}fm=Symbol.toStringTag;cl[fm]=(r=>(r.unit=null,r.bitWidth=null,r[Symbol.toStringTag]="Time"))(cl.prototype);class dl extends le{constructor(e,n){super(I.Timestamp),this.unit=e,this.timezone=n}toString(){return`Timestamp<${re[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}hm=Symbol.toStringTag;dl[hm]=(r=>(r.unit=null,r.timezone=null,r.ArrayType=BigInt64Array,r[Symbol.toStringTag]="Timestamp"))(dl.prototype);class fl extends le{constructor(e){super(I.Interval),this.unit=e}toString(){return`Interval<${Zn[this.unit]}>`}}pm=Symbol.toStringTag;fl[pm]=(r=>(r.unit=null,r.ArrayType=Int32Array,r[Symbol.toStringTag]="Interval"))(fl.prototype);class hl extends le{constructor(e){super(I.Duration),this.unit=e}toString(){return`Duration<${re[this.unit]}>`}}ym=Symbol.toStringTag;hl[ym]=(r=>(r.unit=null,r.ArrayType=BigInt64Array,r[Symbol.toStringTag]="Duration"))(hl.prototype);class pl extends le{constructor(e){super(I.List),this.children=[e]}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}mm=Symbol.toStringTag;pl[mm]=(r=>(r.children=null,r[Symbol.toStringTag]="List"))(pl.prototype);class Ht extends le{constructor(e){super(I.Struct),this.children=e}toString(){return`Struct<{${this.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}gm=Symbol.toStringTag;Ht[gm]=(r=>(r.children=null,r[Symbol.toStringTag]="Struct"))(Ht.prototype);class yl extends le{constructor(e,n,s){super(I.Union),this.mode=e,this.children=s,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((a,u,f)=>(a[u]=f)&&a||a,Object.create(null))}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(e=>`${e.type}`).join(" | ")}>`}}vm=Symbol.toStringTag;yl[vm]=(r=>(r.mode=null,r.typeIds=null,r.children=null,r.typeIdToChildIndex=null,r.ArrayType=Int8Array,r[Symbol.toStringTag]="Union"))(yl.prototype);class ml extends le{constructor(e){super(I.FixedSizeBinary),this.byteWidth=e}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}_m=Symbol.toStringTag;ml[_m]=(r=>(r.byteWidth=null,r.ArrayType=Uint8Array,r[Symbol.toStringTag]="FixedSizeBinary"))(ml.prototype);class gl extends le{constructor(e,n){super(I.FixedSizeList),this.listSize=e,this.children=[n]}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}wm=Symbol.toStringTag;gl[wm]=(r=>(r.children=null,r.listSize=null,r[Symbol.toStringTag]="FixedSizeList"))(gl.prototype);class vl extends le{constructor(e,n=!1){var s,a,u;if(super(I.Map),this.children=[e],this.keysSorted=n,e&&(e.name="entries",!((s=e==null?void 0:e.type)===null||s===void 0)&&s.children)){const f=(a=e==null?void 0:e.type)===null||a===void 0?void 0:a.children[0];f&&(f.name="key");const h=(u=e==null?void 0:e.type)===null||u===void 0?void 0:u.children[1];h&&(h.name="value")}}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}Sm=Symbol.toStringTag;vl[Sm]=(r=>(r.children=null,r.keysSorted=null,r[Symbol.toStringTag]="Map_"))(vl.prototype);const Jw=(r=>()=>++r)(-1);class as extends le{constructor(e,n,s,a){super(I.Dictionary),this.indices=n,this.dictionary=e,this.isOrdered=a||!1,this.id=s==null?Jw():ze(s)}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}Im=Symbol.toStringTag;as[Im]=(r=>(r.id=null,r.indices=null,r.isOrdered=null,r.dictionary=null,r[Symbol.toStringTag]="Dictionary"))(as.prototype);function ir(r){const e=r;switch(r.typeId){case I.Decimal:return r.bitWidth/32;case I.Interval:return 1+e.unit;case I.FixedSizeList:return e.listSize;case I.FixedSizeBinary:return e.byteWidth;default:return 1}}class Se{visitMany(e,...n){return e.map((s,a)=>this.visit(s,...n.map(u=>u[a])))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,n=!0){return qw(this,e,n)}getVisitFnByTypeId(e,n=!0){return Hi(this,e,n)}visitNull(e,...n){return null}visitBool(e,...n){return null}visitInt(e,...n){return null}visitFloat(e,...n){return null}visitUtf8(e,...n){return null}visitLargeUtf8(e,...n){return null}visitBinary(e,...n){return null}visitLargeBinary(e,...n){return null}visitFixedSizeBinary(e,...n){return null}visitDate(e,...n){return null}visitTimestamp(e,...n){return null}visitTime(e,...n){return null}visitDecimal(e,...n){return null}visitList(e,...n){return null}visitStruct(e,...n){return null}visitUnion(e,...n){return null}visitDictionary(e,...n){return null}visitInterval(e,...n){return null}visitDuration(e,...n){return null}visitFixedSizeList(e,...n){return null}visitMap(e,...n){return null}}function qw(r,e,n=!0){return typeof e=="number"?Hi(r,e,n):typeof e=="string"&&e in I?Hi(r,I[e],n):e&&e instanceof le?Hi(r,py(e),n):e!=null&&e.type&&e.type instanceof le?Hi(r,py(e.type),n):Hi(r,I.NONE,n)}function Hi(r,e,n=!0){let s=null;switch(e){case I.Null:s=r.visitNull;break;case I.Bool:s=r.visitBool;break;case I.Int:s=r.visitInt;break;case I.Int8:s=r.visitInt8||r.visitInt;break;case I.Int16:s=r.visitInt16||r.visitInt;break;case I.Int32:s=r.visitInt32||r.visitInt;break;case I.Int64:s=r.visitInt64||r.visitInt;break;case I.Uint8:s=r.visitUint8||r.visitInt;break;case I.Uint16:s=r.visitUint16||r.visitInt;break;case I.Uint32:s=r.visitUint32||r.visitInt;break;case I.Uint64:s=r.visitUint64||r.visitInt;break;case I.Float:s=r.visitFloat;break;case I.Float16:s=r.visitFloat16||r.visitFloat;break;case I.Float32:s=r.visitFloat32||r.visitFloat;break;case I.Float64:s=r.visitFloat64||r.visitFloat;break;case I.Utf8:s=r.visitUtf8;break;case I.LargeUtf8:s=r.visitLargeUtf8;break;case I.Binary:s=r.visitBinary;break;case I.LargeBinary:s=r.visitLargeBinary;break;case I.FixedSizeBinary:s=r.visitFixedSizeBinary;break;case I.Date:s=r.visitDate;break;case I.DateDay:s=r.visitDateDay||r.visitDate;break;case I.DateMillisecond:s=r.visitDateMillisecond||r.visitDate;break;case I.Timestamp:s=r.visitTimestamp;break;case I.TimestampSecond:s=r.visitTimestampSecond||r.visitTimestamp;break;case I.TimestampMillisecond:s=r.visitTimestampMillisecond||r.visitTimestamp;break;case I.TimestampMicrosecond:s=r.visitTimestampMicrosecond||r.visitTimestamp;break;case I.TimestampNanosecond:s=r.visitTimestampNanosecond||r.visitTimestamp;break;case I.Time:s=r.visitTime;break;case I.TimeSecond:s=r.visitTimeSecond||r.visitTime;break;case I.TimeMillisecond:s=r.visitTimeMillisecond||r.visitTime;break;case I.TimeMicrosecond:s=r.visitTimeMicrosecond||r.visitTime;break;case I.TimeNanosecond:s=r.visitTimeNanosecond||r.visitTime;break;case I.Decimal:s=r.visitDecimal;break;case I.List:s=r.visitList;break;case I.Struct:s=r.visitStruct;break;case I.Union:s=r.visitUnion;break;case I.DenseUnion:s=r.visitDenseUnion||r.visitUnion;break;case I.SparseUnion:s=r.visitSparseUnion||r.visitUnion;break;case I.Dictionary:s=r.visitDictionary;break;case I.Interval:s=r.visitInterval;break;case I.IntervalDayTime:s=r.visitIntervalDayTime||r.visitInterval;break;case I.IntervalYearMonth:s=r.visitIntervalYearMonth||r.visitInterval;break;case I.Duration:s=r.visitDuration;break;case I.DurationSecond:s=r.visitDurationSecond||r.visitDuration;break;case I.DurationMillisecond:s=r.visitDurationMillisecond||r.visitDuration;break;case I.DurationMicrosecond:s=r.visitDurationMicrosecond||r.visitDuration;break;case I.DurationNanosecond:s=r.visitDurationNanosecond||r.visitDuration;break;case I.FixedSizeList:s=r.visitFixedSizeList;break;case I.Map:s=r.visitMap;break}if(typeof s=="function")return s;if(!n)return()=>null;throw new Error(`Unrecognized type '${I[e]}'`)}function py(r){switch(r.typeId){case I.Null:return I.Null;case I.Int:{const{bitWidth:e,isSigned:n}=r;switch(e){case 8:return n?I.Int8:I.Uint8;case 16:return n?I.Int16:I.Uint16;case 32:return n?I.Int32:I.Uint32;case 64:return n?I.Int64:I.Uint64}return I.Int}case I.Float:switch(r.precision){case vt.HALF:return I.Float16;case vt.SINGLE:return I.Float32;case vt.DOUBLE:return I.Float64}return I.Float;case I.Binary:return I.Binary;case I.LargeBinary:return I.LargeBinary;case I.Utf8:return I.Utf8;case I.LargeUtf8:return I.LargeUtf8;case I.Bool:return I.Bool;case I.Decimal:return I.Decimal;case I.Time:switch(r.unit){case re.SECOND:return I.TimeSecond;case re.MILLISECOND:return I.TimeMillisecond;case re.MICROSECOND:return I.TimeMicrosecond;case re.NANOSECOND:return I.TimeNanosecond}return I.Time;case I.Timestamp:switch(r.unit){case re.SECOND:return I.TimestampSecond;case re.MILLISECOND:return I.TimestampMillisecond;case re.MICROSECOND:return I.TimestampMicrosecond;case re.NANOSECOND:return I.TimestampNanosecond}return I.Timestamp;case I.Date:switch(r.unit){case yn.DAY:return I.DateDay;case yn.MILLISECOND:return I.DateMillisecond}return I.Date;case I.Interval:switch(r.unit){case Zn.DAY_TIME:return I.IntervalDayTime;case Zn.YEAR_MONTH:return I.IntervalYearMonth}return I.Interval;case I.Duration:switch(r.unit){case re.SECOND:return I.DurationSecond;case re.MILLISECOND:return I.DurationMillisecond;case re.MICROSECOND:return I.DurationMicrosecond;case re.NANOSECOND:return I.DurationNanosecond}return I.Duration;case I.Map:return I.Map;case I.List:return I.List;case I.Struct:return I.Struct;case I.Union:switch(r.mode){case Lt.Dense:return I.DenseUnion;case Lt.Sparse:return I.SparseUnion}return I.Union;case I.FixedSizeBinary:return I.FixedSizeBinary;case I.FixedSizeList:return I.FixedSizeList;case I.Dictionary:return I.Dictionary}throw new Error(`Unrecognized type '${I[r.typeId]}'`)}Se.prototype.visitInt8=null;Se.prototype.visitInt16=null;Se.prototype.visitInt32=null;Se.prototype.visitInt64=null;Se.prototype.visitUint8=null;Se.prototype.visitUint16=null;Se.prototype.visitUint32=null;Se.prototype.visitUint64=null;Se.prototype.visitFloat16=null;Se.prototype.visitFloat32=null;Se.prototype.visitFloat64=null;Se.prototype.visitDateDay=null;Se.prototype.visitDateMillisecond=null;Se.prototype.visitTimestampSecond=null;Se.prototype.visitTimestampMillisecond=null;Se.prototype.visitTimestampMicrosecond=null;Se.prototype.visitTimestampNanosecond=null;Se.prototype.visitTimeSecond=null;Se.prototype.visitTimeMillisecond=null;Se.prototype.visitTimeMicrosecond=null;Se.prototype.visitTimeNanosecond=null;Se.prototype.visitDenseUnion=null;Se.prototype.visitSparseUnion=null;Se.prototype.visitIntervalDayTime=null;Se.prototype.visitIntervalYearMonth=null;Se.prototype.visitDuration=null;Se.prototype.visitDurationSecond=null;Se.prototype.visitDurationMillisecond=null;Se.prototype.visitDurationMicrosecond=null;Se.prototype.visitDurationNanosecond=null;const Em=new Float64Array(1),Pi=new Uint32Array(Em.buffer);function Bm(r){const e=(r&31744)>>10,n=(r&1023)/1024,s=Math.pow(-1,(r&32768)>>15);switch(e){case 31:return s*(n?Number.NaN:1/0);case 0:return s*(n?6103515625e-14*n:0)}return s*Math.pow(2,e-15)*(1+n)}function Gw(r){if(r!==r)return 32256;Em[0]=r;const e=(Pi[1]&2147483648)>>16&65535;let n=Pi[1]&2146435072,s=0;return n>=1089470464?Pi[0]>0?n=31744:(n=(n&2080374784)>>16,s=(Pi[1]&1048575)>>10):n<=1056964608?(s=1048576+(Pi[1]&1048575),s=1048576+(s<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,s=(Pi[1]&1048575)+512>>10),e|n|s&65535}class ie extends Se{}function ae(r){return(e,n,s)=>{if(e.setValid(n,s!=null))return r(e,n,s)}}const Xw=(r,e,n)=>{r[e]=Math.floor(n/864e5)},Lm=(r,e,n,s)=>{if(n+1<e.length){const a=ze(e[n]),u=ze(e[n+1]);r.set(s.subarray(0,u-a),a)}},e1=({offset:r,values:e},n,s)=>{const a=r+n;s?e[a>>3]|=1<<a%8:e[a>>3]&=~(1<<a%8)},cr=({values:r},e,n)=>{r[e]=n},md=({values:r},e,n)=>{r[e]=n},Fm=({values:r},e,n)=>{r[e]=Gw(n)},t1=(r,e,n)=>{switch(r.type.precision){case vt.HALF:return Fm(r,e,n);case vt.SINGLE:case vt.DOUBLE:return md(r,e,n)}},Mm=({values:r},e,n)=>{Xw(r,e,n.valueOf())},Pm=({values:r},e,n)=>{r[e]=BigInt(n)},n1=({stride:r,values:e},n,s)=>{e.set(s.subarray(0,r),r*n)},jm=({values:r,valueOffsets:e},n,s)=>Lm(r,e,n,s),Rm=({values:r,valueOffsets:e},n,s)=>Lm(r,e,n,Zy(s)),r1=(r,e,n)=>{r.type.unit===yn.DAY?Mm(r,e,n):Pm(r,e,n)},Um=({values:r},e,n)=>{r[e]=BigInt(n/1e3)},zm=({values:r},e,n)=>{r[e]=BigInt(n)},Vm=({values:r},e,n)=>{r[e]=BigInt(n*1e3)},$m=({values:r},e,n)=>{r[e]=BigInt(n*1e6)},i1=(r,e,n)=>{switch(r.type.unit){case re.SECOND:return Um(r,e,n);case re.MILLISECOND:return zm(r,e,n);case re.MICROSECOND:return Vm(r,e,n);case re.NANOSECOND:return $m(r,e,n)}},Zm=({values:r},e,n)=>{r[e]=n},Wm=({values:r},e,n)=>{r[e]=n},Hm=({values:r},e,n)=>{r[e]=n},Km=({values:r},e,n)=>{r[e]=n},s1=(r,e,n)=>{switch(r.type.unit){case re.SECOND:return Zm(r,e,n);case re.MILLISECOND:return Wm(r,e,n);case re.MICROSECOND:return Hm(r,e,n);case re.NANOSECOND:return Km(r,e,n)}},o1=({values:r,stride:e},n,s)=>{r.set(s.subarray(0,e),e*n)},a1=(r,e,n)=>{const s=r.children[0],a=r.valueOffsets,u=mn.getVisitFn(s);if(Array.isArray(n))for(let f=-1,h=a[e],y=a[e+1];h<y;)u(s,h++,n[++f]);else for(let f=-1,h=a[e],y=a[e+1];h<y;)u(s,h++,n.get(++f))},l1=(r,e,n)=>{const s=r.children[0],{valueOffsets:a}=r,u=mn.getVisitFn(s);let{[e]:f,[e+1]:h}=a;const y=n instanceof Map?n.entries():Object.entries(n);for(const m of y)if(u(s,f,m),++f>=h)break},u1=(r,e)=>(n,s,a,u)=>s&&n(s,r,e[u]),c1=(r,e)=>(n,s,a,u)=>s&&n(s,r,e.get(u)),d1=(r,e)=>(n,s,a,u)=>s&&n(s,r,e.get(a.name)),f1=(r,e)=>(n,s,a,u)=>s&&n(s,r,e[a.name]),h1=(r,e,n)=>{const s=r.type.children.map(u=>mn.getVisitFn(u.type)),a=n instanceof Map?d1(e,n):n instanceof pe?c1(e,n):Array.isArray(n)?u1(e,n):f1(e,n);r.type.children.forEach((u,f)=>a(s[f],r.children[f],u,f))},p1=(r,e,n)=>{r.type.mode===Lt.Dense?Ym(r,e,n):Qm(r,e,n)},Ym=(r,e,n)=>{const s=r.type.typeIdToChildIndex[r.typeIds[e]],a=r.children[s];mn.visit(a,r.valueOffsets[e],n)},Qm=(r,e,n)=>{const s=r.type.typeIdToChildIndex[r.typeIds[e]],a=r.children[s];mn.visit(a,e,n)},y1=(r,e,n)=>{var s;(s=r.dictionary)===null||s===void 0||s.set(r.values[e],n)},m1=(r,e,n)=>{r.type.unit===Zn.DAY_TIME?Jm(r,e,n):qm(r,e,n)},Jm=({values:r},e,n)=>{r.set(n.subarray(0,2),2*e)},qm=({values:r},e,n)=>{r[e]=n[0]*12+n[1]%12},Gm=({values:r},e,n)=>{r[e]=n},Xm=({values:r},e,n)=>{r[e]=n},eg=({values:r},e,n)=>{r[e]=n},tg=({values:r},e,n)=>{r[e]=n},g1=(r,e,n)=>{switch(r.type.unit){case re.SECOND:return Gm(r,e,n);case re.MILLISECOND:return Xm(r,e,n);case re.MICROSECOND:return eg(r,e,n);case re.NANOSECOND:return tg(r,e,n)}},v1=(r,e,n)=>{const{stride:s}=r,a=r.children[0],u=mn.getVisitFn(a);if(Array.isArray(n))for(let f=-1,h=e*s;++f<s;)u(a,h+f,n[f]);else for(let f=-1,h=e*s;++f<s;)u(a,h+f,n.get(f))};ie.prototype.visitBool=ae(e1);ie.prototype.visitInt=ae(cr);ie.prototype.visitInt8=ae(cr);ie.prototype.visitInt16=ae(cr);ie.prototype.visitInt32=ae(cr);ie.prototype.visitInt64=ae(cr);ie.prototype.visitUint8=ae(cr);ie.prototype.visitUint16=ae(cr);ie.prototype.visitUint32=ae(cr);ie.prototype.visitUint64=ae(cr);ie.prototype.visitFloat=ae(t1);ie.prototype.visitFloat16=ae(Fm);ie.prototype.visitFloat32=ae(md);ie.prototype.visitFloat64=ae(md);ie.prototype.visitUtf8=ae(Rm);ie.prototype.visitLargeUtf8=ae(Rm);ie.prototype.visitBinary=ae(jm);ie.prototype.visitLargeBinary=ae(jm);ie.prototype.visitFixedSizeBinary=ae(n1);ie.prototype.visitDate=ae(r1);ie.prototype.visitDateDay=ae(Mm);ie.prototype.visitDateMillisecond=ae(Pm);ie.prototype.visitTimestamp=ae(i1);ie.prototype.visitTimestampSecond=ae(Um);ie.prototype.visitTimestampMillisecond=ae(zm);ie.prototype.visitTimestampMicrosecond=ae(Vm);ie.prototype.visitTimestampNanosecond=ae($m);ie.prototype.visitTime=ae(s1);ie.prototype.visitTimeSecond=ae(Zm);ie.prototype.visitTimeMillisecond=ae(Wm);ie.prototype.visitTimeMicrosecond=ae(Hm);ie.prototype.visitTimeNanosecond=ae(Km);ie.prototype.visitDecimal=ae(o1);ie.prototype.visitList=ae(a1);ie.prototype.visitStruct=ae(h1);ie.prototype.visitUnion=ae(p1);ie.prototype.visitDenseUnion=ae(Ym);ie.prototype.visitSparseUnion=ae(Qm);ie.prototype.visitDictionary=ae(y1);ie.prototype.visitInterval=ae(m1);ie.prototype.visitIntervalDayTime=ae(Jm);ie.prototype.visitIntervalYearMonth=ae(qm);ie.prototype.visitDuration=ae(g1);ie.prototype.visitDurationSecond=ae(Gm);ie.prototype.visitDurationMillisecond=ae(Xm);ie.prototype.visitDurationMicrosecond=ae(eg);ie.prototype.visitDurationNanosecond=ae(tg);ie.prototype.visitFixedSizeList=ae(v1);ie.prototype.visitMap=ae(l1);const mn=new ie,bn=Symbol.for("parent"),qi=Symbol.for("rowIndex");class gd{constructor(e,n){return this[bn]=e,this[qi]=n,new Proxy(this,new w1)}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[qi],n=this[bn],s=n.type.children,a={};for(let u=-1,f=s.length;++u<f;)a[s[u].name]=Yt.visit(n.children[u],e);return a}toString(){return`{${[...this].map(([e,n])=>`${po(e)}: ${po(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new _1(this[bn],this[qi])}}class _1{constructor(e,n){this.childIndex=0,this.children=e.children,this.rowIndex=n,this.childFields=e.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const e=this.childIndex;return e<this.numChildren?(this.childIndex=e+1,{done:!1,value:[this.childFields[e].name,Yt.visit(this.children[e],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(gd.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[bn]:{writable:!0,enumerable:!1,configurable:!1,value:null},[qi]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class w1{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[bn].type.children.map(n=>n.name)}has(e,n){return e[bn].type.children.findIndex(s=>s.name===n)!==-1}getOwnPropertyDescriptor(e,n){if(e[bn].type.children.findIndex(s=>s.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,n){if(Reflect.has(e,n))return e[n];const s=e[bn].type.children.findIndex(a=>a.name===n);if(s!==-1){const a=Yt.visit(e[bn].children[s],e[qi]);return Reflect.set(e,n,a),a}}set(e,n,s){const a=e[bn].type.children.findIndex(u=>u.name===n);return a!==-1?(mn.visit(e[bn].children[a],e[qi],s),Reflect.set(e,n,s)):Reflect.has(e,n)||typeof n=="symbol"?Reflect.set(e,n,s):!1}}class G extends Se{}function se(r){return(e,n)=>e.getValid(n)?r(e,n):null}const S1=(r,e)=>864e5*r[e],I1=(r,e)=>null,ng=(r,e,n)=>{if(n+1>=e.length)return null;const s=ze(e[n]),a=ze(e[n+1]);return r.subarray(s,a)},k1=({offset:r,values:e},n)=>{const s=r+n;return(e[s>>3]&1<<s%8)!==0},rg=({values:r},e)=>S1(r,e),ig=({values:r},e)=>ze(r[e]),Wr=({stride:r,values:e},n)=>e[r*n],x1=({stride:r,values:e},n)=>Bm(e[r*n]),sg=({values:r},e)=>r[e],b1=({stride:r,values:e},n)=>e.subarray(r*n,r*(n+1)),og=({values:r,valueOffsets:e},n)=>ng(r,e,n),ag=({values:r,valueOffsets:e},n)=>{const s=ng(r,e,n);return s!==null?Kc(s):null},O1=({values:r},e)=>r[e],N1=({type:r,values:e},n)=>r.precision!==vt.HALF?e[n]:Bm(e[n]),D1=(r,e)=>r.type.unit===yn.DAY?rg(r,e):ig(r,e),lg=({values:r},e)=>1e3*ze(r[e]),ug=({values:r},e)=>ze(r[e]),cg=({values:r},e)=>Xy(r[e],BigInt(1e3)),dg=({values:r},e)=>Xy(r[e],BigInt(1e6)),T1=(r,e)=>{switch(r.type.unit){case re.SECOND:return lg(r,e);case re.MILLISECOND:return ug(r,e);case re.MICROSECOND:return cg(r,e);case re.NANOSECOND:return dg(r,e)}},fg=({values:r},e)=>r[e],hg=({values:r},e)=>r[e],pg=({values:r},e)=>r[e],yg=({values:r},e)=>r[e],C1=(r,e)=>{switch(r.type.unit){case re.SECOND:return fg(r,e);case re.MILLISECOND:return hg(r,e);case re.MICROSECOND:return pg(r,e);case re.NANOSECOND:return yg(r,e)}},A1=({values:r,stride:e},n)=>yd.decimal(r.subarray(e*n,e*(n+1))),E1=(r,e)=>{const{valueOffsets:n,stride:s,children:a}=r,{[e*s]:u,[e*s+1]:f}=n,y=a[0].slice(u,f-u);return new pe([y])},B1=(r,e)=>{const{valueOffsets:n,children:s}=r,{[e]:a,[e+1]:u}=n,f=s[0];return new vd(f.slice(a,u-a))},L1=(r,e)=>new gd(r,e),F1=(r,e)=>r.type.mode===Lt.Dense?mg(r,e):gg(r,e),mg=(r,e)=>{const n=r.type.typeIdToChildIndex[r.typeIds[e]],s=r.children[n];return Yt.visit(s,r.valueOffsets[e])},gg=(r,e)=>{const n=r.type.typeIdToChildIndex[r.typeIds[e]],s=r.children[n];return Yt.visit(s,e)},M1=(r,e)=>{var n;return(n=r.dictionary)===null||n===void 0?void 0:n.get(r.values[e])},P1=(r,e)=>r.type.unit===Zn.DAY_TIME?vg(r,e):_g(r,e),vg=({values:r},e)=>r.subarray(2*e,2*(e+1)),_g=({values:r},e)=>{const n=r[e],s=new Int32Array(2);return s[0]=Math.trunc(n/12),s[1]=Math.trunc(n%12),s},wg=({values:r},e)=>r[e],Sg=({values:r},e)=>r[e],Ig=({values:r},e)=>r[e],kg=({values:r},e)=>r[e],j1=(r,e)=>{switch(r.type.unit){case re.SECOND:return wg(r,e);case re.MILLISECOND:return Sg(r,e);case re.MICROSECOND:return Ig(r,e);case re.NANOSECOND:return kg(r,e)}},R1=(r,e)=>{const{stride:n,children:s}=r,u=s[0].slice(e*n,n);return new pe([u])};G.prototype.visitNull=se(I1);G.prototype.visitBool=se(k1);G.prototype.visitInt=se(O1);G.prototype.visitInt8=se(Wr);G.prototype.visitInt16=se(Wr);G.prototype.visitInt32=se(Wr);G.prototype.visitInt64=se(sg);G.prototype.visitUint8=se(Wr);G.prototype.visitUint16=se(Wr);G.prototype.visitUint32=se(Wr);G.prototype.visitUint64=se(sg);G.prototype.visitFloat=se(N1);G.prototype.visitFloat16=se(x1);G.prototype.visitFloat32=se(Wr);G.prototype.visitFloat64=se(Wr);G.prototype.visitUtf8=se(ag);G.prototype.visitLargeUtf8=se(ag);G.prototype.visitBinary=se(og);G.prototype.visitLargeBinary=se(og);G.prototype.visitFixedSizeBinary=se(b1);G.prototype.visitDate=se(D1);G.prototype.visitDateDay=se(rg);G.prototype.visitDateMillisecond=se(ig);G.prototype.visitTimestamp=se(T1);G.prototype.visitTimestampSecond=se(lg);G.prototype.visitTimestampMillisecond=se(ug);G.prototype.visitTimestampMicrosecond=se(cg);G.prototype.visitTimestampNanosecond=se(dg);G.prototype.visitTime=se(C1);G.prototype.visitTimeSecond=se(fg);G.prototype.visitTimeMillisecond=se(hg);G.prototype.visitTimeMicrosecond=se(pg);G.prototype.visitTimeNanosecond=se(yg);G.prototype.visitDecimal=se(A1);G.prototype.visitList=se(E1);G.prototype.visitStruct=se(L1);G.prototype.visitUnion=se(F1);G.prototype.visitDenseUnion=se(mg);G.prototype.visitSparseUnion=se(gg);G.prototype.visitDictionary=se(M1);G.prototype.visitInterval=se(P1);G.prototype.visitIntervalDayTime=se(vg);G.prototype.visitIntervalYearMonth=se(_g);G.prototype.visitDuration=se(j1);G.prototype.visitDurationSecond=se(wg);G.prototype.visitDurationMillisecond=se(Sg);G.prototype.visitDurationMicrosecond=se(Ig);G.prototype.visitDurationNanosecond=se(kg);G.prototype.visitFixedSizeList=se(R1);G.prototype.visitMap=se(B1);const Yt=new G,Ki=Symbol.for("keys"),Gi=Symbol.for("vals"),Yi=Symbol.for("kKeysAsStrings"),Gc=Symbol.for("_kKeysAsStrings");class vd{constructor(e){return this[Ki]=new pe([e.children[0]]).memoize(),this[Gi]=e.children[1],new Proxy(this,new z1)}get[Yi](){return this[Gc]||(this[Gc]=Array.from(this[Ki].toArray(),String))}[Symbol.iterator](){return new U1(this[Ki],this[Gi])}get size(){return this[Ki].length}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[Ki],n=this[Gi],s={};for(let a=-1,u=e.length;++a<u;)s[e.get(a)]=Yt.visit(n,a);return s}toString(){return`{${[...this].map(([e,n])=>`${po(e)}: ${po(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class U1{constructor(e,n){this.keys=e,this.vals=n,this.keyIndex=0,this.numKeys=e.length}[Symbol.iterator](){return this}next(){const e=this.keyIndex;return e===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(e),Yt.visit(this.vals,e)]})}}class z1{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[Yi]}has(e,n){return e[Yi].includes(n)}getOwnPropertyDescriptor(e,n){if(e[Yi].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,n){if(Reflect.has(e,n))return e[n];const s=e[Yi].indexOf(n);if(s!==-1){const a=Yt.visit(Reflect.get(e,Gi),s);return Reflect.set(e,n,a),a}}set(e,n,s){const a=e[Yi].indexOf(n);return a!==-1?(mn.visit(Reflect.get(e,Gi),a,s),Reflect.set(e,n,s)):Reflect.has(e,n)?Reflect.set(e,n,s):!1}}Object.defineProperties(vd.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Ki]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Gi]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Gc]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let yy;function xg(r,e,n,s){const{length:a=0}=r;let u=typeof e!="number"?0:e,f=typeof n!="number"?a:n;return u<0&&(u=(u%a+a)%a),f<0&&(f=(f%a+a)%a),f<u&&(yy=u,u=f,f=yy),f>a&&(f=a),s?s(r,u,f):[u,f]}const _d=(r,e)=>r<0?e+r:r,my=r=>r!==r;function ls(r){if(typeof r!=="object"||r===null)return my(r)?my:n=>n===r;if(r instanceof Date){const n=r.valueOf();return s=>s instanceof Date?s.valueOf()===n:!1}return ArrayBuffer.isView(r)?n=>n?Rw(r,n):!1:r instanceof Map?$1(r):Array.isArray(r)?V1(r):r instanceof pe?Z1(r):W1(r,!0)}function V1(r){const e=[];for(let n=-1,s=r.length;++n<s;)e[n]=ls(r[n]);return bl(e)}function $1(r){let e=-1;const n=[];for(const s of r.values())n[++e]=ls(s);return bl(n)}function Z1(r){const e=[];for(let n=-1,s=r.length;++n<s;)e[n]=ls(r.get(n));return bl(e)}function W1(r,e=!1){const n=Object.keys(r);if(!e&&n.length===0)return()=>!1;const s=[];for(let a=-1,u=n.length;++a<u;)s[a]=ls(r[n[a]]);return bl(s,n)}function bl(r,e){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return H1(r,n);case Map:return gy(r,n,n.keys());case vd:case gd:case Object:case void 0:return gy(r,n,e||Object.keys(n))}return n instanceof pe?K1(r,n):!1}}function H1(r,e){const n=r.length;if(e.length!==n)return!1;for(let s=-1;++s<n;)if(!r[s](e[s]))return!1;return!0}function K1(r,e){const n=r.length;if(e.length!==n)return!1;for(let s=-1;++s<n;)if(!r[s](e.get(s)))return!1;return!0}function gy(r,e,n){const s=n[Symbol.iterator](),a=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),u=e instanceof Map?e.values():Object.values(e)[Symbol.iterator]();let f=0;const h=r.length;let y=u.next(),m=s.next(),_=a.next();for(;f<h&&!m.done&&!_.done&&!y.done&&!(m.value!==_.value||!r[f](y.value));++f,m=s.next(),_=a.next(),y=u.next());return f===h&&m.done&&_.done&&y.done?!0:(s.return&&s.return(),a.return&&a.return(),u.return&&u.return(),!1)}function bg(r,e,n,s){return(n&1<<s)!==0}function Y1(r,e,n,s){return(n&1<<s)>>s}function _l(r,e,n){const s=n.byteLength+7&-8;if(r>0||n.byteLength<s){const a=new Uint8Array(s);return a.set(r%8===0?n.subarray(r>>3):Og(new wd(n,r,e,null,bg)).subarray(0,s)),a}return n}function Og(r){const e=[];let n=0,s=0,a=0;for(const f of r)f&&(a|=1<<s),++s===8&&(e[n++]=a,a=s=0);(n===0||s>0)&&(e[n++]=a);const u=new Uint8Array(e.length+7&-8);return u.set(e),u}class wd{constructor(e,n,s,a,u){this.bytes=e,this.length=s,this.context=a,this.get=u,this.bit=n%8,this.byteIndex=n>>3,this.byte=e[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function Xc(r,e,n){if(n-e<=0)return 0;if(n-e<8){let u=0;for(const f of new wd(r,e,n-e,r,Y1))u+=f;return u}const s=n>>3<<3,a=e+(e%8===0?0:8-e%8);return Xc(r,e,a)+Xc(r,s,n)+Q1(r,a>>3,s-a>>3)}function Q1(r,e,n){let s=0,a=Math.trunc(e);const u=new DataView(r.buffer,r.byteOffset,r.byteLength),f=n===void 0?r.byteLength:a+n;for(;f-a>=4;)s+=Ec(u.getUint32(a)),a+=4;for(;f-a>=2;)s+=Ec(u.getUint16(a)),a+=2;for(;f-a>=1;)s+=Ec(u.getUint8(a)),a+=1;return s}function Ec(r){let e=Math.trunc(r);return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24}const J1=-1;class Ee{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){const{type:e}=this;return le.isSparseUnion(e)?this.children.some(n=>n.nullable):le.isDenseUnion(e)?this.children.some(n=>n.nullable):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let e=0;const{valueOffsets:n,values:s,nullBitmap:a,typeIds:u}=this;return n&&(e+=n.byteLength),s&&(e+=s.byteLength),a&&(e+=a.byteLength),u&&(e+=u.byteLength),this.children.reduce((f,h)=>f+h.byteLength,e)}get nullCount(){if(le.isUnion(this.type))return this.children.reduce((s,a)=>s+a.nullCount,0);let e=this._nullCount,n;return e<=J1&&(n=this.nullBitmap)&&(this._nullCount=e=n.length===0?0:this.length-Xc(n,this.offset,this.offset+this.length)),e}constructor(e,n,s,a,u,f=[],h){this.type=e,this.children=f,this.dictionary=h,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(s||0,0)),this._nullCount=Math.floor(Math.max(a||0,-1));let y;u instanceof Ee?(this.stride=u.stride,this.values=u.values,this.typeIds=u.typeIds,this.nullBitmap=u.nullBitmap,this.valueOffsets=u.valueOffsets):(this.stride=ir(e),u&&((y=u[0])&&(this.valueOffsets=y),(y=u[1])&&(this.values=y),(y=u[2])&&(this.nullBitmap=y),(y=u[3])&&(this.typeIds=y)))}getValid(e){const{type:n}=this;if(le.isUnion(n)){const s=n,a=this.children[s.typeIdToChildIndex[this.typeIds[e]]],u=s.mode===Lt.Dense?this.valueOffsets[e]:e;return a.getValid(u)}if(this.nullable&&this.nullCount>0){const s=this.offset+e;return(this.nullBitmap[s>>3]&1<<s%8)!==0}return!0}setValid(e,n){let s;const{type:a}=this;if(le.isUnion(a)){const u=a,f=this.children[u.typeIdToChildIndex[this.typeIds[e]]],h=u.mode===Lt.Dense?this.valueOffsets[e]:e;s=f.getValid(h),f.setValid(h,n)}else{let{nullBitmap:u}=this;const{offset:f,length:h}=this,y=f+e,m=1<<y%8,_=y>>3;(!u||u.byteLength<=_)&&(u=new Uint8Array((f+h+63&-64)>>3).fill(255),this.nullCount>0?(u.set(_l(f,h,this.nullBitmap),0),Object.assign(this,{nullBitmap:u})):Object.assign(this,{nullBitmap:u,_nullCount:0}));const O=u[_];s=(O&m)!==0,u[_]=n?O|m:O&~m}return s!==!!n&&(this._nullCount=this.nullCount+(n?-1:1)),n}clone(e=this.type,n=this.offset,s=this.length,a=this._nullCount,u=this,f=this.children){return new Ee(e,n,s,a,u,f,this.dictionary)}slice(e,n){const{stride:s,typeId:a,children:u}=this,f=+(this._nullCount===0)-1,h=a===16?s:1,y=this._sliceBuffers(e,n,s,a);return this.clone(this.type,this.offset+e,n,f,y,u.length===0||this.valueOffsets?u:this._sliceChildren(u,h*e,h*n))}_changeLengthAndBackfillNullBitmap(e){if(this.typeId===I.Null)return this.clone(this.type,0,e,0);const{length:n,nullCount:s}=this,a=new Uint8Array((e+63&-64)>>3).fill(255,0,n>>3);a[n>>3]=(1<<n-(n&-8))-1,s>0&&a.set(_l(this.offset,n,this.nullBitmap),0);const u=this.buffers;return u[rr.VALIDITY]=a,this.clone(this.type,0,e,s+(e-n),u)}_sliceBuffers(e,n,s,a){let u;const{buffers:f}=this;return(u=f[rr.TYPE])&&(f[rr.TYPE]=u.subarray(e,e+n)),(u=f[rr.OFFSET])&&(f[rr.OFFSET]=u.subarray(e,e+n+1))||(u=f[rr.DATA])&&(f[rr.DATA]=a===6?u:u.subarray(s*e,s*(e+n))),f}_sliceChildren(e,n,s){return e.map(a=>a.slice(n,s))}}Ee.prototype.children=Object.freeze([]);class co extends Se{visit(e){return this.getVisitFn(e.type).call(this,e)}visitNull(e){const{["type"]:n,["offset"]:s=0,["length"]:a=0}=e;return new Ee(n,s,a,a)}visitBool(e){const{["type"]:n,["offset"]:s=0}=e,a=Te(e.nullBitmap),u=ct(n.ArrayType,e.data),{["length"]:f=u.length>>3,["nullCount"]:h=e.nullBitmap?-1:0}=e;return new Ee(n,s,f,h,[void 0,u,a])}visitInt(e){const{["type"]:n,["offset"]:s=0}=e,a=Te(e.nullBitmap),u=ct(n.ArrayType,e.data),{["length"]:f=u.length,["nullCount"]:h=e.nullBitmap?-1:0}=e;return new Ee(n,s,f,h,[void 0,u,a])}visitFloat(e){const{["type"]:n,["offset"]:s=0}=e,a=Te(e.nullBitmap),u=ct(n.ArrayType,e.data),{["length"]:f=u.length,["nullCount"]:h=e.nullBitmap?-1:0}=e;return new Ee(n,s,f,h,[void 0,u,a])}visitUtf8(e){const{["type"]:n,["offset"]:s=0}=e,a=Te(e.data),u=Te(e.nullBitmap),f=qs(e.valueOffsets),{["length"]:h=f.length-1,["nullCount"]:y=e.nullBitmap?-1:0}=e;return new Ee(n,s,h,y,[f,a,u])}visitLargeUtf8(e){const{["type"]:n,["offset"]:s=0}=e,a=Te(e.data),u=Te(e.nullBitmap),f=ry(e.valueOffsets),{["length"]:h=f.length-1,["nullCount"]:y=e.nullBitmap?-1:0}=e;return new Ee(n,s,h,y,[f,a,u])}visitBinary(e){const{["type"]:n,["offset"]:s=0}=e,a=Te(e.data),u=Te(e.nullBitmap),f=qs(e.valueOffsets),{["length"]:h=f.length-1,["nullCount"]:y=e.nullBitmap?-1:0}=e;return new Ee(n,s,h,y,[f,a,u])}visitLargeBinary(e){const{["type"]:n,["offset"]:s=0}=e,a=Te(e.data),u=Te(e.nullBitmap),f=ry(e.valueOffsets),{["length"]:h=f.length-1,["nullCount"]:y=e.nullBitmap?-1:0}=e;return new Ee(n,s,h,y,[f,a,u])}visitFixedSizeBinary(e){const{["type"]:n,["offset"]:s=0}=e,a=Te(e.nullBitmap),u=ct(n.ArrayType,e.data),{["length"]:f=u.length/ir(n),["nullCount"]:h=e.nullBitmap?-1:0}=e;return new Ee(n,s,f,h,[void 0,u,a])}visitDate(e){const{["type"]:n,["offset"]:s=0}=e,a=Te(e.nullBitmap),u=ct(n.ArrayType,e.data),{["length"]:f=u.length/ir(n),["nullCount"]:h=e.nullBitmap?-1:0}=e;return new Ee(n,s,f,h,[void 0,u,a])}visitTimestamp(e){const{["type"]:n,["offset"]:s=0}=e,a=Te(e.nullBitmap),u=ct(n.ArrayType,e.data),{["length"]:f=u.length/ir(n),["nullCount"]:h=e.nullBitmap?-1:0}=e;return new Ee(n,s,f,h,[void 0,u,a])}visitTime(e){const{["type"]:n,["offset"]:s=0}=e,a=Te(e.nullBitmap),u=ct(n.ArrayType,e.data),{["length"]:f=u.length/ir(n),["nullCount"]:h=e.nullBitmap?-1:0}=e;return new Ee(n,s,f,h,[void 0,u,a])}visitDecimal(e){const{["type"]:n,["offset"]:s=0}=e,a=Te(e.nullBitmap),u=ct(n.ArrayType,e.data),{["length"]:f=u.length/ir(n),["nullCount"]:h=e.nullBitmap?-1:0}=e;return new Ee(n,s,f,h,[void 0,u,a])}visitList(e){const{["type"]:n,["offset"]:s=0,["child"]:a}=e,u=Te(e.nullBitmap),f=qs(e.valueOffsets),{["length"]:h=f.length-1,["nullCount"]:y=e.nullBitmap?-1:0}=e;return new Ee(n,s,h,y,[f,void 0,u],[a])}visitStruct(e){const{["type"]:n,["offset"]:s=0,["children"]:a=[]}=e,u=Te(e.nullBitmap),{length:f=a.reduce((y,{length:m})=>Math.max(y,m),0),nullCount:h=e.nullBitmap?-1:0}=e;return new Ee(n,s,f,h,[void 0,void 0,u],a)}visitUnion(e){const{["type"]:n,["offset"]:s=0,["children"]:a=[]}=e,u=ct(n.ArrayType,e.typeIds),{["length"]:f=u.length,["nullCount"]:h=-1}=e;if(le.isSparseUnion(n))return new Ee(n,s,f,h,[void 0,void 0,void 0,u],a);const y=qs(e.valueOffsets);return new Ee(n,s,f,h,[y,void 0,void 0,u],a)}visitDictionary(e){const{["type"]:n,["offset"]:s=0}=e,a=Te(e.nullBitmap),u=ct(n.indices.ArrayType,e.data),{["dictionary"]:f=new pe([new co().visit({type:n.dictionary})])}=e,{["length"]:h=u.length,["nullCount"]:y=e.nullBitmap?-1:0}=e;return new Ee(n,s,h,y,[void 0,u,a],[],f)}visitInterval(e){const{["type"]:n,["offset"]:s=0}=e,a=Te(e.nullBitmap),u=ct(n.ArrayType,e.data),{["length"]:f=u.length/ir(n),["nullCount"]:h=e.nullBitmap?-1:0}=e;return new Ee(n,s,f,h,[void 0,u,a])}visitDuration(e){const{["type"]:n,["offset"]:s=0}=e,a=Te(e.nullBitmap),u=ct(n.ArrayType,e.data),{["length"]:f=u.length,["nullCount"]:h=e.nullBitmap?-1:0}=e;return new Ee(n,s,f,h,[void 0,u,a])}visitFixedSizeList(e){const{["type"]:n,["offset"]:s=0,["child"]:a=new co().visit({type:n.valueType})}=e,u=Te(e.nullBitmap),{["length"]:f=a.length/ir(n),["nullCount"]:h=e.nullBitmap?-1:0}=e;return new Ee(n,s,f,h,[void 0,void 0,u],[a])}visitMap(e){const{["type"]:n,["offset"]:s=0,["child"]:a=new co().visit({type:n.childType})}=e,u=Te(e.nullBitmap),f=qs(e.valueOffsets),{["length"]:h=f.length-1,["nullCount"]:y=e.nullBitmap?-1:0}=e;return new Ee(n,s,h,y,[f,void 0,u],[a])}}const q1=new co;function Ze(r){return q1.visit(r)}class vy{constructor(e=0,n){this.numChunks=e,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function G1(r){return r.some(e=>e.nullable)}function Ng(r){return r.reduce((e,n)=>e+n.nullCount,0)}function Dg(r){return r.reduce((e,n,s)=>(e[s+1]=e[s]+n.length,e),new Uint32Array(r.length+1))}function Tg(r,e,n,s){const a=[];for(let u=-1,f=r.length;++u<f;){const h=r[u],y=e[u],{length:m}=h;if(y>=s)break;if(n>=y+m)continue;if(y>=n&&y+m<=s){a.push(h);continue}const _=Math.max(0,n-y),O=Math.min(s-y,m);a.push(h.slice(_,O-_))}return a.length===0&&a.push(r[0].slice(0,0)),a}function Sd(r,e,n,s){let a=0,u=0,f=e.length-1;do{if(a>=f-1)return n<e[f]?s(r,a,n-e[a]):null;u=a+Math.trunc((f-a)*.5),n<e[u]?f=u:a=u}while(a<f)}function Id(r,e){return r.getValid(e)}function wl(r){function e(n,s,a){return r(n[s],a)}return function(n){const s=this.data;return Sd(s,this._offsets,n,e)}}function Cg(r){let e;function n(s,a,u){return r(s[a],u,e)}return function(s,a){const u=this.data;e=a;const f=Sd(u,this._offsets,s,n);return e=void 0,f}}function Ag(r){let e;function n(s,a,u){let f=u,h=0,y=0;for(let m=a-1,_=s.length;++m<_;){const O=s[m];if(~(h=r(O,e,f)))return y+h;f=0,y+=O.length}return-1}return function(s,a){e=s;const u=this.data,f=typeof a!="number"?n(u,0,0):Sd(u,this._offsets,a,n);return e=void 0,f}}class X extends Se{}function X1(r,e){return e===null&&r.length>0?0:-1}function eS(r,e){const{nullBitmap:n}=r;if(!n||r.nullCount<=0)return-1;let s=0;for(const a of new wd(n,r.offset+(e||0),r.length,n,bg)){if(!a)return s;++s}return-1}function ce(r,e,n){if(e===void 0)return-1;if(e===null)switch(r.typeId){case I.Union:break;case I.Dictionary:break;default:return eS(r,n)}const s=Yt.getVisitFn(r),a=ls(e);for(let u=(n||0)-1,f=r.length;++u<f;)if(a(s(r,u)))return u;return-1}function Eg(r,e,n){const s=Yt.getVisitFn(r),a=ls(e);for(let u=(n||0)-1,f=r.length;++u<f;)if(a(s(r,u)))return u;return-1}X.prototype.visitNull=X1;X.prototype.visitBool=ce;X.prototype.visitInt=ce;X.prototype.visitInt8=ce;X.prototype.visitInt16=ce;X.prototype.visitInt32=ce;X.prototype.visitInt64=ce;X.prototype.visitUint8=ce;X.prototype.visitUint16=ce;X.prototype.visitUint32=ce;X.prototype.visitUint64=ce;X.prototype.visitFloat=ce;X.prototype.visitFloat16=ce;X.prototype.visitFloat32=ce;X.prototype.visitFloat64=ce;X.prototype.visitUtf8=ce;X.prototype.visitLargeUtf8=ce;X.prototype.visitBinary=ce;X.prototype.visitLargeBinary=ce;X.prototype.visitFixedSizeBinary=ce;X.prototype.visitDate=ce;X.prototype.visitDateDay=ce;X.prototype.visitDateMillisecond=ce;X.prototype.visitTimestamp=ce;X.prototype.visitTimestampSecond=ce;X.prototype.visitTimestampMillisecond=ce;X.prototype.visitTimestampMicrosecond=ce;X.prototype.visitTimestampNanosecond=ce;X.prototype.visitTime=ce;X.prototype.visitTimeSecond=ce;X.prototype.visitTimeMillisecond=ce;X.prototype.visitTimeMicrosecond=ce;X.prototype.visitTimeNanosecond=ce;X.prototype.visitDecimal=ce;X.prototype.visitList=ce;X.prototype.visitStruct=ce;X.prototype.visitUnion=ce;X.prototype.visitDenseUnion=Eg;X.prototype.visitSparseUnion=Eg;X.prototype.visitDictionary=ce;X.prototype.visitInterval=ce;X.prototype.visitIntervalDayTime=ce;X.prototype.visitIntervalYearMonth=ce;X.prototype.visitDuration=ce;X.prototype.visitDurationSecond=ce;X.prototype.visitDurationMillisecond=ce;X.prototype.visitDurationMicrosecond=ce;X.prototype.visitDurationNanosecond=ce;X.prototype.visitFixedSizeList=ce;X.prototype.visitMap=ce;const Sl=new X;class ee extends Se{}function oe(r){const{type:e}=r;if(r.nullCount===0&&r.stride===1&&(le.isInt(e)&&e.bitWidth!==64||le.isTime(e)&&e.bitWidth!==64||le.isFloat(e)&&e.precision!==vt.HALF))return new vy(r.data.length,s=>{const a=r.data[s];return a.values.subarray(0,a.length)[Symbol.iterator]()});let n=0;return new vy(r.data.length,s=>{const u=r.data[s].length,f=r.slice(n,n+u);return n+=u,new tS(f)})}class tS{constructor(e){this.vector=e,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}ee.prototype.visitNull=oe;ee.prototype.visitBool=oe;ee.prototype.visitInt=oe;ee.prototype.visitInt8=oe;ee.prototype.visitInt16=oe;ee.prototype.visitInt32=oe;ee.prototype.visitInt64=oe;ee.prototype.visitUint8=oe;ee.prototype.visitUint16=oe;ee.prototype.visitUint32=oe;ee.prototype.visitUint64=oe;ee.prototype.visitFloat=oe;ee.prototype.visitFloat16=oe;ee.prototype.visitFloat32=oe;ee.prototype.visitFloat64=oe;ee.prototype.visitUtf8=oe;ee.prototype.visitLargeUtf8=oe;ee.prototype.visitBinary=oe;ee.prototype.visitLargeBinary=oe;ee.prototype.visitFixedSizeBinary=oe;ee.prototype.visitDate=oe;ee.prototype.visitDateDay=oe;ee.prototype.visitDateMillisecond=oe;ee.prototype.visitTimestamp=oe;ee.prototype.visitTimestampSecond=oe;ee.prototype.visitTimestampMillisecond=oe;ee.prototype.visitTimestampMicrosecond=oe;ee.prototype.visitTimestampNanosecond=oe;ee.prototype.visitTime=oe;ee.prototype.visitTimeSecond=oe;ee.prototype.visitTimeMillisecond=oe;ee.prototype.visitTimeMicrosecond=oe;ee.prototype.visitTimeNanosecond=oe;ee.prototype.visitDecimal=oe;ee.prototype.visitList=oe;ee.prototype.visitStruct=oe;ee.prototype.visitUnion=oe;ee.prototype.visitDenseUnion=oe;ee.prototype.visitSparseUnion=oe;ee.prototype.visitDictionary=oe;ee.prototype.visitInterval=oe;ee.prototype.visitIntervalDayTime=oe;ee.prototype.visitIntervalYearMonth=oe;ee.prototype.visitDuration=oe;ee.prototype.visitDurationSecond=oe;ee.prototype.visitDurationMillisecond=oe;ee.prototype.visitDurationMicrosecond=oe;ee.prototype.visitDurationNanosecond=oe;ee.prototype.visitFixedSizeList=oe;ee.prototype.visitMap=oe;const kd=new ee;var Bg;const Lg={},Fg={};class pe{constructor(e){var n,s,a;const u=e[0]instanceof pe?e.flatMap(h=>h.data):e;if(u.length===0||u.some(h=>!(h instanceof Ee)))throw new TypeError("Vector constructor expects an Array of Data instances.");const f=(n=u[0])===null||n===void 0?void 0:n.type;switch(u.length){case 0:this._offsets=[0];break;case 1:{const{get:h,set:y,indexOf:m}=Lg[f.typeId],_=u[0];this.isValid=O=>Id(_,O),this.get=O=>h(_,O),this.set=(O,E)=>y(_,O,E),this.indexOf=O=>m(_,O),this._offsets=[0,_.length];break}default:Object.setPrototypeOf(this,Fg[f.typeId]),this._offsets=Dg(u);break}this.data=u,this.type=f,this.stride=ir(f),this.numChildren=(a=(s=f.children)===null||s===void 0?void 0:s.length)!==null&&a!==void 0?a:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((e,n)=>e+n.byteLength,0)}get nullable(){return G1(this.data)}get nullCount(){return Ng(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${I[this.type.typeId]}Vector`}isValid(e){return!1}get(e){return null}at(e){return this.get(_d(e,this.length))}set(e,n){}indexOf(e,n){return-1}includes(e,n){return this.indexOf(e,n)>-1}[Symbol.iterator](){return kd.visit(this)}concat(...e){return new pe(this.data.concat(e.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(e,n){return new pe(xg(this,e,n,({data:s,_offsets:a},u,f)=>Tg(s,a,u,f)))}toJSON(){return[...this]}toArray(){const{type:e,data:n,length:s,stride:a,ArrayType:u}=this;switch(e.typeId){case I.Int:case I.Float:case I.Decimal:case I.Time:case I.Timestamp:switch(n.length){case 0:return new u;case 1:return n[0].values.subarray(0,s*a);default:return n.reduce((f,{values:h,length:y})=>(f.array.set(h.subarray(0,y*a),f.offset),f.offset+=y*a,f),{array:new u(s*a),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(e){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(s=>s.name===e))}getChildAt(e){return e>-1&&e<this.numChildren?new pe(this.data.map(({children:n})=>n[e])):null}get isMemoized(){return le.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(le.isDictionary(this.type)){const e=new Il(this.data[0].dictionary),n=this.data.map(s=>{const a=s.clone();return a.dictionary=e,a});return new pe(n)}return new Il(this)}unmemoize(){if(le.isDictionary(this.type)&&this.isMemoized){const e=this.data[0].dictionary.unmemoize(),n=this.data.map(s=>{const a=s.clone();return a.dictionary=e,a});return new pe(n)}return this}}Bg=Symbol.toStringTag;pe[Bg]=(r=>{r.type=le.prototype,r.data=[],r.length=0,r.stride=1,r.numChildren=0,r._offsets=new Uint32Array([0]),r[Symbol.isConcatSpreadable]=!0;const e=Object.keys(I).map(n=>I[n]).filter(n=>typeof n=="number"&&n!==I.NONE);for(const n of e){const s=Yt.getVisitFnByTypeId(n),a=mn.getVisitFnByTypeId(n),u=Sl.getVisitFnByTypeId(n);Lg[n]={get:s,set:a,indexOf:u},Fg[n]=Object.create(r,{isValid:{value:wl(Id)},get:{value:wl(Yt.getVisitFnByTypeId(n))},set:{value:Cg(mn.getVisitFnByTypeId(n))},indexOf:{value:Ag(Sl.getVisitFnByTypeId(n))}})}return"Vector"})(pe.prototype);class Il extends pe{constructor(e){super(e.data);const n=this.get,s=this.set,a=this.slice,u=new Array(this.length);Object.defineProperty(this,"get",{value(f){const h=u[f];if(h!==void 0)return h;const y=n.call(this,f);return u[f]=y,y}}),Object.defineProperty(this,"set",{value(f,h){s.call(this,f,h),u[f]=h}}),Object.defineProperty(this,"slice",{value:(f,h)=>new Il(a.call(this,f,h))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new pe(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}function tn(r){if(r){if(r instanceof Ee)return new pe([r]);if(r instanceof pe)return new pe(r.data);if(r.type instanceof le)return new pe([Ze(r)]);if(Array.isArray(r))return new pe(r.flatMap(e=>nS(e)));if(ArrayBuffer.isView(r)){r instanceof DataView&&(r=new Uint8Array(r.buffer));const e={offset:0,length:r.length,nullCount:-1,data:r};if(r instanceof Int8Array)return new pe([Ze(Object.assign(Object.assign({},e),{type:new km}))]);if(r instanceof Int16Array)return new pe([Ze(Object.assign(Object.assign({},e),{type:new xm}))]);if(r instanceof Int32Array)return new pe([Ze(Object.assign(Object.assign({},e),{type:new Ur}))]);if(r instanceof BigInt64Array)return new pe([Ze(Object.assign(Object.assign({},e),{type:new bm}))]);if(r instanceof Uint8Array||r instanceof Uint8ClampedArray)return new pe([Ze(Object.assign(Object.assign({},e),{type:new Om}))]);if(r instanceof Uint16Array)return new pe([Ze(Object.assign(Object.assign({},e),{type:new Nm}))]);if(r instanceof Uint32Array)return new pe([Ze(Object.assign(Object.assign({},e),{type:new Dm}))]);if(r instanceof BigUint64Array)return new pe([Ze(Object.assign(Object.assign({},e),{type:new Tm}))]);if(r instanceof Float32Array)return new pe([Ze(Object.assign(Object.assign({},e),{type:new Cm}))]);if(r instanceof Float64Array)return new pe([Ze(Object.assign(Object.assign({},e),{type:new Rn}))]);throw new Error("Unrecognized input")}}throw new Error("Unrecognized input")}function nS(r){return r instanceof Ee?[r]:r instanceof pe?r.data:tn(r).data}class ed{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(e,n,s,a){return e.prep(8,24),e.writeInt64(BigInt(a??0)),e.pad(4),e.writeInt32(s),e.writeInt64(BigInt(n??0)),e.offset()}}class Xt{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFooter(e,n){return(n||new Xt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFooter(e,n){return e.setPosition(e.position()+Me),(n||new Xt).__init(e.readInt32(e.position())+e.position(),e)}version(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):ft.V1}schema(e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new Ln).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(e,n){const s=this.bb.__offset(this.bb_pos,8);return s?(n||new ed).__init(this.bb.__vector(this.bb_pos+s)+e*24,this.bb):null}dictionariesLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}recordBatches(e,n){const s=this.bb.__offset(this.bb_pos,10);return s?(n||new ed).__init(this.bb.__vector(this.bb_pos+s)+e*24,this.bb):null}recordBatchesLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,n){const s=this.bb.__offset(this.bb_pos,12);return s?(n||new dt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+s)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startFooter(e){e.startObject(5)}static addVersion(e,n){e.addFieldInt16(0,n,ft.V1)}static addSchema(e,n){e.addFieldOffset(1,n,0)}static addDictionaries(e,n){e.addFieldOffset(2,n,0)}static startDictionariesVector(e,n){e.startVector(24,n,8)}static addRecordBatches(e,n){e.addFieldOffset(3,n,0)}static startRecordBatchesVector(e,n){e.startVector(24,n,8)}static addCustomMetadata(e,n){e.addFieldOffset(4,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let s=n.length-1;s>=0;s--)e.addOffset(n[s]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static endFooter(e){return e.endObject()}static finishFooterBuffer(e,n){e.finish(n)}static finishSizePrefixedFooterBuffer(e,n){e.finish(n,void 0,!0)}}class Le{constructor(e=[],n,s,a=ft.V5){this.fields=e||[],this.metadata=n||new Map,s||(s=td(e)),this.dictionaries=s,this.metadataVersion=a}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(e=>e.name)}toString(){return`Schema<{ ${this.fields.map((e,n)=>`${n}: ${e}`).join(", ")} }>`}select(e){const n=new Set(e),s=this.fields.filter(a=>n.has(a.name));return new Le(s,this.metadata)}selectAt(e){const n=e.map(s=>this.fields[s]).filter(Boolean);return new Le(n,this.metadata)}assign(...e){const n=e[0]instanceof Le?e[0]:Array.isArray(e[0])?new Le(e[0]):new Le(e),s=[...this.fields],a=Fa(Fa(new Map,this.metadata),n.metadata),u=n.fields.filter(h=>{const y=s.findIndex(m=>m.name===h.name);return~y?(s[y]=h.clone({metadata:Fa(Fa(new Map,s[y].metadata),h.metadata)}))&&!1:!0}),f=td(u,new Map);return new Le([...s,...u],a,new Map([...this.dictionaries,...f]))}}Le.prototype.fields=null;Le.prototype.metadata=null;Le.prototype.dictionaries=null;class Qe{static new(...e){let[n,s,a,u]=e;return e[0]&&typeof e[0]=="object"&&({name:n}=e[0],s===void 0&&(s=e[0].type),a===void 0&&(a=e[0].nullable),u===void 0&&(u=e[0].metadata)),new Qe(`${n}`,s,a,u)}constructor(e,n,s=!1,a){this.name=e,this.type=n,this.nullable=s,this.metadata=a||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...e){let[n,s,a,u]=e;return!e[0]||typeof e[0]!="object"?[n=this.name,s=this.type,a=this.nullable,u=this.metadata]=e:{name:n=this.name,type:s=this.type,nullable:a=this.nullable,metadata:u=this.metadata}=e[0],Qe.new(n,s,a,u)}}Qe.prototype.type=null;Qe.prototype.name=null;Qe.prototype.nullable=null;Qe.prototype.metadata=null;function Fa(r,e){return new Map([...r||new Map,...e||new Map])}function td(r,e=new Map){for(let n=-1,s=r.length;++n<s;){const u=r[n].type;if(le.isDictionary(u)){if(!e.has(u.id))e.set(u.id,u.dictionary);else if(e.get(u.id)!==u.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}u.children&&u.children.length>0&&td(u.children,e)}return e}var rS=Qy,iS=el;class nd{static decode(e){e=new iS(Te(e));const n=Xt.getRootAsFooter(e),s=Le.decode(n.schema(),new Map,n.version());return new sS(s,n)}static encode(e){const n=new rS,s=Le.encode(n,e.schema);Xt.startRecordBatchesVector(n,e.numRecordBatches);for(const f of[...e.recordBatches()].slice().reverse())zr.encode(n,f);const a=n.endVector();Xt.startDictionariesVector(n,e.numDictionaries);for(const f of[...e.dictionaryBatches()].slice().reverse())zr.encode(n,f);const u=n.endVector();return Xt.startFooter(n),Xt.addSchema(n,s),Xt.addVersion(n,ft.V5),Xt.addRecordBatches(n,a),Xt.addDictionaries(n,u),Xt.finishFooterBuffer(n,Xt.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(e,n=ft.V5,s,a){this.schema=e,this.version=n,s&&(this._recordBatches=s),a&&(this._dictionaryBatches=a)}*recordBatches(){for(let e,n=-1,s=this.numRecordBatches;++n<s;)(e=this.getRecordBatch(n))&&(yield e)}*dictionaryBatches(){for(let e,n=-1,s=this.numDictionaries;++n<s;)(e=this.getDictionaryBatch(n))&&(yield e)}getRecordBatch(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}getDictionaryBatch(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}}class sS extends nd{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(e,n){super(e,n.version()),this._footer=n}getRecordBatch(e){if(e>=0&&e<this.numRecordBatches){const n=this._footer.recordBatches(e);if(n)return zr.decode(n)}return null}getDictionaryBatch(e){if(e>=0&&e<this.numDictionaries){const n=this._footer.dictionaries(e);if(n)return zr.decode(n)}return null}}class zr{static decode(e){return new zr(e.metaDataLength(),e.bodyLength(),e.offset())}static encode(e,n){const{metaDataLength:s}=n,a=BigInt(n.offset),u=BigInt(n.bodyLength);return ed.createBlock(e,a,s,u)}constructor(e,n,s){this.metaDataLength=e,this.offset=ze(s),this.bodyLength=ze(n)}}const Ma=Object.freeze({done:!0,value:void 0});class Mg{tee(){return this._getDOMStream().tee()}pipe(e,n){return this._getNodeStream().pipe(e,n)}pipeTo(e,n){return this._getDOMStream().pipeTo(e,n)}pipeThrough(e,n){return this._getDOMStream().pipeThrough(e,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class oS extends Mg{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}get closed(){return this._closedPromise}cancel(e){return sr(this,void 0,void 0,function*(){yield this.return(e)})}write(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}abort(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}close(){if(this._closedPromiseResolve){const{resolvers:e}=this;for(;e.length>0;)e.shift().resolve(Ma);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(e){return iy.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)}toNodeStream(e){return iy.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)}throw(e){return sr(this,void 0,void 0,function*(){return yield this.abort(e),Ma})}return(e){return sr(this,void 0,void 0,function*(){return yield this.close(),Ma})}read(e){return sr(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return sr(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(...e){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,s)=>{this.resolvers.push({resolve:n,reject:s})}):Promise.resolve(Ma)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class Bc extends oS{write(e){if((e=Te(e)).byteLength>0)return super.write(e)}toString(e=!1){return e?Kc(this.toUint8Array(!0)):this.toUint8Array(!1).then(Kc)}toUint8Array(e=!1){return e?$n(this._values)[0]:sr(this,void 0,void 0,function*(){var n,s,a,u;const f=[];let h=0;try{for(var y=!0,m=uo(this),_;_=yield m.next(),n=_.done,!n;y=!0){u=_.value,y=!1;const O=u;f.push(O),h+=O.byteLength}}catch(O){s={error:O}}finally{try{!y&&!n&&(a=m.return)&&(yield a.call(m))}finally{if(s)throw s.error}}return $n(f,h)[0]})}}class te extends Se{compareSchemas(e,n){return e===n||n instanceof e.constructor&&this.compareManyFields(e.fields,n.fields)}compareManyFields(e,n){return e===n||Array.isArray(e)&&Array.isArray(n)&&e.length===n.length&&e.every((s,a)=>this.compareFields(s,n[a]))}compareFields(e,n){return e===n||n instanceof e.constructor&&e.name===n.name&&e.nullable===n.nullable&&this.visit(e.type,n.type)}}function Ft(r,e){return e instanceof r.constructor}function ci(r,e){return r===e||Ft(r,e)}function dr(r,e){return r===e||Ft(r,e)&&r.bitWidth===e.bitWidth&&r.isSigned===e.isSigned}function Ol(r,e){return r===e||Ft(r,e)&&r.precision===e.precision}function aS(r,e){return r===e||Ft(r,e)&&r.byteWidth===e.byteWidth}function xd(r,e){return r===e||Ft(r,e)&&r.unit===e.unit}function vo(r,e){return r===e||Ft(r,e)&&r.unit===e.unit&&r.timezone===e.timezone}function _o(r,e){return r===e||Ft(r,e)&&r.unit===e.unit&&r.bitWidth===e.bitWidth}function lS(r,e){return r===e||Ft(r,e)&&r.children.length===e.children.length&&Vr.compareManyFields(r.children,e.children)}function uS(r,e){return r===e||Ft(r,e)&&r.children.length===e.children.length&&Vr.compareManyFields(r.children,e.children)}function bd(r,e){return r===e||Ft(r,e)&&r.mode===e.mode&&r.typeIds.every((n,s)=>n===e.typeIds[s])&&Vr.compareManyFields(r.children,e.children)}function cS(r,e){return r===e||Ft(r,e)&&r.id===e.id&&r.isOrdered===e.isOrdered&&Vr.visit(r.indices,e.indices)&&Vr.visit(r.dictionary,e.dictionary)}function Od(r,e){return r===e||Ft(r,e)&&r.unit===e.unit}function wo(r,e){return r===e||Ft(r,e)&&r.unit===e.unit}function dS(r,e){return r===e||Ft(r,e)&&r.listSize===e.listSize&&r.children.length===e.children.length&&Vr.compareManyFields(r.children,e.children)}function fS(r,e){return r===e||Ft(r,e)&&r.keysSorted===e.keysSorted&&r.children.length===e.children.length&&Vr.compareManyFields(r.children,e.children)}te.prototype.visitNull=ci;te.prototype.visitBool=ci;te.prototype.visitInt=dr;te.prototype.visitInt8=dr;te.prototype.visitInt16=dr;te.prototype.visitInt32=dr;te.prototype.visitInt64=dr;te.prototype.visitUint8=dr;te.prototype.visitUint16=dr;te.prototype.visitUint32=dr;te.prototype.visitUint64=dr;te.prototype.visitFloat=Ol;te.prototype.visitFloat16=Ol;te.prototype.visitFloat32=Ol;te.prototype.visitFloat64=Ol;te.prototype.visitUtf8=ci;te.prototype.visitLargeUtf8=ci;te.prototype.visitBinary=ci;te.prototype.visitLargeBinary=ci;te.prototype.visitFixedSizeBinary=aS;te.prototype.visitDate=xd;te.prototype.visitDateDay=xd;te.prototype.visitDateMillisecond=xd;te.prototype.visitTimestamp=vo;te.prototype.visitTimestampSecond=vo;te.prototype.visitTimestampMillisecond=vo;te.prototype.visitTimestampMicrosecond=vo;te.prototype.visitTimestampNanosecond=vo;te.prototype.visitTime=_o;te.prototype.visitTimeSecond=_o;te.prototype.visitTimeMillisecond=_o;te.prototype.visitTimeMicrosecond=_o;te.prototype.visitTimeNanosecond=_o;te.prototype.visitDecimal=ci;te.prototype.visitList=lS;te.prototype.visitStruct=uS;te.prototype.visitUnion=bd;te.prototype.visitDenseUnion=bd;te.prototype.visitSparseUnion=bd;te.prototype.visitDictionary=cS;te.prototype.visitInterval=Od;te.prototype.visitIntervalDayTime=Od;te.prototype.visitIntervalYearMonth=Od;te.prototype.visitDuration=wo;te.prototype.visitDurationSecond=wo;te.prototype.visitDurationMillisecond=wo;te.prototype.visitDurationMicrosecond=wo;te.prototype.visitDurationNanosecond=wo;te.prototype.visitFixedSizeList=dS;te.prototype.visitMap=fS;const Vr=new te;function rd(r,e){return Vr.compareSchemas(r,e)}function Lc(r,e){return hS(r,e.map(n=>n.data.concat()))}function hS(r,e){const n=[...r.fields],s=[],a={numBatches:e.reduce((O,E)=>Math.max(O,E.length),0)};let u=0,f=0,h=-1;const y=e.length;let m,_=[];for(;a.numBatches-- >0;){for(f=Number.POSITIVE_INFINITY,h=-1;++h<y;)_[h]=m=e[h].shift(),f=Math.min(f,m?m.length:f);Number.isFinite(f)&&(_=pS(n,f,_,e,a),f>0&&(s[u++]=Ze({type:new Ht(n),length:f,nullCount:0,children:_.slice()})))}return[r=r.assign(n),s.map(O=>new nn(r,O))]}function pS(r,e,n,s,a){var u;const f=(e+63&-64)>>3;for(let h=-1,y=s.length;++h<y;){const m=n[h],_=m==null?void 0:m.length;if(_>=e)_===e?n[h]=m:(n[h]=m.slice(0,e),a.numBatches=Math.max(a.numBatches,s[h].unshift(m.slice(e,_-e))));else{const O=r[h];r[h]=O.clone({nullable:!0}),n[h]=(u=m==null?void 0:m._changeLengthAndBackfillNullBitmap(e))!==null&&u!==void 0?u:Ze({type:O.type,length:e,nullCount:e,nullBitmap:new Uint8Array(f)})}}return n}var Pg;class Et{constructor(...e){var n,s;if(e.length===0)return this.batches=[],this.schema=new Le([]),this._offsets=[0],this;let a,u;e[0]instanceof Le&&(a=e.shift()),e.at(-1)instanceof Uint32Array&&(u=e.pop());const f=y=>{if(y){if(y instanceof nn)return[y];if(y instanceof Et)return y.batches;if(y instanceof Ee){if(y.type instanceof Ht)return[new nn(new Le(y.type.children),y)]}else{if(Array.isArray(y))return y.flatMap(m=>f(m));if(typeof y[Symbol.iterator]=="function")return[...y].flatMap(m=>f(m));if(typeof y=="object"){const m=Object.keys(y),_=m.map(V=>new pe([y[V]])),O=a??new Le(m.map((V,Z)=>new Qe(String(V),_[Z].type,_[Z].nullable))),[,E]=Lc(O,_);return E.length===0?[new nn(y)]:E}}}return[]},h=e.flatMap(y=>f(y));if(a=(s=a??((n=h[0])===null||n===void 0?void 0:n.schema))!==null&&s!==void 0?s:new Le([]),!(a instanceof Le))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const y of h){if(!(y instanceof nn))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!rd(a,y.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=a,this.batches=h,this._offsets=u??Dg(this.data)}get data(){return this.batches.map(({data:e})=>e)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((e,n)=>e+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=Ng(this.data)),this._nullCount}isValid(e){return!1}get(e){return null}at(e){return this.get(_d(e,this.numRows))}set(e,n){}indexOf(e,n){return-1}[Symbol.iterator](){return this.batches.length>0?kd.visit(new pe(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...e){const n=this.schema,s=this.data.concat(e.flatMap(({data:a})=>a));return new Et(n,s.map(a=>new nn(n,a)))}slice(e,n){const s=this.schema;[e,n]=xg({length:this.numRows},e,n);const a=Tg(this.data,this._offsets,e,n);return new Et(s,a.map(u=>new nn(s,u)))}getChild(e){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===e))}getChildAt(e){if(e>-1&&e<this.schema.fields.length){const n=this.data.map(s=>s.children[e]);if(n.length===0){const{type:s}=this.schema.fields[e],a=Ze({type:s,length:0,nullCount:0});n.push(a._changeLengthAndBackfillNullBitmap(this.numRows))}return new pe(n)}return null}setChild(e,n){var s;return this.setChildAt((s=this.schema.fields)===null||s===void 0?void 0:s.findIndex(a=>a.name===e),n)}setChildAt(e,n){let s=this.schema,a=[...this.batches];if(e>-1&&e<this.numCols){n||(n=new pe([Ze({type:new Rr,length:this.numRows})]));const u=s.fields.slice(),f=u[e].clone({type:n.type}),h=this.schema.fields.map((y,m)=>this.getChildAt(m));[u[e],h[e]]=[f,n],[s,a]=Lc(s,h)}return new Et(s,a)}select(e){const n=this.schema.fields.reduce((s,a,u)=>s.set(a.name,u),new Map);return this.selectAt(e.map(s=>n.get(s)).filter(s=>s>-1))}selectAt(e){const n=this.schema.selectAt(e),s=this.batches.map(a=>a.selectAt(e));return new Et(n,s)}assign(e){const n=this.schema.fields,[s,a]=e.schema.fields.reduce((h,y,m)=>{const[_,O]=h,E=n.findIndex(V=>V.name===y.name);return~E?O[E]=m:_.push(m),h},[[],[]]),u=this.schema.assign(e.schema),f=[...n.map((h,y)=>[y,a[y]]).map(([h,y])=>y===void 0?this.getChildAt(h):e.getChildAt(y)),...s.map(h=>e.getChildAt(h))].filter(Boolean);return new Et(...Lc(u,f))}}Pg=Symbol.toStringTag;Et[Pg]=(r=>(r.schema=null,r.batches=[],r._offsets=new Uint32Array([0]),r._nullCount=-1,r[Symbol.isConcatSpreadable]=!0,r.isValid=wl(Id),r.get=wl(Yt.getVisitFn(I.Struct)),r.set=Cg(mn.getVisitFn(I.Struct)),r.indexOf=Ag(Sl.getVisitFn(I.Struct)),"Table"))(Et.prototype);var jg;let nn=class lo{constructor(...e){switch(e.length){case 2:{if([this.schema]=e,!(this.schema instanceof Le))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Ze({nullCount:0,type:new Ht(this.schema.fields),children:this.schema.fields.map(n=>Ze({type:n.type,nullCount:0}))})]=e,!(this.data instanceof Ee))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=_y(this.schema,this.data.children);break}case 1:{const[n]=e,{fields:s,children:a,length:u}=Object.keys(n).reduce((y,m,_)=>(y.children[_]=n[m],y.length=Math.max(y.length,n[m].length),y.fields[_]=Qe.new({name:m,type:n[m].type,nullable:!0}),y),{length:0,fields:new Array,children:new Array}),f=new Le(s),h=Ze({type:new Ht(s),length:u,children:a,nullCount:0});[this.schema,this.data]=_y(f,h.children,u);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=Rg(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(e){return this.data.getValid(e)}get(e){return Yt.visit(this.data,e)}at(e){return this.get(_d(e,this.numRows))}set(e,n){return mn.visit(this.data,e,n)}indexOf(e,n){return Sl.visit(this.data,e,n)}[Symbol.iterator](){return kd.visit(new pe([this.data]))}toArray(){return[...this]}concat(...e){return new Et(this.schema,[this,...e])}slice(e,n){const[s]=new pe([this.data]).slice(e,n).data;return new lo(this.schema,s)}getChild(e){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(s=>s.name===e))}getChildAt(e){return e>-1&&e<this.schema.fields.length?new pe([this.data.children[e]]):null}setChild(e,n){var s;return this.setChildAt((s=this.schema.fields)===null||s===void 0?void 0:s.findIndex(a=>a.name===e),n)}setChildAt(e,n){let s=this.schema,a=this.data;if(e>-1&&e<this.numCols){n||(n=new pe([Ze({type:new Rr,length:this.numRows})]));const u=s.fields.slice(),f=a.children.slice(),h=u[e].clone({type:n.type});[u[e],f[e]]=[h,n.data[0]],s=new Le(u,new Map(this.schema.metadata)),a=Ze({type:new Ht(u),children:f})}return new lo(s,a)}select(e){const n=this.schema.select(e),s=new Ht(n.fields),a=[];for(const u of e){const f=this.schema.fields.findIndex(h=>h.name===u);~f&&(a[f]=this.data.children[f])}return new lo(n,Ze({type:s,length:this.numRows,children:a}))}selectAt(e){const n=this.schema.selectAt(e),s=e.map(u=>this.data.children[u]).filter(Boolean),a=Ze({type:new Ht(n.fields),length:this.numRows,children:s});return new lo(n,a)}};jg=Symbol.toStringTag;nn[jg]=(r=>(r._nullCount=-1,r[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(nn.prototype);function _y(r,e,n=e.reduce((s,a)=>Math.max(s,a.length),0)){var s;const a=[...r.fields],u=[...e],f=(n+63&-64)>>3;for(const[h,y]of r.fields.entries()){const m=e[h];(!m||m.length!==n)&&(a[h]=y.clone({nullable:!0}),u[h]=(s=m==null?void 0:m._changeLengthAndBackfillNullBitmap(n))!==null&&s!==void 0?s:Ze({type:y.type,length:n,nullCount:n,nullBitmap:new Uint8Array(f)}))}return[r.assign(a),Ze({type:new Ht(a),length:n,children:u})]}function Rg(r,e,n=new Map){var s,a;if(((s=r==null?void 0:r.length)!==null&&s!==void 0?s:0)>0&&(r==null?void 0:r.length)===(e==null?void 0:e.length))for(let u=-1,f=r.length;++u<f;){const{type:h}=r[u],y=e[u];for(const m of[y,...((a=y==null?void 0:y.dictionary)===null||a===void 0?void 0:a.data)||[]])Rg(h.children,m==null?void 0:m.children,n);if(le.isDictionary(h)){const{id:m}=h;if(!n.has(m))y!=null&&y.dictionary&&n.set(m,y.dictionary);else if(n.get(m)!==y.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}}return n}class yS extends nn{constructor(e){const n=e.fields.map(a=>Ze({type:a.type})),s=Ze({type:new Ht(e.fields),nullCount:0,children:n});super(e,s)}}let Er=class Bn{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsMessage(e,n){return(n||new Bn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMessage(e,n){return e.setPosition(e.position()+Me),(n||new Bn).__init(e.readInt32(e.position())+e.position(),e)}version(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):ft.V1}headerType(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):at.NONE}header(e){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(e,this.bb_pos+n):null}bodyLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}customMetadata(e,n){const s=this.bb.__offset(this.bb_pos,12);return s?(n||new dt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+s)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startMessage(e){e.startObject(5)}static addVersion(e,n){e.addFieldInt16(0,n,ft.V1)}static addHeaderType(e,n){e.addFieldInt8(1,n,at.NONE)}static addHeader(e,n){e.addFieldOffset(2,n,0)}static addBodyLength(e,n){e.addFieldInt64(3,n,BigInt("0"))}static addCustomMetadata(e,n){e.addFieldOffset(4,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let s=n.length-1;s>=0;s--)e.addOffset(n[s]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static endMessage(e){return e.endObject()}static finishMessageBuffer(e,n){e.finish(n)}static finishSizePrefixedMessageBuffer(e,n){e.finish(n,void 0,!0)}static createMessage(e,n,s,a,u,f){return Bn.startMessage(e),Bn.addVersion(e,n),Bn.addHeaderType(e,s),Bn.addHeader(e,a),Bn.addBodyLength(e,u),Bn.addCustomMetadata(e,f),Bn.endMessage(e)}};class mS extends Se{visit(e,n){return e==null||n==null?void 0:super.visit(e,n)}visitNull(e,n){return fy.startNull(n),fy.endNull(n)}visitInt(e,n){return en.startInt(n),en.addBitWidth(n,e.bitWidth),en.addIsSigned(n,e.isSigned),en.endInt(n)}visitFloat(e,n){return Mn.startFloatingPoint(n),Mn.addPrecision(n,e.precision),Mn.endFloatingPoint(n)}visitBinary(e,n){return ay.startBinary(n),ay.endBinary(n)}visitLargeBinary(e,n){return uy.startLargeBinary(n),uy.endLargeBinary(n)}visitBool(e,n){return ly.startBool(n),ly.endBool(n)}visitUtf8(e,n){return hy.startUtf8(n),hy.endUtf8(n)}visitLargeUtf8(e,n){return cy.startLargeUtf8(n),cy.endLargeUtf8(n)}visitDecimal(e,n){return zi.startDecimal(n),zi.addScale(n,e.scale),zi.addPrecision(n,e.precision),zi.addBitWidth(n,e.bitWidth),zi.endDecimal(n)}visitDate(e,n){return ja.startDate(n),ja.addUnit(n,e.unit),ja.endDate(n)}visitTime(e,n){return hn.startTime(n),hn.addUnit(n,e.unit),hn.addBitWidth(n,e.bitWidth),hn.endTime(n)}visitTimestamp(e,n){const s=e.timezone&&n.createString(e.timezone)||void 0;return pn.startTimestamp(n),pn.addUnit(n,e.unit),s!==void 0&&pn.addTimezone(n,s),pn.endTimestamp(n)}visitInterval(e,n){return Pn.startInterval(n),Pn.addUnit(n,e.unit),Pn.endInterval(n)}visitDuration(e,n){return Ra.startDuration(n),Ra.addUnit(n,e.unit),Ra.endDuration(n)}visitList(e,n){return dy.startList(n),dy.endList(n)}visitStruct(e,n){return ai.startStruct_(n),ai.endStruct_(n)}visitUnion(e,n){Wt.startTypeIdsVector(n,e.typeIds.length);const s=Wt.createTypeIdsVector(n,e.typeIds);return Wt.startUnion(n),Wt.addMode(n,e.mode),Wt.addTypeIds(n,s),Wt.endUnion(n)}visitDictionary(e,n){const s=this.visit(e.indices,n);return ar.startDictionaryEncoding(n),ar.addId(n,BigInt(e.id)),ar.addIsOrdered(n,e.isOrdered),s!==void 0&&ar.addIndexType(n,s),ar.endDictionaryEncoding(n)}visitFixedSizeBinary(e,n){return Ua.startFixedSizeBinary(n),Ua.addByteWidth(n,e.byteWidth),Ua.endFixedSizeBinary(n)}visitFixedSizeList(e,n){return za.startFixedSizeList(n),za.addListSize(n,e.listSize),za.endFixedSizeList(n)}visitMap(e,n){return Va.startMap(n),Va.addKeysSorted(n,e.keysSorted),Va.endMap(n)}}const Fc=new mS;function gS(r,e=new Map){return new Le(_S(r,e),Za(r.metadata),e)}function Ug(r){return new rn(r.count,zg(r.columns),Vg(r.columns))}function vS(r){return new Wn(Ug(r.data),r.id,r.isDelta)}function _S(r,e){return(r.fields||[]).filter(Boolean).map(n=>Qe.fromJSON(n,e))}function wy(r,e){return(r.children||[]).filter(Boolean).map(n=>Qe.fromJSON(n,e))}function zg(r){return(r||[]).reduce((e,n)=>[...e,new $r(n.count,wS(n.VALIDITY)),...zg(n.children)],[])}function Vg(r,e=[]){for(let n=-1,s=(r||[]).length;++n<s;){const a=r[n];a.VALIDITY&&e.push(new Un(e.length,a.VALIDITY.length)),a.TYPE_ID&&e.push(new Un(e.length,a.TYPE_ID.length)),a.OFFSET&&e.push(new Un(e.length,a.OFFSET.length)),a.DATA&&e.push(new Un(e.length,a.DATA.length)),e=Vg(a.children,e)}return e}function wS(r){return(r||[]).reduce((e,n)=>e+ +(n===0),0)}function SS(r,e){let n,s,a,u,f,h;return!e||!(u=r.dictionary)?(f=Iy(r,wy(r,e)),a=new Qe(r.name,f,r.nullable,Za(r.metadata))):e.has(n=u.id)?(s=(s=u.indexType)?Sy(s):new Ur,h=new as(e.get(n),s,n,u.isOrdered),a=new Qe(r.name,h,r.nullable,Za(r.metadata))):(s=(s=u.indexType)?Sy(s):new Ur,e.set(n,f=Iy(r,wy(r,e))),h=new as(f,s,n,u.isOrdered),a=new Qe(r.name,h,r.nullable,Za(r.metadata))),a||null}function Za(r=[]){return new Map(r.map(({key:e,value:n})=>[e,n]))}function Sy(r){return new Kt(r.isSigned,r.bitWidth)}function Iy(r,e){const n=r.type.name;switch(n){case"NONE":return new Rr;case"null":return new Rr;case"binary":return new il;case"largebinary":return new sl;case"utf8":return new ol;case"largeutf8":return new al;case"bool":return new ll;case"list":return new pl((e||[])[0]);case"struct":return new Ht(e||[]);case"struct_":return new Ht(e||[])}switch(n){case"int":{const s=r.type;return new Kt(s.isSigned,s.bitWidth)}case"floatingpoint":{const s=r.type;return new os(vt[s.precision])}case"decimal":{const s=r.type;return new ul(s.scale,s.precision,s.bitWidth)}case"date":{const s=r.type;return new go(yn[s.unit])}case"time":{const s=r.type;return new cl(re[s.unit],s.bitWidth)}case"timestamp":{const s=r.type;return new dl(re[s.unit],s.timezone)}case"interval":{const s=r.type;return new fl(Zn[s.unit])}case"duration":{const s=r.type;return new hl(re[s.unit])}case"union":{const s=r.type,[a,...u]=(s.mode+"").toLowerCase(),f=a.toUpperCase()+u.join("");return new yl(Lt[f],s.typeIds||[],e||[])}case"fixedsizebinary":{const s=r.type;return new ml(s.byteWidth)}case"fixedsizelist":{const s=r.type;return new gl(s.listSize,(e||[])[0])}case"map":{const s=r.type;return new vl((e||[])[0],s.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var IS=Qy,kS=el;class jn{static fromJSON(e,n){const s=new jn(0,ft.V5,n);return s._createHeader=xS(e,n),s}static decode(e){e=new kS(Te(e));const n=Er.getRootAsMessage(e),s=n.bodyLength(),a=n.version(),u=n.headerType(),f=new jn(s,a,u);return f._createHeader=bS(n,u),f}static encode(e){const n=new IS;let s=-1;return e.isSchema()?s=Le.encode(n,e.header()):e.isRecordBatch()?s=rn.encode(n,e.header()):e.isDictionaryBatch()&&(s=Wn.encode(n,e.header())),Er.startMessage(n),Er.addVersion(n,ft.V5),Er.addHeader(n,s),Er.addHeaderType(n,e.headerType),Er.addBodyLength(n,BigInt(e.bodyLength)),Er.finishMessageBuffer(n,Er.endMessage(n)),n.asUint8Array()}static from(e,n=0){if(e instanceof Le)return new jn(0,ft.V5,at.Schema,e);if(e instanceof rn)return new jn(n,ft.V5,at.RecordBatch,e);if(e instanceof Wn)return new jn(n,ft.V5,at.DictionaryBatch,e);throw new Error(`Unrecognized Message header: ${e}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===at.Schema}isRecordBatch(){return this.headerType===at.RecordBatch}isDictionaryBatch(){return this.headerType===at.DictionaryBatch}constructor(e,n,s,a){this._version=n,this._headerType=s,this.body=new Uint8Array(0),a&&(this._createHeader=()=>a),this._bodyLength=ze(e)}}class rn{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(e,n,s){this._nodes=n,this._buffers=s,this._length=ze(e)}}class Wn{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(e,n,s=!1){this._data=e,this._isDelta=s,this._id=ze(n)}}class Un{constructor(e,n){this.offset=ze(e),this.length=ze(n)}}class $r{constructor(e,n){this.length=ze(e),this.nullCount=ze(n)}}function xS(r,e){return()=>{switch(e){case at.Schema:return Le.fromJSON(r);case at.RecordBatch:return rn.fromJSON(r);case at.DictionaryBatch:return Wn.fromJSON(r)}throw new Error(`Unrecognized Message type: { name: ${at[e]}, type: ${e} }`)}}function bS(r,e){return()=>{switch(e){case at.Schema:return Le.decode(r.header(new Ln),new Map,r.version());case at.RecordBatch:return rn.decode(r.header(new nr),r.version());case at.DictionaryBatch:return Wn.decode(r.header(new Ri),r.version())}throw new Error(`Unrecognized Message type: { name: ${at[e]}, type: ${e} }`)}}Qe.encode=MS;Qe.decode=LS;Qe.fromJSON=SS;Le.encode=FS;Le.decode=OS;Le.fromJSON=gS;rn.encode=PS;rn.decode=NS;rn.fromJSON=Ug;Wn.encode=jS;Wn.decode=DS;Wn.fromJSON=vS;$r.encode=RS;$r.decode=CS;Un.encode=US;Un.decode=TS;function OS(r,e=new Map,n=ft.V5){const s=BS(r,e);return new Le(s,Wa(r),e,n)}function NS(r,e=ft.V5){if(r.compression()!==null)throw new Error("Record batch compression not implemented");return new rn(r.length(),AS(r),ES(r,e))}function DS(r,e=ft.V5){return new Wn(rn.decode(r.data(),e),r.id(),r.isDelta())}function TS(r){return new Un(r.offset(),r.length())}function CS(r){return new $r(r.length(),r.nullCount())}function AS(r){const e=[];for(let n,s=-1,a=-1,u=r.nodesLength();++s<u;)(n=r.nodes(s))&&(e[++a]=$r.decode(n));return e}function ES(r,e){const n=[];for(let s,a=-1,u=-1,f=r.buffersLength();++a<f;)(s=r.buffers(a))&&(e<ft.V4&&(s.bb_pos+=8*(a+1)),n[++u]=Un.decode(s));return n}function BS(r,e){const n=[];for(let s,a=-1,u=-1,f=r.fieldsLength();++a<f;)(s=r.fields(a))&&(n[++u]=Qe.decode(s,e));return n}function ky(r,e){const n=[];for(let s,a=-1,u=-1,f=r.childrenLength();++a<f;)(s=r.children(a))&&(n[++u]=Qe.decode(s,e));return n}function LS(r,e){let n,s,a,u,f,h;return!e||!(h=r.dictionary())?(a=by(r,ky(r,e)),s=new Qe(r.name(),a,r.nullable(),Wa(r))):e.has(n=ze(h.id()))?(u=(u=h.indexType())?xy(u):new Ur,f=new as(e.get(n),u,n,h.isOrdered()),s=new Qe(r.name(),f,r.nullable(),Wa(r))):(u=(u=h.indexType())?xy(u):new Ur,e.set(n,a=by(r,ky(r,e))),f=new as(a,u,n,h.isOrdered()),s=new Qe(r.name(),f,r.nullable(),Wa(r))),s||null}function Wa(r){const e=new Map;if(r)for(let n,s,a=-1,u=Math.trunc(r.customMetadataLength());++a<u;)(n=r.customMetadata(a))&&(s=n.key())!=null&&e.set(s,n.value());return e}function xy(r){return new Kt(r.isSigned(),r.bitWidth())}function by(r,e){const n=r.typeType();switch(n){case $e.NONE:return new Rr;case $e.Null:return new Rr;case $e.Binary:return new il;case $e.LargeBinary:return new sl;case $e.Utf8:return new ol;case $e.LargeUtf8:return new al;case $e.Bool:return new ll;case $e.List:return new pl((e||[])[0]);case $e.Struct_:return new Ht(e||[])}switch(n){case $e.Int:{const s=r.type(new en);return new Kt(s.isSigned(),s.bitWidth())}case $e.FloatingPoint:{const s=r.type(new Mn);return new os(s.precision())}case $e.Decimal:{const s=r.type(new zi);return new ul(s.scale(),s.precision(),s.bitWidth())}case $e.Date:{const s=r.type(new ja);return new go(s.unit())}case $e.Time:{const s=r.type(new hn);return new cl(s.unit(),s.bitWidth())}case $e.Timestamp:{const s=r.type(new pn);return new dl(s.unit(),s.timezone())}case $e.Interval:{const s=r.type(new Pn);return new fl(s.unit())}case $e.Duration:{const s=r.type(new Ra);return new hl(s.unit())}case $e.Union:{const s=r.type(new Wt);return new yl(s.mode(),s.typeIdsArray()||[],e||[])}case $e.FixedSizeBinary:{const s=r.type(new Ua);return new ml(s.byteWidth())}case $e.FixedSizeList:{const s=r.type(new za);return new gl(s.listSize(),(e||[])[0])}case $e.Map:{const s=r.type(new Va);return new vl((e||[])[0],s.keysSorted())}}throw new Error(`Unrecognized type: "${$e[n]}" (${n})`)}function FS(r,e){const n=e.fields.map(u=>Qe.encode(r,u));Ln.startFieldsVector(r,n.length);const s=Ln.createFieldsVector(r,n),a=e.metadata&&e.metadata.size>0?Ln.createCustomMetadataVector(r,[...e.metadata].map(([u,f])=>{const h=r.createString(`${u}`),y=r.createString(`${f}`);return dt.startKeyValue(r),dt.addKey(r,h),dt.addValue(r,y),dt.endKeyValue(r)})):-1;return Ln.startSchema(r),Ln.addFields(r,s),Ln.addEndianness(r,zS?ss.Little:ss.Big),a!==-1&&Ln.addCustomMetadata(r,a),Ln.endSchema(r)}function MS(r,e){let n=-1,s=-1,a=-1;const u=e.type;let f=e.typeId;le.isDictionary(u)?(f=u.dictionary.typeId,a=Fc.visit(u,r),s=Fc.visit(u.dictionary,r)):s=Fc.visit(u,r);const h=(u.children||[]).map(_=>Qe.encode(r,_)),y=fn.createChildrenVector(r,h),m=e.metadata&&e.metadata.size>0?fn.createCustomMetadataVector(r,[...e.metadata].map(([_,O])=>{const E=r.createString(`${_}`),V=r.createString(`${O}`);return dt.startKeyValue(r),dt.addKey(r,E),dt.addValue(r,V),dt.endKeyValue(r)})):-1;return e.name&&(n=r.createString(e.name)),fn.startField(r),fn.addType(r,s),fn.addTypeType(r,f),fn.addChildren(r,y),fn.addNullable(r,!!e.nullable),n!==-1&&fn.addName(r,n),a!==-1&&fn.addDictionary(r,a),m!==-1&&fn.addCustomMetadata(r,m),fn.endField(r)}function PS(r,e){const n=e.nodes||[],s=e.buffers||[];nr.startNodesVector(r,n.length);for(const f of n.slice().reverse())$r.encode(r,f);const a=r.endVector();nr.startBuffersVector(r,s.length);for(const f of s.slice().reverse())Un.encode(r,f);const u=r.endVector();return nr.startRecordBatch(r),nr.addLength(r,BigInt(e.length)),nr.addNodes(r,a),nr.addBuffers(r,u),nr.endRecordBatch(r)}function jS(r,e){const n=rn.encode(r,e.data);return Ri.startDictionaryBatch(r),Ri.addId(r,BigInt(e.id)),Ri.addIsDelta(r,e.isDelta),Ri.addData(r,n),Ri.endDictionaryBatch(r)}function RS(r,e){return Gy.createFieldNode(r,BigInt(e.length),BigInt(e.nullCount))}function US(r,e){return qy.createBuffer(r,BigInt(e.offset),BigInt(e.length))}const zS=(()=>{const r=new ArrayBuffer(2);return new DataView(r).setInt16(0,256,!0),new Int16Array(r)[0]===256})(),id="ARROW1",Nd=new Uint8Array(id.length);for(let r=0;r<id.length;r+=1)Nd[r]=id.codePointAt(r);Nd.length;class Ge extends Se{static assemble(...e){const n=a=>a.flatMap(u=>Array.isArray(u)?n(u):u instanceof nn?u.data.children:u.data),s=new Ge;return s.visitMany(n(e)),s}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(e){if(e instanceof pe)return this.visitMany(e.data),this;const{type:n}=e;if(!le.isDictionary(n)){const{length:s}=e;if(s>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(le.isUnion(n))this.nodes.push(new $r(s,0));else{const{nullCount:a}=e;le.isNull(n)||On.call(this,a<=0?new Uint8Array(0):_l(e.offset,s,e.nullBitmap)),this.nodes.push(new $r(s,a))}}return super.visit(e)}visitNull(e){return this}visitDictionary(e){return this.visit(e.clone(e.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function On(r){const e=r.byteLength+7&-8;return this.buffers.push(r),this.bufferRegions.push(new Un(this._byteLength,e)),this._byteLength+=e,this}function VS(r){var e;const{type:n,length:s,typeIds:a,valueOffsets:u}=r;if(On.call(this,a),n.mode===Lt.Sparse)return sd.call(this,r);if(n.mode===Lt.Dense){if(r.offset<=0)return On.call(this,u),sd.call(this,r);{const f=new Int32Array(s),h=Object.create(null),y=Object.create(null);for(let m,_,O=-1;++O<s;)(m=a[O])!==void 0&&((_=h[m])===void 0&&(_=h[m]=u[O]),f[O]=u[O]-_,y[m]=((e=y[m])!==null&&e!==void 0?e:0)+1);On.call(this,f),this.visitMany(r.children.map((m,_)=>{const O=n.typeIds[_],E=h[O],V=y[O];return m.slice(E,Math.min(s,V))}))}}return this}function $S(r){let e;return r.nullCount>=r.length?On.call(this,new Uint8Array(0)):(e=r.values)instanceof Uint8Array?On.call(this,_l(r.offset,r.length,e)):On.call(this,Og(r.values))}function fr(r){return On.call(this,r.values.subarray(0,r.length*r.stride))}function Nl(r){const{length:e,values:n,valueOffsets:s}=r,a=ze(s[0]),u=ze(s[e]),f=Math.min(u-a,n.byteLength-a);return On.call(this,Ky(-a,e+1,s)),On.call(this,n.subarray(a,a+f)),this}function Dd(r){const{length:e,valueOffsets:n}=r;if(n){const{[0]:s,[e]:a}=n;return On.call(this,Ky(-s,e+1,n)),this.visit(r.children[0].slice(s,a-s))}return this.visit(r.children[0])}function sd(r){return this.visitMany(r.type.children.map((e,n)=>r.children[n]).filter(Boolean))[0]}Ge.prototype.visitBool=$S;Ge.prototype.visitInt=fr;Ge.prototype.visitFloat=fr;Ge.prototype.visitUtf8=Nl;Ge.prototype.visitLargeUtf8=Nl;Ge.prototype.visitBinary=Nl;Ge.prototype.visitLargeBinary=Nl;Ge.prototype.visitFixedSizeBinary=fr;Ge.prototype.visitDate=fr;Ge.prototype.visitTimestamp=fr;Ge.prototype.visitTime=fr;Ge.prototype.visitDecimal=fr;Ge.prototype.visitList=Dd;Ge.prototype.visitStruct=sd;Ge.prototype.visitUnion=VS;Ge.prototype.visitInterval=fr;Ge.prototype.visitDuration=fr;Ge.prototype.visitFixedSizeList=Dd;Ge.prototype.visitMap=Dd;class $g extends Mg{static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,n){throw new Error('"throughDOM" not available in this environment')}constructor(e){super(),this._position=0,this._started=!1,this._sink=new Bc,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,Zr(e)||(e={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof e.autoDestroy=="boolean"?e.autoDestroy:!0,this._writeLegacyIpcFormat=typeof e.writeLegacyIpcFormat=="boolean"?e.writeLegacyIpcFormat:!1}toString(e=!1){return this._sink.toString(e)}toUint8Array(e=!1){return this._sink.toUint8Array(e)}writeAll(e){return kl(e)?e.then(n=>this.writeAll(n)):xl(e)?Ed(this,e):Ad(this,e)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(e){return this._sink.toDOMStream(e)}toNodeStream(e){return this._sink.toNodeStream(e)}close(){return this.reset()._sink.close()}abort(e){return this.reset()._sink.abort(e)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(e=this._sink,n=null){return e===this._sink||e instanceof Bc?this._sink=e:(this._sink=new Bc,e&&Ew(e)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&Bw(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!n||!rd(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(e){let n=null;if(this._sink){if(e==null)return this.finish()&&void 0;if(e instanceof Et&&!(n=e.schema))return this.finish()&&void 0;if(e instanceof nn&&!(n=e.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!rd(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}e instanceof nn?e instanceof yS||this._writeRecordBatch(e):e instanceof Et?this.writeAll(e.batches):hd(e)&&this.writeAll(e)}_writeMessage(e,n=8){const s=n-1,a=jn.encode(e),u=a.byteLength,f=this._writeLegacyIpcFormat?4:8,h=u+f+s&~s,y=h-u-f;return e.headerType===at.RecordBatch?this._recordBatchBlocks.push(new zr(h,e.bodyLength,this._position)):e.headerType===at.DictionaryBatch&&this._dictionaryBlocks.push(new zr(h,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(h-f)),u>0&&this._write(a),this._writePadding(y)}_write(e){if(this._started){const n=Te(e);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(e){return this._writeMessage(jn.from(e))}_writeFooter(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(Nd)}_writePadding(e){return e>0?this._write(new Uint8Array(e)):this}_writeRecordBatch(e){const{byteLength:n,nodes:s,bufferRegions:a,buffers:u}=Ge.assemble(e),f=new rn(e.numRows,s,a),h=jn.from(f,n);return this._writeDictionaries(e)._writeMessage(h)._writeBodyBuffers(u)}_writeDictionaryBatch(e,n,s=!1){this._dictionaryDeltaOffsets.set(n,e.length+(this._dictionaryDeltaOffsets.get(n)||0));const{byteLength:a,nodes:u,bufferRegions:f,buffers:h}=Ge.assemble(new pe([e])),y=new rn(e.length,u,f),m=new Wn(y,n,s),_=jn.from(m,a);return this._writeMessage(_)._writeBodyBuffers(h)}_writeBodyBuffers(e){let n,s,a;for(let u=-1,f=e.length;++u<f;)(n=e[u])&&(s=n.byteLength)>0&&(this._write(n),(a=(s+7&-8)-s)>0&&this._writePadding(a));return this}_writeDictionaries(e){for(let[n,s]of e.dictionaries){let a=this._dictionaryDeltaOffsets.get(n)||0;if(a===0||(s=s==null?void 0:s.slice(a)).length>0)for(const u of s.data)this._writeDictionaryBatch(u,n,a>0),a+=u.length}return this}}class Td extends $g{static writeAll(e,n){const s=new Td(n);return kl(e)?e.then(a=>s.writeAll(a)):xl(e)?Ed(s,e):Ad(s,e)}}class Cd extends $g{static writeAll(e){const n=new Cd;return kl(e)?e.then(s=>n.writeAll(s)):xl(e)?Ed(n,e):Ad(n,e)}constructor(){super(),this._autoDestroy=!0}_writeSchema(e){return this._writeMagic()._writePadding(2)}_writeFooter(e){const n=nd.encode(new nd(e,ft.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function Ad(r,e){let n=e;e instanceof Et&&(n=e.batches,r.reset(void 0,e.schema));for(const s of n)r.write(s);return r.finish()}function Ed(r,e){return sr(this,void 0,void 0,function*(){var n,s,a,u,f,h,y;try{for(n=!0,s=uo(e);a=yield s.next(),u=a.done,!u;n=!0){y=a.value,n=!1;const m=y;r.write(m)}}catch(m){f={error:m}}finally{try{!n&&!u&&(h=s.return)&&(yield h.call(s))}finally{if(f)throw f.error}}return r.finish()})}function Zg(r,e="stream"){return(e==="stream"?Td:Cd).writeAll(r).toUint8Array(!0)}function ZS({dsl:r,codes:e,startDate:n,endDate:s,apiKey:a,ohlcDataProp:u,onProgressUpdate:f}){const[h,y]=ge.useState(null),[m,_]=ge.useState([]),[O,E]=ge.useState(null),[V,Z]=ge.useState(!0),[ye,de]=ge.useState(!1);return ge.useEffect(()=>{if(!r||!r.universe||r.universe.length===0){E("戦略に銘柄が指定されていません。"),Z(!1),f(0,"");return}if(Object.keys(u).length===0){E("OHLCデータが提供されていません。"),Z(!1),f(0,"");return}const Pe=r.universe[0],ne=u[Pe];if(!ne){E(`銘柄 ${Pe} のOHLCデータが見つかりません。`),Z(!1),f(0,"");return}Z(!0),E(null),y(null),_([]),f(55,"バックテスト準備中 (Arrowデータ変換開始)...");const Ke=Nw(),fe=new Worker(new URL("/worker.js",import.meta.url),{type:"module"});let ht;try{const tt=ne.index.map(Q=>new Date(Q).getTime()),Ne=Float64Array.from(ne.data.map(Q=>Q[0]??NaN)),Mt=Float64Array.from(ne.data.map(Q=>Q[1]??NaN)),_t=Float64Array.from(ne.data.map(Q=>Q[2]??NaN)),xt=Float64Array.from(ne.data.map(Q=>Q[3]??NaN)),Tt=Int32Array.from(ne.data.map(Q=>Q[4]??0)),ve=new Et({date:tn({data:tt,type:new Am}),open:tn({data:Ne,type:new Rn}),high:tn({data:Mt,type:new Rn}),low:tn({data:_t,type:new Rn}),close:tn({data:xt,type:new Rn}),volume:tn({data:Tt,type:new Ur})});ht=Zg(ve,"file"),f(65,"Arrowデータ変換完了。バックテスト実行中...")}catch(tt){E(`OHLCデータのArrow変換エラー: ${tt.message}`),Z(!1),f(100,"データ変換エラー"),fe.terminate();return}const et=`SELECT date, close AS equity FROM ${`ohlc_${Ke.replace(/-/g,"")}`} ORDER BY date;`,pt={initCash:r.cash||1e6,slippageBp:r.slippage_bp||3},kt={req_id:Ke,sql:et,arrow:ht,params:pt};return fe.postMessage(kt,[ht.buffer]),fe.onmessage=tt=>{const Ne=tt.data;Ne.req_id===Ke&&(Ne.type==="progress"?f(Ne.progress,Ne.message):Ne.type==="result"?(Ne.warnings&&E(Ne.warnings.join(`
`)),_(Ne.equityCurve),y(Ne.metrics),Z(!1),f(100,"バックテスト完了"),fe.terminate()):Ne.type==="error"&&(E(`バックテスト実行エラー: ${Ne.message}`),Z(!1),f(100,"バックテストエラー"),fe.terminate()))},fe.onerror=tt=>{E(`Worker初期化エラーまたは予期せぬエラー: ${tt.message}`),Z(!1),f(100,"Workerエラー"),fe.terminate()},()=>fe.terminate()},[r,u,f]),V?C.jsx("p",{children:"バックテスト実行中... (プログレスバーで詳細確認)"}):O&&!h?C.jsxs("p",{className:"text-red-600",children:["エラー: ",O]}):C.jsx("div",{className:"space-y-4"})}const WS=()=>{const[r,e]=ge.useState(null),[n,s]=ge.useState(!1),[a,u]=ge.useState(null),f=ge.useCallback(async(h,y,m)=>{s(!0),u(null),console.log("Fetching OHLC data for:",h,"from",y,"to",m);try{await new Promise(fe=>setTimeout(fe,1e3));const _=[{date:"2023-01-01",open:100,high:105,low:98,close:102,volume:1e4},{date:"2023-01-02",open:102,high:108,low:100,close:105,volume:12e3},{date:"2023-01-03",open:105,high:106,low:101,close:103,volume:11e3}];e(_);const O=_.map(fe=>Date.parse(fe.date)),E=_.map(fe=>fe.open),V=_.map(fe=>fe.high),Z=_.map(fe=>fe.low),ye=_.map(fe=>fe.close),de=_.map(fe=>fe.volume),Pe=new Et({date:tn({data:O,type:new Am}),open:tn({data:E,type:new Rn}),high:tn({data:V,type:new Rn}),low:tn({data:Z,type:new Rn}),close:tn({data:ye,type:new Rn}),volume:tn({data:de,type:new Ur})}),ne=Zg(Pe,"file");s(!1);const Ke=new ArrayBuffer(ne.byteLength);return new Uint8Array(Ke).set(ne),Ke}catch(_){return console.error("Failed to fetch or process OHLC data:",_),u(_),e(null),s(!1),null}},[]);return{ohlcData:r,isLoading:n,error:a,triggerRefetch:f}};function HS({onSubmit:r}){const[e,n]=ge.useState(""),[s,a]=ge.useState(["7203.T"]),u=new Date,f=new Date(u);f.setDate(u.getDate()-12*7);const h=f.toISOString().split("T")[0],y=new Date(f);y.setFullYear(f.getFullYear()-2);const m=y.toISOString().split("T")[0],[_,O]=ge.useState(m),[E,V]=ge.useState(h);WS();const Z=()=>{let ne=e.trim().toUpperCase();if(ne){if(/^\d{4}$/.test(ne)&&(ne=`${ne}.T`),!/^\d{4}\.T$/.test(ne)){alert("銘柄コードは4桁の数字、または 4桁の数字+.T の形式で入力してください（例: 7203 または 7203.T）");return}if(s.includes(ne)){alert("この銘柄は既に追加されています");return}a(Ke=>[...Ke,ne]),n("")}},ye=ne=>{a(Ke=>Ke.filter(fe=>fe!==ne))},de=ne=>{ne.key==="Enter"&&(ne.preventDefault(),Z())},Pe=ne=>{if(ne.preventDefault(),s.length===0){alert("少なくとも1つの銘柄を選択してください。");return}if(new Date(_)>=new Date(E)){alert("開始日は終了日より前の日付を選択してください。");return}r(s,_,E)};return C.jsxs("form",{onSubmit:Pe,className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("h3",{className:"font-medium mb-2",children:"銘柄選択"}),C.jsxs("div",{className:"flex space-x-2",children:[C.jsx("input",{type:"text",value:e,onChange:ne=>n(ne.target.value),onKeyPress:de,placeholder:"銘柄コード（例: 7203.T）",className:"border p-2 flex-1 rounded"}),C.jsx("button",{type:"button",onClick:Z,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"追加"})]}),s.length>0&&C.jsx("div",{className:"border rounded p-2 mt-2",children:C.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(ne=>C.jsxs("span",{className:"inline-flex items-center bg-gray-100 px-2 py-1 rounded",children:[ne,C.jsx("button",{type:"button",onClick:()=>ye(ne),className:"ml-2 text-gray-500 hover:text-red-500",children:"×"})]},ne))})})]}),C.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{htmlFor:"startDate",className:"block font-medium mb-1",children:"開始日:"}),C.jsx("input",{type:"date",id:"startDate",value:_,onChange:ne=>O(ne.target.value),className:"border p-2 w-full rounded",required:!0})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"endDate",className:"block font-medium mb-1",children:"終了日:"}),C.jsx("input",{type:"date",id:"endDate",value:E,onChange:ne=>V(ne.target.value),className:"border p-2 w-full rounded",required:!0})]})]}),C.jsx("div",{className:"flex justify-end",children:C.jsx("button",{type:"submit",className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",disabled:s.length===0,children:"データ取得開始"})})]})}function KS({progress:r,message:e}){return r<=0||r>=100?null:C.jsxs("div",{className:"fixed top-0 left-0 w-full z-50",children:[C.jsxs("div",{className:"bg-blue-100 text-blue-800 text-sm px-4 py-1 flex items-center",children:[C.jsx("div",{className:"flex-1 truncate",children:e}),C.jsxs("div",{className:"w-32 text-right",children:[r.toFixed(0),"%"]})]}),C.jsx("div",{className:"w-full bg-blue-200 h-1",children:C.jsx("div",{className:"bg-blue-600 h-1 transition-all",style:{width:`${r}%`}})})]})}const od=(r,e)=>e.some(n=>r instanceof n);let Oy,Ny;function YS(){return Oy||(Oy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QS(){return Ny||(Ny=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ad=new WeakMap,Mc=new WeakMap,Dl=new WeakMap;function JS(r){const e=new Promise((n,s)=>{const a=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(li(r.result)),a()},f=()=>{s(r.error),a()};r.addEventListener("success",u),r.addEventListener("error",f)});return Dl.set(e,r),e}function qS(r){if(ad.has(r))return;const e=new Promise((n,s)=>{const a=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),a()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});ad.set(r,e)}let ld={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return ad.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return li(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Wg(r){ld=r(ld)}function GS(r){return QS().includes(r)?function(...e){return r.apply(ud(this),e),li(this.request)}:function(...e){return li(r.apply(ud(this),e))}}function XS(r){return typeof r=="function"?GS(r):(r instanceof IDBTransaction&&qS(r),od(r,YS())?new Proxy(r,ld):r)}function li(r){if(r instanceof IDBRequest)return JS(r);if(Mc.has(r))return Mc.get(r);const e=XS(r);return e!==r&&(Mc.set(r,e),Dl.set(e,r)),e}const ud=r=>Dl.get(r);function eI(r,e,{blocked:n,upgrade:s,blocking:a,terminated:u}={}){const f=indexedDB.open(r,e),h=li(f);return s&&f.addEventListener("upgradeneeded",y=>{s(li(f.result),y.oldVersion,y.newVersion,li(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),h.then(y=>{u&&y.addEventListener("close",()=>u()),a&&y.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const tI=["get","getKey","getAll","getAllKeys","count"],nI=["put","add","delete","clear"],Pc=new Map;function Dy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Pc.get(e))return Pc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=nI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||tI.includes(n)))return;const u=async function(f,...h){const y=this.transaction(f,a?"readwrite":"readonly");let m=y.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),a&&y.done]))[0]};return Pc.set(e,u),u}Wg(r=>({...r,get:(e,n,s)=>Dy(e,n)||r.get(e,n,s),has:(e,n)=>!!Dy(e,n)||r.has(e,n)}));const rI=["continue","continuePrimaryKey","advance"],Ty={},cd=new WeakMap,Hg=new WeakMap,iI={get(r,e){if(!rI.includes(e))return r[e];let n=Ty[e];return n||(n=Ty[e]=function(...s){cd.set(this,Hg.get(this)[e](...s))}),n}};async function*sI(...r){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...r)),!e)return;e=e;const n=new Proxy(e,iI);for(Hg.set(n,e),Dl.set(n,ud(e));e;)yield n,e=await(cd.get(n)||e.continue()),cd.delete(n)}function Cy(r,e){return e===Symbol.asyncIterator&&od(r,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&od(r,[IDBIndex,IDBObjectStore])}Wg(r=>({...r,get(e,n,s){return Cy(e,n)?sI:r.get(e,n,s)},has(e,n){return Cy(e,n)||r.has(e,n)}}));const oI="ohlc-cache",Xi="frames",Ay=3;async function aI(){return eI(oI,Ay,{upgrade(r,e){e<Ay&&r.objectStoreNames.contains(Xi)&&r.deleteObjectStore(Xi),r.createObjectStore(Xi)}})}async function Kg(r){if(!r)return console.error("J-Quants Refresh Token is missing for ID token refresh."),null;console.log("[refreshJQuantsIdTokenLogic] Attempting to refresh ID token...");const e=new URL("/jquants-api/v1/token/auth_refresh",window.location.origin);e.searchParams.set("refreshtoken",r);try{const n=await fetch(e.toString(),{method:"POST"}),s=await n.text();if(!n.ok)throw new Error(`Refresh token API call failed: ${n.status} ${n.statusText}. Body: ${s}`);const a=JSON.parse(s);if(!a.idToken)throw new Error("idToken not found in refresh response.");return{newIdToken:a.idToken,newRefreshToken:a.refreshToken}}catch(n){return console.error("[refreshJQuantsIdTokenLogic] Error during token refresh:",n),null}}async function Ey(r,e,n,s){if(console.log(`[fetchFromAPI] Attempting fetch for ${e} with idToken (first 10 chars): ${r?r.substring(0,10):"MISSING"}`),!r)throw new Error("J-Quants ID Token is missing for API call.");try{const a=new URL("/jquants-api/v1/prices/daily_quotes",window.location.origin),u=e.replace(".T","");a.searchParams.set("code",u),a.searchParams.set("from",n),a.searchParams.set("to",s);const f=await fetch(a.toString(),{headers:{Authorization:`Bearer ${r}`}}),h=await f.text();if(f.status===401){console.warn(`[fetchFromAPI] Received 401 Unauthorized for ${e}. Token might be expired.`);const E=new Error("IDTokenExpiredOrInvalid");throw E.status=401,E}if(!f.ok)throw new Error(`J-Quants API Error for ${e}: ${f.status} ${f.statusText}. Response: ${h}`);const y=JSON.parse(h);if(!y.daily_quotes)return console.warn(`[fetchFromAPI] No daily_quotes in response for ${e}.`),null;const m=y.daily_quotes;if(m.length===0)return console.log(`[fetchFromAPI] Empty daily_quotes for ${e}.`),null;const _=[],O=[];return m.forEach(E=>{_.push(E.Date),O.push([parseFloat(E.Open),parseFloat(E.High),parseFloat(E.Low),parseFloat(E.Close),parseFloat(E.Volume)])}),{code:e,columns:["Open","High","Low","Close","Volume"],index:_,data:O}}catch(a){throw console.error(`[fetchFromAPI] Error during fetch for ${e}:`,a),a}}async function lI(r,e,n,s,a,u){const f=await aI(),h=`${s}_${a}_${u}`;try{const y=await f.get(Xi,h);if(y)return y}catch(y){console.warn("IndexedDB cache read error:",y)}try{const y=await Ey(r,s,a,u);return y&&await f.put(Xi,y,h).catch(m=>console.warn("DB write error:",m)),y}catch(y){if(y.status===401||y.message&&y.message.includes("IDTokenExpiredOrInvalid")){console.warn("Attempting token refresh due to 401 or token missing error...");const m=await Kg(e);if(m&&m.newIdToken){n(m.newIdToken,m.newRefreshToken),console.log("Retrying fetchOHLC with new ID token...");const _=await Ey(m.newIdToken,s,a,u);return _&&await f.put(Xi,_,h).catch(O=>console.warn("DB write error:",O)),_}else throw console.error("Token refresh failed. Cannot fetch data."),new Error("J-Quants token refresh failed. Please check refresh token and try again.")}else throw console.error("Unhandled error in fetchOHLC:",y),y}}async function uI(r){console.warn("convertOhlcToArrow is a placeholder and needs proper implementation.");const e=JSON.stringify(r);return new TextEncoder().encode(e)}function cI(){var xt,Tt;const{keys:r,updateKeys:e}=Ly(),[n,s]=ge.useState(!1),[a,u]=ge.useState({value:0,message:""}),[f,h]=ge.useState(null),[y,m]=ge.useState(null),[_,O]=ge.useState(null),[E,V]=ge.useState(!1),[Z,ye]=ge.useState(null),[de,Pe]=ge.useState({}),[ne,Ke]=ge.useState(!1),[fe,ht]=ge.useState(null),[it,et]=ge.useState(null),[pt,kt]=ge.useState(null);ge.useEffect(()=>{r.jquants_refresh||s(!0)},[r.jquants_refresh]);const tt=ge.useCallback((ve,Q)=>{const F={jquants_id:ve};Q&&(F.jquants_refresh=Q),e(F),console.log("App: J-Quants tokens updated in state and session storage.")},[e]),Ne=ge.useCallback((ve,Q)=>{u({value:ve,message:Q})},[]),Mt=ge.useCallback(async(ve,Q,F)=>{if(!r.jquants_refresh){alert("J-Quants Refresh Tokenが設定されていません。設定画面を開いてください。"),s(!0);return}let Y=r.jquants_id;if(!Y){u({value:1,message:"IDトークン取得中... (初回リフレッシュ)"});const v=await Kg(r.jquants_refresh);if(v&&v.newIdToken)tt(v.newIdToken,v.newRefreshToken),Y=v.newIdToken;else{ye("J-Quants IDトークンの取得に失敗しました。Refresh Tokenを確認してください。"),u({value:100,message:"IDトークン取得失敗"}),s(!0);return}}h({codes:ve,startDate:Q,endDate:F}),V(!0),ye(null),Pe({}),u({value:5,message:"データ取得設定完了。OHLCデータ取得開始..."});try{const v=ve.map((he,Ae)=>lI(Y,r.jquants_refresh,tt,he,Q,F).then(be=>(Ne(5+(Ae+1)/ve.length*45,`OHLCデータ取得中: ${he} (${Ae+1}/${ve.length})`),be))),N=await Promise.all(v);Ne(50,"全OHLCデータ取得完了。処理中...");const K={};let we=0;if(N.forEach((he,Ae)=>{he&&(K[ve[Ae]]=he,we++)}),we===0){ye("指定された全ての銘柄・期間のデータを取得できませんでした。APIキーや銘柄コード、期間を確認してください。"),Ne(100,"データ取得失敗"),V(!1);return}else we<ve.length&&ye(`一部の銘柄のデータ取得に失敗しました。取得成功: ${we}/${ve.length}`);Pe(K),Ne(55,"データ取得・処理完了。戦略定義待機中..."),y&&(Ne(70,"戦略定義済み。バックテスト開始..."),O({dsl:y,codes:Object.keys(K),startDate:Q,endDate:F}))}catch(v){console.error("Data fetching process error:",v),ye(`データ取得プロセスエラー: ${v.message||String(v)}`),Ne(100,"データ取得中にエラー発生")}finally{V(!1)}},[r,tt,y,Ne]),_t=ge.useCallback(ve=>{m(ve),Ke(!0),Ne(60,"戦略検証完了。バックテスト準備中..."),f&&Object.keys(de).length>0&&(Ne(70,"データ取得済み。バックテスト開始..."),O({dsl:ve,codes:Object.keys(de),startDate:f.startDate,endDate:f.endDate}))},[f,de,Ne]);return ge.useEffect(()=>{const ve=new Worker(new URL("/worker.js",import.meta.url),{type:"module"});return ht(ve),ve.onmessage=Q=>{const{data:F}=Q;F.type==="result"?(et(F),kt(null),u({value:100,message:"バックテスト完了"})):F.type==="progress"?u({value:F.progress,message:F.message||""}):F.type==="error"&&(kt(F.message),et(null),u({value:100,message:`エラー: ${F.message}`}))},ve.onerror=Q=>{console.error("Worker error:",Q),kt(`Worker Error: ${Q.message}`),et(null),u({value:100,message:"Workerで致命的なエラーが発生しました。"})},()=>{ve.terminate(),ht(null)}},[]),ge.useEffect(()=>{_&&fe&&Object.keys(de).length>0&&(et(null),kt(null),u({value:75,message:"バックテスト実行準備中...Arrow変換開始"}),uI(de).then(ve=>{if(!_)return;u({value:80,message:"Arrow変換完了。Workerへ送信中..."});const Q={req_id:crypto.randomUUID(),sql:"",arrow:ve,params:{initCash:_.dsl.cash||1e6,slippageBp:_.dsl.slippage_bp||3}};console.log("Sending request to worker:",Q),fe.postMessage(Q,[Q.arrow.buffer]),u({value:85,message:"バックテスト実行中..."})}).catch(ve=>{console.error("Error converting data to Arrow or posting to worker:",ve),kt("データ変換またはWorkerへの送信中にエラー: "+ve.message),u({value:100,message:"エラーが発生しました。"})}))},[_,fe,de]),C.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[C.jsx(KS,{progress:a.value,message:a.message}),C.jsxs("header",{className:"flex justify-between items-center py-2 border-b mb-4",children:[C.jsx("h1",{className:"text-2xl font-bold",children:"日本株クライアントサイド・バックテスト"}),C.jsx("button",{onClick:()=>s(!0),className:"px-3 py-2 border rounded text-sm hover:bg-gray-100",children:"APIキー設定"})]}),C.jsx(n_,{isOpen:n,onClose:()=>s(!1)}),!r.jquants_refresh&&!n&&C.jsx("div",{className:"p-4 bg-yellow-100 text-yellow-800 rounded",children:"J-Quants Refresh Tokenが設定されていません。右上の「APIキー設定」からキーを登録してください。"}),r.jquants_refresh&&C.jsxs(C.Fragment,{children:[C.jsxs("section",{className:"space-y-4",children:[C.jsx("h2",{className:"text-xl font-semibold",children:"1. 銘柄・期間の選択"}),f?C.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[C.jsxs("div",{className:"flex justify-between items-start",children:[C.jsxs("div",{children:[C.jsx("p",{className:"font-medium",children:"選択済み:"}),C.jsxs("p",{children:["銘柄: ",f.codes.join(", ")]}),C.jsxs("p",{children:["期間: ",f.startDate," 〜 ",f.endDate]})]}),C.jsx("button",{onClick:()=>{h(null),Pe({}),O(null),m(null),u({value:0,message:""})},className:"text-blue-600 hover:text-blue-800",children:"変更"})]}),E&&C.jsxs("p",{className:"mt-2",children:["データ取得中..."," ",a.message.includes("OHLCデータ取得中")?a.message.split(": ")[1]:""]}),Z&&C.jsxs("p",{className:"mt-2 text-red-600",children:["エラー: ",Z]}),!E&&!Z&&Object.keys(de).length>0&&C.jsxs("p",{className:"mt-2 text-green-600",children:["✓ データ取得完了 (",Object.keys(de).length,"/",((xt=f==null?void 0:f.codes)==null?void 0:xt.length)||0,"銘柄)",Object.keys(de).length<(((Tt=f==null?void 0:f.codes)==null?void 0:Tt.length)||0)&&C.jsx("span",{className:"text-yellow-600 ml-2",children:"一部銘柄の取得に失敗"})]})]}):C.jsx(HS,{onSubmit:Mt})]}),C.jsxs("section",{className:"space-y-4",children:[C.jsx("h2",{className:"text-xl font-semibold",children:"2. 戦略の定義"}),C.jsx(Iw,{onStrategyValidate:_t,initialDsl:y}),ne&&y&&C.jsxs("div",{className:"mt-4 p-3 bg-gray-100 rounded",children:[C.jsx("h3",{className:"font-semibold",children:"検証済みDSL:"}),C.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:JSON.stringify(y,null,2)})]})]}),(_||it||pt)&&C.jsxs("section",{className:"space-y-4",children:[C.jsx("h2",{className:"text-xl font-semibold",children:"3. バックテスト結果"}),it&&C.jsx(ZS,{results:it}),pt&&C.jsxs("div",{className:"p-4 bg-red-100 text-red-700 rounded",children:[C.jsx("p",{className:"font-bold",children:"エラー:"}),C.jsx("p",{children:pt})]})]})]})]})}t_.createRoot(document.getElementById("root")).render(C.jsx(Y0.StrictMode,{children:C.jsx(cI,{})}));
